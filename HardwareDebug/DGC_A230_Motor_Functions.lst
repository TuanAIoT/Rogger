   1                             	r8	=	0xffef0
   2                             	r16	=	0xffee8
   3                             	r24	=	0xffee0
   4                             	r9	=	0xffef1
   5                             	r17	=	0xffee9
   6                             	r25	=	0xffee1
   7                             	r10	=	0xffef2
   8                             	r18	=	0xffeea
   9                             	r26	=	0xffee2
  10                             	r11	=	0xffef3
  11                             	r19	=	0xffeeb
  12                             	r27	=	0xffee3
  13                             	r12	=	0xffef4
  14                             	r20	=	0xffeec
  15                             	r28	=	0xffee4
  16                             	r13	=	0xffef5
  17                             	r21	=	0xffeed
  18                             	r29	=	0xffee5
  19                             	r14	=	0xffef6
  20                             	r22	=	0xffeee
  21                             	r30	=	0xffee6
  22                             	r15	=	0xffef7
  23                             	r23	=	0xffeef
  24                             	r31	=	0xffee7
  25                             	MDUC	=	0xf00e8
  26                             	MDAL	=	0xffff0
  27                             	MDAH	=	0xffff2
  28                             	MDBL	=	0xffff6
  29                             	MDBH	=	0xffff4
  30                             	MDCL	=	0xf00e0
  31                             	MDCH	=	0xf00e2
  32                             	.text
  33                             	.Ltext0:
  34                             		.comm	_M1_Time_T1,2,2
  35                             		.comm	_M1_Time_T2,2,2
  36                             		.comm	_M1_Time_T3,2,2
  37                             		.comm	_M1_Time_T4,2,2
  38                             		.comm	_M1_Time_T5,2,2
  39                             		.comm	_M2_Time_T1,2,2
  40                             		.comm	_M2_Time_T2,2,2
  41                             		.comm	_M2_Time_T3,2,2
  42                             		.comm	_M2_Time_T4,2,2
  43                             		.comm	_M2_Time_T5,2,2
  44                             		.comm	_Flash_Timer_Counter,1,1
  45                             		.comm	_Pre_Flash_Type,1,1
  46                             		.comm	_Flash_Frequency_Config,1,1
  47                             		.global	_Flash_Enable
  48                             		.section	.bss.Flash_Enable,"aw",@nobits
  51                             	_Flash_Enable:
  52 0000 00                      		.zero	1
  53                             		.global	_Machine_State
  54                             		.section	.bss.Machine_State,"aw",@nobits
  57                             	_Machine_State:
  58 0000 00                      		.zero	1
  59                             		.global	_Braking_Time_Enable
  60                             		.section	.bss.Braking_Time_Enable,"aw",@nobits
  63                             	_Braking_Time_Enable:
  64 0000 00                      		.zero	1
  65                             		.global	_Disable_Time_Enable
  66                             		.section	.bss.Disable_Time_Enable,"aw",@nobits
  69                             	_Disable_Time_Enable:
  70 0000 00                      		.zero	1
  71                             		.section	.text.Motor1_Disable,"ax",@progbits
  72                             		.global	_Motor1_Disable
  74                             	_Motor1_Disable:
  75                             	.LFB0:
  76                             		.file 1 "../DGC_A230_Functions/DGC_A230_Motor_Functions.c"
   1:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** /*
   2:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****  * DGC_A230_Motor_Functions.c
   3:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****  *
   4:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****  *  Created on: Nov 22, 2023
   5:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****  *      Author: Mr. Han
   6:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****  */
   7:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
   8:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** #include "r_cg_macrodriver.h"
   9:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** #include "r_cg_userdefine.h"
  10:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  11:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** #include "string.h"
  12:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** #include <DGC_A230_Define.h>
  13:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** #include <Common.h>
  14:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  15:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint16_t M1_Torque_Setting, M2_Torque_Setting;
  16:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t	M1_Timestamp, M2_Timestamp;
  17:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint16_t Torque_Inc, Torque_Dec;
  18:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  19:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** uint16_t M1_Time_T1, M1_Time_T2, M1_Time_T3, M1_Time_T4, M1_Time_T5;
  20:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** uint16_t M2_Time_T1, M2_Time_T2, M2_Time_T3, M2_Time_T4, M2_Time_T5;
  21:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  22:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t Leaf_No1_State, Leaf_No2_State;
  23:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern struct Device_Config_Parameters CFG_parameter;
  24:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint16_t Tick_Count, M1_Tick_Count, M2_Tick_Count, Brake_Tick_Count, Disable_Tick_Count;
  25:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint16_t M1_Time_Position, M2_Time_Position;				// Gate position in time
  26:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint16_t M1_Last_Time_Position, M2_Last_Time_Position;		// Last Gate Position in time
  27:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  28:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t Power_failure;
  29:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern char Parameter_Name[2];
  30:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern char Parameter_Value[2];
  31:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t	HMI_Flash_Count;
  32:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t Mask;
  33:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t HMI_Flash_Enable;
  34:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  35:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t Display_Mode;
  36:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  37:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** uint8_t	Flash_Timer_Counter, Pre_Flash_Type, Flash_Frequency_Config, Flash_Enable = 0;
  38:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** extern uint8_t Flash_Frequency_Count;
  39:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  40:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** uint8_t Machine_State = MACHINE_STATE_STOP;
  41:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** uint8_t Braking_Time_Enable = 0x00, Disable_Time_Enable = 0x00;
  42:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  43:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor1_Disable(void)
  44:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
  77                             		.loc 1 44 0
  45:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_FF = 0;
  78                             		.loc 1 45 0
  79 0000 C9 F0 02 FF             		movw	r8, #-254
  80 0004 AD F0                   		movw	ax, r8
  81 0006 BD F4                   		movw	r12, ax
  82 0008 FA F4                   		movw	hl, r12
  83 000a 8B                      		mov	a, [hl]
  84 000b 9D F2                   		mov	r10, a
  85 000d 5A F2 DF                		and	r10, #-33
  86 0010 AD F0                   		movw	ax, r8
  87 0012 EA F4                   		movw	de, r12
  88 0014 8D F2                   		mov	a, r10
  89 0016 99                      		mov	[de], a
  46:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_RR = 0;
  90                             		.loc 1 46 0
  91 0017 C9 F0 02 FF             		movw	r8, #-254
  92 001b AD F0                   		movw	ax, r8
  93 001d BD F4                   		movw	r12, ax
  94 001f FA F4                   		movw	hl, r12
  95 0021 8B                      		mov	a, [hl]
  96 0022 9D F2                   		mov	r10, a
  97 0024 5A F2 BF                		and	r10, #-65
  98 0027 AD F0                   		movw	ax, r8
  99 0029 EA F4                   		movw	de, r12
 100 002b 8D F2                   		mov	a, r10
 101 002d 99                      		mov	[de], a
  47:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(10);
  48:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M1_PWM = 1;
  49:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 102                             		.loc 1 49 0
 103 002e D7                      		ret
 104                             	.LFE0:
 106                             		.section	.text.Motor1_Open_Enable,"ax",@progbits
 107                             		.global	_Motor1_Open_Enable
 109                             	_Motor1_Open_Enable:
 110                             	.LFB1:
  50:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  51:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor1_Open_Enable(void)
  52:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 111                             		.loc 1 52 0
  53:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_FF = 1;
 112                             		.loc 1 53 0
 113 0000 C9 F0 02 FF             		movw	r8, #-254
 114 0004 AD F0                   		movw	ax, r8
 115 0006 BD F4                   		movw	r12, ax
 116 0008 FA F4                   		movw	hl, r12
 117 000a 8B                      		mov	a, [hl]
 118 000b 9D F2                   		mov	r10, a
 119 000d 6A F2 20                		or	r10, #32
 120 0010 AD F0                   		movw	ax, r8
 121 0012 EA F4                   		movw	de, r12
 122 0014 8D F2                   		mov	a, r10
 123 0016 99                      		mov	[de], a
  54:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(20);
  55:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 124                             		.loc 1 55 0
 125 0017 D7                      		ret
 126                             	.LFE1:
 128                             		.section	.text.Motor1_Close_Enable,"ax",@progbits
 129                             		.global	_Motor1_Close_Enable
 131                             	_Motor1_Close_Enable:
 132                             	.LFB2:
  56:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  57:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor1_Close_Enable(void)
  58:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 133                             		.loc 1 58 0
  59:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_RR = 1;
 134                             		.loc 1 59 0
 135 0000 C9 F0 02 FF             		movw	r8, #-254
 136 0004 AD F0                   		movw	ax, r8
 137 0006 BD F4                   		movw	r12, ax
 138 0008 FA F4                   		movw	hl, r12
 139 000a 8B                      		mov	a, [hl]
 140 000b 9D F2                   		mov	r10, a
 141 000d 6A F2 40                		or	r10, #64
 142 0010 AD F0                   		movw	ax, r8
 143 0012 EA F4                   		movw	de, r12
 144 0014 8D F2                   		mov	a, r10
 145 0016 99                      		mov	[de], a
  60:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(20);
  61:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 146                             		.loc 1 61 0
 147 0017 D7                      		ret
 148                             	.LFE2:
 150                             		.section	.text.Motor2_Disable,"ax",@progbits
 151                             		.global	_Motor2_Disable
 153                             	_Motor2_Disable:
 154                             	.LFB3:
  62:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  63:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor2_Disable(void)
  64:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 155                             		.loc 1 64 0
  65:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_FF = 0;
 156                             		.loc 1 65 0
 157 0000 C9 F0 02 FF             		movw	r8, #-254
 158 0004 AD F0                   		movw	ax, r8
 159 0006 BD F4                   		movw	r12, ax
 160 0008 FA F4                   		movw	hl, r12
 161 000a 8B                      		mov	a, [hl]
 162 000b 9D F2                   		mov	r10, a
 163 000d 5A F2 F7                		and	r10, #-9
 164 0010 AD F0                   		movw	ax, r8
 165 0012 EA F4                   		movw	de, r12
 166 0014 8D F2                   		mov	a, r10
 167 0016 99                      		mov	[de], a
  66:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_RR = 0;
 168                             		.loc 1 66 0
 169 0017 C9 F0 02 FF             		movw	r8, #-254
 170 001b AD F0                   		movw	ax, r8
 171 001d BD F4                   		movw	r12, ax
 172 001f FA F4                   		movw	hl, r12
 173 0021 8B                      		mov	a, [hl]
 174 0022 9D F2                   		mov	r10, a
 175 0024 5A F2 EF                		and	r10, #-17
 176 0027 AD F0                   		movw	ax, r8
 177 0029 EA F4                   		movw	de, r12
 178 002b 8D F2                   		mov	a, r10
 179 002d 99                      		mov	[de], a
  67:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(10);
  68:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M2_PWM = 1;
  69:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 180                             		.loc 1 69 0
 181 002e D7                      		ret
 182                             	.LFE3:
 184                             		.section	.text.Motor2_Open_Enable,"ax",@progbits
 185                             		.global	_Motor2_Open_Enable
 187                             	_Motor2_Open_Enable:
 188                             	.LFB4:
  70:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  71:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor2_Open_Enable(void)
  72:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 189                             		.loc 1 72 0
  73:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_FF = 1;
 190                             		.loc 1 73 0
 191 0000 C9 F0 02 FF             		movw	r8, #-254
 192 0004 AD F0                   		movw	ax, r8
 193 0006 BD F4                   		movw	r12, ax
 194 0008 FA F4                   		movw	hl, r12
 195 000a 8B                      		mov	a, [hl]
 196 000b 9D F2                   		mov	r10, a
 197 000d 6A F2 08                		or	r10, #8
 198 0010 AD F0                   		movw	ax, r8
 199 0012 EA F4                   		movw	de, r12
 200 0014 8D F2                   		mov	a, r10
 201 0016 99                      		mov	[de], a
  74:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(20);
  75:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 202                             		.loc 1 75 0
 203 0017 D7                      		ret
 204                             	.LFE4:
 206                             		.section	.text.Motor2_Close_Enable,"ax",@progbits
 207                             		.global	_Motor2_Close_Enable
 209                             	_Motor2_Close_Enable:
 210                             	.LFB5:
  76:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  77:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Motor2_Close_Enable(void)
  78:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 211                             		.loc 1 78 0
  79:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_RR = 1;
 212                             		.loc 1 79 0
 213 0000 C9 F0 02 FF             		movw	r8, #-254
 214 0004 AD F0                   		movw	ax, r8
 215 0006 BD F4                   		movw	r12, ax
 216 0008 FA F4                   		movw	hl, r12
 217 000a 8B                      		mov	a, [hl]
 218 000b 9D F2                   		mov	r10, a
 219 000d 6A F2 10                		or	r10, #16
 220 0010 AD F0                   		movw	ax, r8
 221 0012 EA F4                   		movw	de, r12
 222 0014 8D F2                   		mov	a, r10
 223 0016 99                      		mov	[de], a
  80:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	delay_ms(20);
  81:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 224                             		.loc 1 81 0
 225 0017 D7                      		ret
 226                             	.LFE5:
 228                             		.section	.text.Calculate_Torque_Parameter,"ax",@progbits
 229                             		.global	_Calculate_Torque_Parameter
 231                             	_Calculate_Torque_Parameter:
 232                             	.LFB6:
  82:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  83:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Calculate_Torque_Parameter (void)
  84:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 233                             		.loc 1 84 0
  85:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Torque_Inc = 0x0000;
 234                             		.loc 1 85 0
 235 0000 F6                      		clrw	ax
 236 0001 BF 00 00                		movw	!_Torque_Inc, ax
  86:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
  87:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if(CFG_parameter.Motor_Start_Time > 0)
 237                             		.loc 1 87 0
 238 0004 AF 00 00                		movw	ax, !_CFG_parameter+4
 239 0007 BD F0                   		movw	r8, ax
 240 0009 44 00 00                		cmpw	ax, #0
 241 000c 61 F8                   		 sknz
 242 000e EC AA 00 00             		 br	!!.L8
  88:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
  89:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Torque_Setting = TORQUE_LEVEL_1;
 243                             		.loc 1 89 0
 244 0012 30 EF D2                		movw	ax, #-11537
 245 0015 BF 00 00                		movw	!_M1_Torque_Setting, ax
  90:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Torque_Setting = TORQUE_LEVEL_1;
 246                             		.loc 1 90 0
 247 0018 30 EF D2                		movw	ax, #-11537
 248 001b BF 00 00                		movw	!_M2_Torque_Setting, ax
  91:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (CFG_parameter.Motor_Maximum_Boost_Time > 0)
 249                             		.loc 1 91 0
 250 001e AF 00 00                		movw	ax, !_CFG_parameter+6
 251 0021 BD F0                   		movw	r8, ax
 252 0023 44 00 00                		cmpw	ax, #0
 253 0026 61 F8                   		 sknz
 254 0028 EC 6B 00 00             		 br	!!.L9
  92:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Torque_Inc = (TORQUE_LEVEL_1 - CFG_parameter.Motor_Torque_Boots) / CFG_parameter.Motor_Start_Tim
 255                             		.loc 1 92 0
 256 002c AF 00 00                		movw	ax, !_CFG_parameter+54
 257 002f BD F0                   		movw	r8, ax
 258 0031 30 EF D2                		movw	ax, #-11537
 259 0034 26 F0                   		subw	ax, r8
 260 0036 BD F2                   		movw	r10, ax
 261 0038 AF 00 00                		movw	ax, !_CFG_parameter+4
 262 003b BD F0                   		movw	r8, ax
 263 003d DA F0                   		movw	bc, r8
 264 003f AD F2                   		movw	ax, r10
 265 0041 61 DD                   		push	psw
 266 0043 71 7B FA                		di
 267 0046 CF E8 00 80             		mov	!MDUC, #0x80
 268 004a BE F0                   		movw	MDAL, ax
 269 004c 13                      		movw	ax, bc
 270 004d BE F6                   		movw	MDBL, ax
 271 004f F6                      		clrw	ax
 272 0050 BE F2                   		movw	MDAH, ax
 273 0052 BE F4                   		movw	MDBH, ax
 274 0054 CF E8 00 81             		mov	!MDUC, #0x81
 275 0058 8F E8 00                	0:	mov	a, !MDUC
 276 005b 31 03 FA                		bt	a.0, $0b
 277 005e AE F0                   		movw	ax, MDAL
 278 0060 61 CD                   		pop	psw ; udivhi3_g13
 279 0062 BD F0                   		movw	r8, ax
 280 0064 BF 00 00                		movw	!_Torque_Inc, ax
 281 0067 EC DC 00 00             		br	!!.L11
 282                             	.L9:
  93:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
  94:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Torque_Inc = (TORQUE_LEVEL_1 - CFG_parameter.Motor_Torque_Maneuver) / CFG_parameter.Motor_Start_
 283                             		.loc 1 94 0
 284 006b AF 00 00                		movw	ax, !_CFG_parameter+50
 285 006e BD F0                   		movw	r8, ax
 286 0070 30 EF D2                		movw	ax, #-11537
 287 0073 26 F0                   		subw	ax, r8
 288 0075 BD F2                   		movw	r10, ax
 289 0077 AF 00 00                		movw	ax, !_CFG_parameter+4
 290 007a BD F0                   		movw	r8, ax
 291 007c DA F0                   		movw	bc, r8
 292 007e AD F2                   		movw	ax, r10
 293 0080 61 DD                   		push	psw
 294 0082 71 7B FA                		di
 295 0085 CF E8 00 80             		mov	!MDUC, #0x80
 296 0089 BE F0                   		movw	MDAL, ax
 297 008b 13                      		movw	ax, bc
 298 008c BE F6                   		movw	MDBL, ax
 299 008e F6                      		clrw	ax
 300 008f BE F2                   		movw	MDAH, ax
 301 0091 BE F4                   		movw	MDBH, ax
 302 0093 CF E8 00 81             		mov	!MDUC, #0x81
 303 0097 8F E8 00                	0:	mov	a, !MDUC
 304 009a 31 03 FA                		bt	a.0, $0b
 305 009d AE F0                   		movw	ax, MDAL
 306 009f 61 CD                   		pop	psw ; udivhi3_g13
 307 00a1 BD F0                   		movw	r8, ax
 308 00a3 BF 00 00                		movw	!_Torque_Inc, ax
 309 00a6 EC DC 00 00             		br	!!.L11
 310                             	.L8:
  95:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
  96:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
  97:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
  98:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (CFG_parameter.Motor_Maximum_Boost_Time > 0)
 311                             		.loc 1 98 0
 312 00aa AF 00 00                		movw	ax, !_CFG_parameter+6
 313 00ad BD F0                   		movw	r8, ax
 314 00af 44 00 00                		cmpw	ax, #0
 315 00b2 61 F8                   		 sknz
 316 00b4 EC CC 00 00             		 br	!!.L12
  99:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
 100:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 317                             		.loc 1 100 0
 318 00b8 AF 00 00                		movw	ax, !_CFG_parameter+54
 319 00bb BD F0                   		movw	r8, ax
 320 00bd BF 00 00                		movw	!_M1_Torque_Setting, ax
 101:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 321                             		.loc 1 101 0
 322 00c0 AF 00 00                		movw	ax, !_CFG_parameter+54
 323 00c3 BD F0                   		movw	r8, ax
 324 00c5 BF 00 00                		movw	!_M2_Torque_Setting, ax
 325 00c8 EC DC 00 00             		br	!!.L11
 326                             	.L12:
 102:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
 103:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
 104:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
 105:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 327                             		.loc 1 105 0
 328 00cc AF 00 00                		movw	ax, !_CFG_parameter+50
 329 00cf BD F0                   		movw	r8, ax
 330 00d1 BF 00 00                		movw	!_M1_Torque_Setting, ax
 106:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 331                             		.loc 1 106 0
 332 00d4 AF 00 00                		movw	ax, !_CFG_parameter+50
 333 00d7 BD F0                   		movw	r8, ax
 334 00d9 BF 00 00                		movw	!_M2_Torque_Setting, ax
 335                             	.L11:
 107:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
 108:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 109:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 110:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Motor_Finish_Time > 0)
 336                             		.loc 1 110 0
 337 00dc AF 00 00                		movw	ax, !_CFG_parameter+22
 338 00df BD F0                   		movw	r8, ax
 339 00e1 44 00 00                		cmpw	ax, #0
 340 00e4 61 F8                   		 sknz
 341 00e6 EC 29 01 00             		 br	!!.L13
 111:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Torque_Dec = (TORQUE_LEVEL_1 - CFG_parameter.Motor_Torque_Decelaration) / CFG_parameter.Motor_Fin
 342                             		.loc 1 111 0
 343 00ea AF 00 00                		movw	ax, !_CFG_parameter+52
 344 00ed BD F0                   		movw	r8, ax
 345 00ef 30 EF D2                		movw	ax, #-11537
 346 00f2 26 F0                   		subw	ax, r8
 347 00f4 BD F2                   		movw	r10, ax
 348 00f6 AF 00 00                		movw	ax, !_CFG_parameter+22
 349 00f9 BD F0                   		movw	r8, ax
 350 00fb DA F0                   		movw	bc, r8
 351 00fd AD F2                   		movw	ax, r10
 352 00ff 61 DD                   		push	psw
 353 0101 71 7B FA                		di
 354 0104 CF E8 00 80             		mov	!MDUC, #0x80
 355 0108 BE F0                   		movw	MDAL, ax
 356 010a 13                      		movw	ax, bc
 357 010b BE F6                   		movw	MDBL, ax
 358 010d F6                      		clrw	ax
 359 010e BE F2                   		movw	MDAH, ax
 360 0110 BE F4                   		movw	MDBH, ax
 361 0112 CF E8 00 81             		mov	!MDUC, #0x81
 362 0116 8F E8 00                	0:	mov	a, !MDUC
 363 0119 31 03 FA                		bt	a.0, $0b
 364 011c AE F0                   		movw	ax, MDAL
 365 011e 61 CD                   		pop	psw ; udivhi3_g13
 366 0120 BD F0                   		movw	r8, ax
 367 0122 BF 00 00                		movw	!_Torque_Dec, ax
 368 0125 EC 2D 01 00             		br	!!.L7
 369                             	.L13:
 112:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
 113:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Torque_Dec = 0x0000;
 370                             		.loc 1 113 0
 371 0129 F6                      		clrw	ax
 372 012a BF 00 00                		movw	!_Torque_Dec, ax
 373                             	.L7:
 114:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 115:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 374                             		.loc 1 115 0
 375 012d D7                      		ret
 376                             	.LFE6:
 378                             		.section	.text.Setting_Courtesy_Light_and_Flash_Light,"ax",@progbits
 379                             		.global	_Setting_Courtesy_Light_and_Flash_Light
 381                             	_Setting_Courtesy_Light_and_Flash_Light:
 382                             	.LFB7:
 116:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 117:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Setting_Courtesy_Light_and_Flash_Light(uint8_t Moving_Direction)
 118:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 383                             		.loc 1 118 0
 384                             		; start of function
 385                             		; outgoing: 2 bytes
 386                             		; uses ES register
 387 0000 20 02                   		subw	sp, #2
 388                             	.LCFI0:
 119:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if(CFG_parameter.Courtery_Light_Mode == 1)	// PULSE 1500ms
 389                             		.loc 1 119 0
 390 0002 8F 00 00                		mov	a, !_CFG_parameter+38
 391 0005 9D F0                   		mov	r8, a
 392 0007 4A F0 01                		cmp	r8, #1
 393 000a 61 E8                   		 skz
 394 000c EC 4B 00 00             		 br	!!.L16
 395                             	.LBB2:
 120:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 121:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		COURTESY = 1;
 396                             		.loc 1 121 0
 397 0010 C9 F0 02 FF             		movw	r8, #-254
 398 0014 AD F0                   		movw	ax, r8
 399 0016 BD F4                   		movw	r12, ax
 400 0018 FA F4                   		movw	hl, r12
 401 001a 8B                      		mov	a, [hl]
 402 001b 9D F2                   		mov	r10, a
 403 001d 6A F2 01                		or	r10, #1
 404 0020 AD F0                   		movw	ax, r8
 405 0022 EA F4                   		movw	de, r12
 406 0024 8D F2                   		mov	a, r10
 407 0026 99                      		mov	[de], a
 122:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		delay_ms(1500);
 408                             		.loc 1 122 0
 409 0027 30 DC 05                		movw	ax, #1500
 410 002a B8 00                   		movw	[sp], ax
 411 002c FC 00 00 00             		call	!!%code(_delay_ms)
 123:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		COURTESY = 0;
 412                             		.loc 1 123 0
 413 0030 C9 F0 02 FF             		movw	r8, #-254
 414 0034 AD F0                   		movw	ax, r8
 415 0036 BD F4                   		movw	r12, ax
 416 0038 FA F4                   		movw	hl, r12
 417 003a 8B                      		mov	a, [hl]
 418 003b 9D F2                   		mov	r10, a
 419 003d 5A F2 FE                		and	r10, #-2
 420 0040 AD F0                   		movw	ax, r8
 421 0042 EA F4                   		movw	de, r12
 422 0044 8D F2                   		mov	a, r10
 423 0046 99                      		mov	[de], a
 424                             	.LBE2:
 425 0047 EC 70 00 00             		br	!!.L17
 426                             	.L16:
 124:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 125:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (CFG_parameter.Courtery_Light_Mode == 2)	// ACTIVE
 427                             		.loc 1 125 0
 428 004b 8F 00 00                		mov	a, !_CFG_parameter+38
 429 004e 9D F0                   		mov	r8, a
 430 0050 4A F0 02                		cmp	r8, #2
 431 0053 61 E8                   		 skz
 432 0055 EC 70 00 00             		 br	!!.L17
 126:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 127:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		COURTESY = 1;
 433                             		.loc 1 127 0
 434 0059 C9 F0 02 FF             		movw	r8, #-254
 435 005d AD F0                   		movw	ax, r8
 436 005f BD F4                   		movw	r12, ax
 437 0061 FA F4                   		movw	hl, r12
 438 0063 8B                      		mov	a, [hl]
 439 0064 9D F2                   		mov	r10, a
 440 0066 6A F2 01                		or	r10, #1
 441 0069 AD F0                   		movw	ax, r8
 442 006b EA F4                   		movw	de, r12
 443 006d 8D F2                   		mov	a, r10
 444 006f 99                      		mov	[de], a
 445                             	.L17:
 128:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 129:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 130:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Pre_Flashing == 0x00)
 446                             		.loc 1 130 0
 447 0070 8F 00 00                		mov	a, !_CFG_parameter+36
 448 0073 9D F0                   		mov	r8, a
 449 0075 D4 F0                   		cmp0	r8
 450 0077 61 E8                   		 skz
 451 0079 EC 9B 00 00             		 br	!!.L18
 131:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 132:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 1;
 452                             		.loc 1 132 0
 453 007d C9 F0 02 FF             		movw	r8, #-254
 454 0081 AD F0                   		movw	ax, r8
 455 0083 BD F4                   		movw	r12, ax
 456 0085 FA F4                   		movw	hl, r12
 457 0087 8B                      		mov	a, [hl]
 458 0088 9D F2                   		mov	r10, a
 459 008a 6A F2 02                		or	r10, #2
 460 008d AD F0                   		movw	ax, r8
 461 008f EA F4                   		movw	de, r12
 462 0091 8D F2                   		mov	a, r10
 463 0093 99                      		mov	[de], a
 133:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Pre_Flash_Type = FLASH_DISABLE_TIMER;
 464                             		.loc 1 133 0
 465 0094 F5 00 00                		clrb	!_Pre_Flash_Type
 466 0097 EC 59 01 00             		br	!!.L19
 467                             	.L18:
 134:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 135:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (CFG_parameter.Pre_Flashing < 10)
 468                             		.loc 1 135 0
 469 009b 8F 00 00                		mov	a, !_CFG_parameter+36
 470 009e 9D F0                   		mov	r8, a
 471 00a0 4A F0 09                		cmp	r8, #9
 472 00a3 61 F3                   		 sknh
 473 00a5 EC 09 01 00             		 br	!!.L20
 136:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 137:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 1;
 474                             		.loc 1 137 0
 475 00a9 C9 F0 02 FF             		movw	r8, #-254
 476 00ad AD F0                   		movw	ax, r8
 477 00af BD F4                   		movw	r12, ax
 478 00b1 FA F4                   		movw	hl, r12
 479 00b3 8B                      		mov	a, [hl]
 480 00b4 9D F2                   		mov	r10, a
 481 00b6 6A F2 02                		or	r10, #2
 482 00b9 AD F0                   		movw	ax, r8
 483 00bb EA F4                   		movw	de, r12
 484 00bd 8D F2                   		mov	a, r10
 485 00bf 99                      		mov	[de], a
 138:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Pre_Flash_Type = FLASH_ENABLE_TIMER;
 486                             		.loc 1 138 0
 487 00c0 E5 00 00                		oneb	!_Pre_Flash_Type
 139:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Timer_Counter = 0;
 488                             		.loc 1 139 0
 489 00c3 F5 00 00                		clrb	!_Flash_Timer_Counter
 140:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		while (Flash_Timer_Counter < (CFG_parameter.Pre_Flashing * 2)); 	// Flashing warning signal for 1
 490                             		.loc 1 140 0
 491 00c6 00                      		nop
 492                             	.L21:
 493                             		.loc 1 140 0 is_stmt 0 discriminator 1
 494 00c7 8F 00 00                		mov	a, !_Flash_Timer_Counter
 495 00ca 9D F0                   		mov	r8, a
 496 00cc 31 8E                   		shrw	ax, 8
 497 00ce BD F2                   		movw	r10, ax
 498 00d0 8F 00 00                		mov	a, !_CFG_parameter+36
 499 00d3 9D F0                   		mov	r8, a
 500 00d5 F4 F1                   		clrb	r9
 501 00d7 AD F0                   		movw	ax, r8
 502 00d9 01                      		addw	ax, ax
 503 00da BD F0                   		movw	r8, ax
 504 00dc AD F2                   		movw	ax, r10
 505 00de 46 F0                   		cmpw	ax, r8
 506 00e0 71 FF                   		 xor1	CY, a.7
 507 00e2 71 77 F1                		 xor1	CY, r9.7
 508 00e5 61 D8                   		 sknc
 509 00e7 EC C7 00 00             		 br	!!.L21
 141:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Pre_Flash_Type = FLASH_DISABLE_TIMER;
 510                             		.loc 1 141 0 is_stmt 1
 511 00eb F5 00 00                		clrb	!_Pre_Flash_Type
 142:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 0;
 512                             		.loc 1 142 0
 513 00ee C9 F0 02 FF             		movw	r8, #-254
 514 00f2 AD F0                   		movw	ax, r8
 515 00f4 BD F4                   		movw	r12, ax
 516 00f6 FA F4                   		movw	hl, r12
 517 00f8 8B                      		mov	a, [hl]
 518 00f9 9D F2                   		mov	r10, a
 519 00fb 5A F2 FD                		and	r10, #-3
 520 00fe AD F0                   		movw	ax, r8
 521 0100 EA F4                   		movw	de, r12
 522 0102 8D F2                   		mov	a, r10
 523 0104 99                      		mov	[de], a
 524 0105 EC 59 01 00             		br	!!.L19
 525                             	.L20:
 143:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 144:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (Moving_Direction == CLOSE_MOVING_DIRECTION)
 526                             		.loc 1 144 0
 527 0109 88 06                   		mov	a, [sp+6]
 528 010b 4C 01                   		cmp	a, #1
 529 010d 61 E8                   		 skz
 530 010f EC 59 01 00             		 br	!!.L19
 145:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 146:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 1;
 531                             		.loc 1 146 0
 532 0113 C9 F0 02 FF             		movw	r8, #-254
 533 0117 AD F0                   		movw	ax, r8
 534 0119 BD F4                   		movw	r12, ax
 535 011b FA F4                   		movw	hl, r12
 536 011d 8B                      		mov	a, [hl]
 537 011e 9D F2                   		mov	r10, a
 538 0120 6A F2 02                		or	r10, #2
 539 0123 AD F0                   		movw	ax, r8
 540 0125 EA F4                   		movw	de, r12
 541 0127 8D F2                   		mov	a, r10
 542 0129 99                      		mov	[de], a
 147:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Pre_Flash_Type = FLASH_ENABLE_TIMER;
 543                             		.loc 1 147 0
 544 012a E5 00 00                		oneb	!_Pre_Flash_Type
 148:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Timer_Counter = 0;
 545                             		.loc 1 148 0
 546 012d F5 00 00                		clrb	!_Flash_Timer_Counter
 149:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		while (Flash_Timer_Counter < 10);									// Flashing warning signal 5 second prior to closing ma
 547                             		.loc 1 149 0
 548 0130 00                      		nop
 549                             	.L22:
 550                             		.loc 1 149 0 is_stmt 0 discriminator 1
 551 0131 8F 00 00                		mov	a, !_Flash_Timer_Counter
 552 0134 9D F0                   		mov	r8, a
 553 0136 4A F0 09                		cmp	r8, #9
 554 0139 61 E3                   		 skh
 555 013b EC 31 01 00             		 br	!!.L22
 150:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Pre_Flash_Type = FLASH_DISABLE_TIMER;
 556                             		.loc 1 150 0 is_stmt 1
 557 013f F5 00 00                		clrb	!_Pre_Flash_Type
 151:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 0;
 558                             		.loc 1 151 0
 559 0142 C9 F0 02 FF             		movw	r8, #-254
 560 0146 AD F0                   		movw	ax, r8
 561 0148 BD F4                   		movw	r12, ax
 562 014a FA F4                   		movw	hl, r12
 563 014c 8B                      		mov	a, [hl]
 564 014d 9D F2                   		mov	r10, a
 565 014f 5A F2 FD                		and	r10, #-3
 566 0152 AD F0                   		movw	ax, r8
 567 0154 EA F4                   		movw	de, r12
 568 0156 8D F2                   		mov	a, r10
 569 0158 99                      		mov	[de], a
 570                             	.L19:
 152:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 153:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 154:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Flashing_Light_Frequency == 0x00)
 571                             		.loc 1 154 0
 572 0159 8F 00 00                		mov	a, !_CFG_parameter+37
 573 015c 9D F0                   		mov	r8, a
 574 015e D4 F0                   		cmp0	r8
 575 0160 61 E8                   		 skz
 576 0162 EC 6D 01 00             		 br	!!.L23
 155:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Frequency_Config = FLASH_LIGHT_FREQUENCY_EXTERNAL;
 577                             		.loc 1 155 0
 578 0166 F5 00 00                		clrb	!_Flash_Frequency_Config
 579 0169 EC 98 01 00             		br	!!.L24
 580                             	.L23:
 156:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (CFG_parameter.Flashing_Light_Frequency == 0x01)
 581                             		.loc 1 156 0
 582 016d 8F 00 00                		mov	a, !_CFG_parameter+37
 583 0170 9D F0                   		mov	r8, a
 584 0172 4A F0 01                		cmp	r8, #1
 585 0175 61 E8                   		 skz
 586 0177 EC 82 01 00             		 br	!!.L25
 157:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Frequency_Config = FLASH_LIGHT_FREQUENCY_SLOWLY;
 587                             		.loc 1 157 0
 588 017b E5 00 00                		oneb	!_Flash_Frequency_Config
 589 017e EC 98 01 00             		br	!!.L24
 590                             	.L25:
 158:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (Moving_Direction == CLOSE_MOVING_DIRECTION)
 591                             		.loc 1 158 0
 592 0182 88 06                   		mov	a, [sp+6]
 593 0184 4C 01                   		cmp	a, #1
 594 0186 61 E8                   		 skz
 595 0188 EC 95 01 00             		 br	!!.L26
 159:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Frequency_Config = FLASH_LIGHT_FREQUENCY_RAPIDLY;
 596                             		.loc 1 159 0
 597 018c 51 02                   		mov	a, #2
 598 018e 9F 00 00                		mov	!_Flash_Frequency_Config, a
 599 0191 EC 98 01 00             		br	!!.L24
 600                             	.L26:
 160:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
 161:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Frequency_Config = FLASH_LIGHT_FREQUENCY_SLOWLY;
 601                             		.loc 1 161 0
 602 0195 E5 00 00                		oneb	!_Flash_Frequency_Config
 603                             	.L24:
 162:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 163:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Enable = 1;
 604                             		.loc 1 163 0
 605 0198 E5 00 00                		oneb	!_Flash_Enable
 164:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Frequency_Count = 0;
 606                             		.loc 1 164 0
 607 019b F5 00 00                		clrb	!_Flash_Frequency_Count
 165:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 166:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 608                             		.loc 1 166 0
 609 019e 10 02                   		addw	sp, #2
 610 01a0 D7                      		ret
 611                             	.LFE7:
 613                             		.section	.text.Prepare_To_Moving,"ax",@progbits
 614                             		.global	_Prepare_To_Moving
 616                             	_Prepare_To_Moving:
 617                             	.LFB8:
 167:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 168:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Prepare_To_Moving(uint8_t Moving_Direction)
 169:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 618                             		.loc 1 169 0
 619                             		; start of function
 620                             		; locals: 4 bytes
 621                             		; outgoing: 2 bytes
 622                             		; uses ES register
 623 0000 20 06                   		subw	sp, #6
 624                             	.LCFI1:
 170:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	uint16_t M1_Running_Time, M2_Running_Time;
 171:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 172:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Calculate_Torque_Parameter();
 625                             		.loc 1 172 0
 626 0002 FC 00 00 00             		call	!!%code(_Calculate_Torque_Parameter)
 173:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 174:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Moving_Direction == OPEN_MOVING_DIRECTION)
 627                             		.loc 1 174 0
 628 0006 88 0A                   		mov	a, [sp+10]
 629 0008 D1                      		cmp0	a
 630 0009 61 E8                   		 skz
 631 000b EC 49 00 00             		 br	!!.L28
 175:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 176:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Running_Time = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time - M1_Time_P
 632                             		.loc 1 176 0
 633 000f AF 00 00                		movw	ax, !_CFG_parameter+12
 634 0012 BD F2                   		movw	r10, ax
 635 0014 AF 00 00                		movw	ax, !_CFG_parameter+16
 636 0017 BD F0                   		movw	r8, ax
 637 0019 AD F2                   		movw	ax, r10
 638 001b 06 F0                   		addw	ax, r8
 639 001d BD F2                   		movw	r10, ax
 640 001f AF 00 00                		movw	ax, !_M1_Time_Position
 641 0022 BD F0                   		movw	r8, ax
 642 0024 AD F2                   		movw	ax, r10
 643 0026 26 F0                   		subw	ax, r8
 644 0028 B8 04                   		movw	[sp+4], ax
 177:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Running_Time = CFG_parameter.M2_Maneuver_Time + CFG_parameter.M2_Deceleration_Time - M2_Time_P
 645                             		.loc 1 177 0
 646 002a AF 00 00                		movw	ax, !_CFG_parameter+14
 647 002d BD F2                   		movw	r10, ax
 648 002f AF 00 00                		movw	ax, !_CFG_parameter+18
 649 0032 BD F0                   		movw	r8, ax
 650 0034 AD F2                   		movw	ax, r10
 651 0036 06 F0                   		addw	ax, r8
 652 0038 BD F2                   		movw	r10, ax
 653 003a AF 00 00                		movw	ax, !_M2_Time_Position
 654 003d BD F0                   		movw	r8, ax
 655 003f AD F2                   		movw	ax, r10
 656 0041 26 F0                   		subw	ax, r8
 657 0043 B8 02                   		movw	[sp+2], ax
 658 0045 EC 57 00 00             		br	!!.L29
 659                             	.L28:
 178:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 179:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
 180:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 181:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Running_Time = M1_Time_Position;
 660                             		.loc 1 181 0
 661 0049 AF 00 00                		movw	ax, !_M1_Time_Position
 662 004c BD F0                   		movw	r8, ax
 663 004e B8 04                   		movw	[sp+4], ax
 182:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Running_Time = M2_Time_Position;
 664                             		.loc 1 182 0
 665 0050 AF 00 00                		movw	ax, !_M2_Time_Position
 666 0053 BD F0                   		movw	r8, ax
 667 0055 B8 02                   		movw	[sp+2], ax
 668                             	.L29:
 183:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 184:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 185:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	/* Calculate Time point for time stamp*/
 186:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T1 = CFG_parameter.Motor_Start_Time;
 669                             		.loc 1 186 0
 670 0057 AF 00 00                		movw	ax, !_CFG_parameter+4
 671 005a BD F0                   		movw	r8, ax
 672 005c BF 00 00                		movw	!_M1_Time_T1, ax
 187:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T2 = M1_Time_T1 + CFG_parameter.Motor_Maximum_Boost_Time;
 673                             		.loc 1 187 0
 674 005f AF 00 00                		movw	ax, !_CFG_parameter+6
 675 0062 BD F2                   		movw	r10, ax
 676 0064 AF 00 00                		movw	ax, !_M1_Time_T1
 677 0067 BD F0                   		movw	r8, ax
 678 0069 AD F2                   		movw	ax, r10
 679 006b 06 F0                   		addw	ax, r8
 680 006d BD F0                   		movw	r8, ax
 681 006f BF 00 00                		movw	!_M1_Time_T2, ax
 188:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T3 = M1_Time_T2 + (M1_Running_Time / 100) * (100 - CFG_parameter.M1_Deceleration_Space);
 682                             		.loc 1 188 0
 683 0072 A8 04                   		movw	ax, [sp+4]
 684 0074 BD F0                   		movw	r8, ax
 685 0076 31 2E                   		shrw	ax, 2
 686 0078 BD F0                   		movw	r8, ax
 687 007a 30 7B 14                		movw	ax, #5243
 688 007d 12                      		movw	bc, ax
 689 007e AD F0                   		movw	ax, r8
 690 0080 61 DD                   		push	psw
 691 0082 71 7B FA                		di
 692 0085 CF E8 00 00             		mov	!MDUC, #0
 693 0089 BE F0                   		movw	MDAL, ax
 694 008b 13                      		movw	ax, bc
 695 008c BE F2                   		movw	MDAH, ax
 696 008e 00                      		nop
 697 008f AE F4                   		movw	ax, MDBH
 698 0091 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 699 0093 BD F0                   		movw	r8, ax
 700 0095 31 1E                   		shrw	ax, 1
 701 0097 BD F0                   		movw	r8, ax
 702 0099 8F 00 00                		mov	a, !_CFG_parameter+20
 703 009c 9D F2                   		mov	r10, a
 704 009e F4 F3                   		clrb	r11
 705 00a0 30 64 00                		movw	ax, #100
 706 00a3 26 F2                   		subw	ax, r10
 707 00a5 BD F2                   		movw	r10, ax
 708 00a7 AD F2                   		movw	ax, r10
 709 00a9 12                      		movw	bc, ax
 710 00aa AD F0                   		movw	ax, r8
 711 00ac 61 DD                   		push	psw
 712 00ae 71 7B FA                		di
 713 00b1 CF E8 00 00             		mov	!MDUC, #0
 714 00b5 BE F0                   		movw	MDAL, ax
 715 00b7 13                      		movw	ax, bc
 716 00b8 BE F2                   		movw	MDAH, ax
 717 00ba 00                      		nop
 718 00bb AE F6                   		movw	ax, MDBL
 719 00bd 61 CD                   		pop 	psw ;mulhi3_g13 ax,r8,r10
 720 00bf BD F2                   		movw	r10, ax
 721 00c1 AF 00 00                		movw	ax, !_M1_Time_T2
 722 00c4 BD F0                   		movw	r8, ax
 723 00c6 AD F2                   		movw	ax, r10
 724 00c8 06 F0                   		addw	ax, r8
 725 00ca BD F0                   		movw	r8, ax
 726 00cc BF 00 00                		movw	!_M1_Time_T3, ax
 189:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T4 = M1_Time_T3 + (M1_Running_Time / 100) * CFG_parameter.M1_Deceleration_Space;
 727                             		.loc 1 189 0
 728 00cf A8 04                   		movw	ax, [sp+4]
 729 00d1 BD F0                   		movw	r8, ax
 730 00d3 31 2E                   		shrw	ax, 2
 731 00d5 BD F0                   		movw	r8, ax
 732 00d7 30 7B 14                		movw	ax, #5243
 733 00da 12                      		movw	bc, ax
 734 00db AD F0                   		movw	ax, r8
 735 00dd 61 DD                   		push	psw
 736 00df 71 7B FA                		di
 737 00e2 CF E8 00 00             		mov	!MDUC, #0
 738 00e6 BE F0                   		movw	MDAL, ax
 739 00e8 13                      		movw	ax, bc
 740 00e9 BE F2                   		movw	MDAH, ax
 741 00eb 00                      		nop
 742 00ec AE F4                   		movw	ax, MDBH
 743 00ee 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 744 00f0 BD F0                   		movw	r8, ax
 745 00f2 31 1E                   		shrw	ax, 1
 746 00f4 BD F2                   		movw	r10, ax
 747 00f6 8F 00 00                		mov	a, !_CFG_parameter+20
 748 00f9 9D F0                   		mov	r8, a
 749 00fb F4 F1                   		clrb	r9
 750 00fd AD F0                   		movw	ax, r8
 751 00ff 12                      		movw	bc, ax
 752 0100 AD F2                   		movw	ax, r10
 753 0102 61 DD                   		push	psw
 754 0104 71 7B FA                		di
 755 0107 CF E8 00 00             		mov	!MDUC, #0
 756 010b BE F0                   		movw	MDAL, ax
 757 010d 13                      		movw	ax, bc
 758 010e BE F2                   		movw	MDAH, ax
 759 0110 00                      		nop
 760 0111 AE F6                   		movw	ax, MDBL
 761 0113 61 CD                   		pop 	psw ;mulhi3_g13 ax,r10,r8
 762 0115 BD F2                   		movw	r10, ax
 763 0117 AF 00 00                		movw	ax, !_M1_Time_T3
 764 011a BD F0                   		movw	r8, ax
 765 011c AD F2                   		movw	ax, r10
 766 011e 06 F0                   		addw	ax, r8
 767 0120 BD F0                   		movw	r8, ax
 768 0122 BF 00 00                		movw	!_M1_Time_T4, ax
 190:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T5 = M1_Time_T4 + CFG_parameter.Motor_Finish_Time;
 769                             		.loc 1 190 0
 770 0125 AF 00 00                		movw	ax, !_CFG_parameter+22
 771 0128 BD F2                   		movw	r10, ax
 772 012a AF 00 00                		movw	ax, !_M1_Time_T4
 773 012d BD F0                   		movw	r8, ax
 774 012f AD F2                   		movw	ax, r10
 775 0131 06 F0                   		addw	ax, r8
 776 0133 BD F0                   		movw	r8, ax
 777 0135 BF 00 00                		movw	!_M1_Time_T5, ax
 191:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 192:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Time_T1 = CFG_parameter.Motor_Start_Time;
 778                             		.loc 1 192 0
 779 0138 AF 00 00                		movw	ax, !_CFG_parameter+4
 780 013b BD F0                   		movw	r8, ax
 781 013d BF 00 00                		movw	!_M2_Time_T1, ax
 193:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Time_T2 = M2_Time_T1 + CFG_parameter.Motor_Maximum_Boost_Time;
 782                             		.loc 1 193 0
 783 0140 AF 00 00                		movw	ax, !_CFG_parameter+6
 784 0143 BD F2                   		movw	r10, ax
 785 0145 AF 00 00                		movw	ax, !_M2_Time_T1
 786 0148 BD F0                   		movw	r8, ax
 787 014a AD F2                   		movw	ax, r10
 788 014c 06 F0                   		addw	ax, r8
 789 014e BD F0                   		movw	r8, ax
 790 0150 BF 00 00                		movw	!_M2_Time_T2, ax
 194:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Time_T3 = M2_Time_T2 + (M2_Running_Time / 100) * (100 - CFG_parameter.M2_Deceleration_Space);
 791                             		.loc 1 194 0
 792 0153 A8 02                   		movw	ax, [sp+2]
 793 0155 BD F0                   		movw	r8, ax
 794 0157 31 2E                   		shrw	ax, 2
 795 0159 BD F0                   		movw	r8, ax
 796 015b 30 7B 14                		movw	ax, #5243
 797 015e 12                      		movw	bc, ax
 798 015f AD F0                   		movw	ax, r8
 799 0161 61 DD                   		push	psw
 800 0163 71 7B FA                		di
 801 0166 CF E8 00 00             		mov	!MDUC, #0
 802 016a BE F0                   		movw	MDAL, ax
 803 016c 13                      		movw	ax, bc
 804 016d BE F2                   		movw	MDAH, ax
 805 016f 00                      		nop
 806 0170 AE F4                   		movw	ax, MDBH
 807 0172 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 808 0174 BD F0                   		movw	r8, ax
 809 0176 31 1E                   		shrw	ax, 1
 810 0178 BD F0                   		movw	r8, ax
 811 017a 8F 00 00                		mov	a, !_CFG_parameter+21
 812 017d 9D F2                   		mov	r10, a
 813 017f F4 F3                   		clrb	r11
 814 0181 30 64 00                		movw	ax, #100
 815 0184 26 F2                   		subw	ax, r10
 816 0186 BD F2                   		movw	r10, ax
 817 0188 AD F2                   		movw	ax, r10
 818 018a 12                      		movw	bc, ax
 819 018b AD F0                   		movw	ax, r8
 820 018d 61 DD                   		push	psw
 821 018f 71 7B FA                		di
 822 0192 CF E8 00 00             		mov	!MDUC, #0
 823 0196 BE F0                   		movw	MDAL, ax
 824 0198 13                      		movw	ax, bc
 825 0199 BE F2                   		movw	MDAH, ax
 826 019b 00                      		nop
 827 019c AE F6                   		movw	ax, MDBL
 828 019e 61 CD                   		pop 	psw ;mulhi3_g13 ax,r8,r10
 829 01a0 BD F2                   		movw	r10, ax
 830 01a2 AF 00 00                		movw	ax, !_M2_Time_T2
 831 01a5 BD F0                   		movw	r8, ax
 832 01a7 AD F2                   		movw	ax, r10
 833 01a9 06 F0                   		addw	ax, r8
 834 01ab BD F0                   		movw	r8, ax
 835 01ad BF 00 00                		movw	!_M2_Time_T3, ax
 195:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Time_T4 = M2_Time_T3 + (M2_Running_Time / 100) * CFG_parameter.M2_Deceleration_Space;
 836                             		.loc 1 195 0
 837 01b0 A8 02                   		movw	ax, [sp+2]
 838 01b2 BD F0                   		movw	r8, ax
 839 01b4 31 2E                   		shrw	ax, 2
 840 01b6 BD F0                   		movw	r8, ax
 841 01b8 30 7B 14                		movw	ax, #5243
 842 01bb 12                      		movw	bc, ax
 843 01bc AD F0                   		movw	ax, r8
 844 01be 61 DD                   		push	psw
 845 01c0 71 7B FA                		di
 846 01c3 CF E8 00 00             		mov	!MDUC, #0
 847 01c7 BE F0                   		movw	MDAL, ax
 848 01c9 13                      		movw	ax, bc
 849 01ca BE F2                   		movw	MDAH, ax
 850 01cc 00                      		nop
 851 01cd AE F4                   		movw	ax, MDBH
 852 01cf 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 853 01d1 BD F0                   		movw	r8, ax
 854 01d3 31 1E                   		shrw	ax, 1
 855 01d5 BD F2                   		movw	r10, ax
 856 01d7 8F 00 00                		mov	a, !_CFG_parameter+21
 857 01da 9D F0                   		mov	r8, a
 858 01dc F4 F1                   		clrb	r9
 859 01de AD F0                   		movw	ax, r8
 860 01e0 12                      		movw	bc, ax
 861 01e1 AD F2                   		movw	ax, r10
 862 01e3 61 DD                   		push	psw
 863 01e5 71 7B FA                		di
 864 01e8 CF E8 00 00             		mov	!MDUC, #0
 865 01ec BE F0                   		movw	MDAL, ax
 866 01ee 13                      		movw	ax, bc
 867 01ef BE F2                   		movw	MDAH, ax
 868 01f1 00                      		nop
 869 01f2 AE F6                   		movw	ax, MDBL
 870 01f4 61 CD                   		pop 	psw ;mulhi3_g13 ax,r10,r8
 871 01f6 BD F2                   		movw	r10, ax
 872 01f8 AF 00 00                		movw	ax, !_M2_Time_T3
 873 01fb BD F0                   		movw	r8, ax
 874 01fd AD F2                   		movw	ax, r10
 875 01ff 06 F0                   		addw	ax, r8
 876 0201 BD F0                   		movw	r8, ax
 877 0203 BF 00 00                		movw	!_M2_Time_T4, ax
 196:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Time_T5 = M2_Time_T4 + CFG_parameter.Motor_Finish_Time;
 878                             		.loc 1 196 0
 879 0206 AF 00 00                		movw	ax, !_CFG_parameter+22
 880 0209 BD F2                   		movw	r10, ax
 881 020b AF 00 00                		movw	ax, !_M2_Time_T4
 882 020e BD F0                   		movw	r8, ax
 883 0210 AD F2                   		movw	ax, r10
 884 0212 06 F0                   		addw	ax, r8
 885 0214 BD F0                   		movw	r8, ax
 886 0216 BF 00 00                		movw	!_M2_Time_T5, ax
 197:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 198:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Setting_Courtesy_Light_and_Flash_Light(Moving_Direction);
 887                             		.loc 1 198 0
 888 0219 88 0A                   		mov	a, [sp+10]
 889 021b 9D F0                   		mov	r8, a
 890 021d 98 00                   		mov	[sp], a
 891 021f FC 00 00 00             		call	!!%code(_Setting_Courtesy_Light_and_Flash_Light)
 199:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 892                             		.loc 1 199 0
 893 0223 10 06                   		addw	sp, #6
 894 0225 D7                      		ret
 895                             	.LFE8:
 897                             		.section	.text.Prepare_To_Partial_Moving,"ax",@progbits
 898                             		.global	_Prepare_To_Partial_Moving
 900                             	_Prepare_To_Partial_Moving:
 901                             	.LFB9:
 200:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 201:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Open_Gate (uint8_t NumOfGate)
 202:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 203:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if ((M1_Tick_Count > M1_Time_T5) || (FCA1_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))
 204:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 205:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = UNDEFINE_TIMESTAMP;
 206:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Motor1_Disable();
 207:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Leaf_No1_State = GATE_STATE_OPENED;
 208:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 209:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 210:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T4)									// Finished Time
 211:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 212:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = FINISHED_TIMESTAMP;
 213:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 214:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 215:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T3)									// Deceleration Time
 216:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 217:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = DECELERATION_TIMESTAMP;
 218:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 219:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 220:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T2)									// Normal Time
 221:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 222:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = NORMAL_TIMESTAMP;
 223:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 224:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 225:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T1)									// Boots Time
 226:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 227:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = BOOST_TIMESTAMP;
 228:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 229:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 230:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > 0)												// Startup Time
 231:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 232:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = STARTUP_TIMESTAMP;
 233:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 234:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 235:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (NumOfGate == 2)														// when using 2 Motors
 236:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 237:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if((Tick_Count >= CFG_parameter.Motor_No2_Open_Delay_Time) && (Leaf_No2_State != GATE_STATE_OPE
 238:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 239:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor2_Open_Enable();											// Enable Motor #2 Open
 240:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING;
 241:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 242:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 243:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if ((M2_Tick_Count > M2_Time_T5) || (FCA2_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))
 244:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 245:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = UNDEFINE_TIMESTAMP;
 246:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor2_Disable();
 247:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENED;
 248:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 249:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T4)								// Finished Time
 250:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 251:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = FINISHED_TIMESTAMP;
 252:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 253:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T3)								// Deceleration Time
 254:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 255:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = DECELERATION_TIMESTAMP;
 256:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 257:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 258:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T2)								// Normal Time
 259:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 260:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = NORMAL_TIMESTAMP;
 261:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 262:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 263:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T1)								// Boots Time
 264:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 265:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = BOOST_TIMESTAMP;
 266:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 267:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 268:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > 0)											// Startup Time
 269:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 270:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = STARTUP_TIMESTAMP;
 271:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 272:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 273:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 274:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (NumOfGate == 2)
 275:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 276:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if ((Leaf_No1_State == GATE_STATE_OPENED) && (Leaf_No2_State == GATE_STATE_OPENED))
 277:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return NORMAL_STOP;
 278:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 279:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return 0x00;
 280:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 281:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 282:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 283:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (Leaf_No1_State == GATE_STATE_OPENED)
 284:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return NORMAL_STOP;
 285:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 286:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return 0x00;
 287:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 288:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 289:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 290:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 291:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Close_Gate (uint8_t NumOfGate)
 292:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 293:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (NumOfGate == 0x02)								// when using 2 Motors
 294:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 295:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if((Tick_Count >= CFG_parameter.Motor_No1_Close_Delay_Time) && (Leaf_No1_State != GATE_STATE_CL
 296:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 297:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor1_Close_Enable();											// Enable Motor #2 Open
 298:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING;
 299:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 300:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 301:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 302:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if ((M1_Tick_Count > M1_Time_T5) || (FCC1_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))
 303:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 304:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = UNDEFINE_TIMESTAMP;
 305:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Leaf_No1_State = GATE_STATE_CLOSED;
 306:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Motor1_Disable();
 307:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 308:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T4)									// Finished Time
 309:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 310:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = FINISHED_TIMESTAMP;
 311:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 312:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T3)									// Deceleration Time
 313:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 314:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = DECELERATION_TIMESTAMP;
 315:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 316:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 317:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T2)									// Normal Time
 318:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 319:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = NORMAL_TIMESTAMP;
 320:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 321:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 322:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T1)									// Boots Time
 323:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 324:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = BOOST_TIMESTAMP;
 325:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 326:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 327:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > 0)												// Startup Time
 328:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 329:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = STARTUP_TIMESTAMP;
 330:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 331:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 332:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (NumOfGate == 0x02)								// when using 2 Motors
 333:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 334:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if ((M2_Tick_Count > M2_Time_T5) || (FCC2_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))
 335:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 336:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = UNDEFINE_TIMESTAMP;
 337:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSED;
 338:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor2_Disable();
 339:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 340:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T4)								// Finished Time
 341:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 342:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = FINISHED_TIMESTAMP;
 343:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 344:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T3)								// Deceleration Time
 345:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 346:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = DECELERATION_TIMESTAMP;
 347:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 348:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 349:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T2)								// Normal Time
 350:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 351:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = NORMAL_TIMESTAMP;
 352:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 353:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 354:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > M2_Time_T1)								// Boots Time
 355:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 356:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = BOOST_TIMESTAMP;
 357:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 358:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 359:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (M2_Tick_Count > 0)											// Startup Time
 360:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 361:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Timestamp = STARTUP_TIMESTAMP;
 362:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 363:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 364:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 365:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (NumOfGate == 2)
 366:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 367:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if ((Leaf_No1_State == GATE_STATE_CLOSED) && (Leaf_No2_State == GATE_STATE_CLOSED))
 368:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return NORMAL_STOP;
 369:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 370:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return 0x00;
 371:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 372:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 373:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 374:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (Leaf_No1_State == GATE_STATE_CLOSED)
 375:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return NORMAL_STOP;
 376:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 377:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			return 0x00;
 378:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 379:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 380:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 381:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Do_Open_Gate (uint8_t Step_Mode_Ctrl, uint8_t Open_Cmd_Enable, uint8_t Photocell_Enable, 
 382:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 383:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Open_Moving_Done;
 384:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 385:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Prepare_To_Moving(OPEN_MOVING_DIRECTION);		// Prepare to moving
 386:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 387:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 388:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 389:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No1_State != GATE_STATE_OPENED)
 390:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 391:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Motor1_Open_Enable();										// Enable Motor #1 to Open
 392:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Leaf_No1_State = GATE_STATE_OPENING;
 393:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 394:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 395:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Tick_Count = 0;								// Reset Tick count
 396:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M1_Tick_Count = 0;
 397:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M2_Tick_Count = 0;
 398:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Open_Moving_Done = 0;
 399:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 400:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Start();					// Start Timer channel 1
 401:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 402:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	while (Open_Moving_Done == 0x00)
 403:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 404:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Number_Of_Motors == 0x02)
 405:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = Open_Gate(2);
 406:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 407:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = Open_Gate(1);
 408:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 409:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (E_STOP)
 410:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 411:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = SAFETY_EMERGENCY_STOP;
 412:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 413:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 414:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 415:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT1 && (CFG_parameter.Photocell_FT1_Mode_Opening != 0x00)) && (Photocell_Enable == 0x
 416:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 417:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = SAFETY_PHOTOCELL_FT1;
 418:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 419:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 420:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 421:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT2 && (CFG_parameter.Photocell_FT2_Mode_Opening != 0x00)) && (Photocell_Enable == 0x
 422:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 423:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = SAFETY_PHOTOCELL_FT2;
 424:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 425:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 426:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 427:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS1 && (CFG_parameter.Sensing_Edge_COS1_Config != 0x00)) && (Sensing_Enable == 0x01)
 428:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 429:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = SAFETY_SENSING_EDGE_COS1;
 430:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 431:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 432:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 433:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS2 && (CFG_parameter.Sensing_Edge_COS2_Config > 0x02)) && (Sensing_Enable == 0x01))
 434:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 435:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = SAFETY_SENSING_EDGE_COS2;
 436:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 437:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 438:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 439:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 440:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (!PP_IN)
 441:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 442:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(!PP_IN);
 443:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 444:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 445:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 446:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 447:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			switch (Step_Mode_Ctrl)
 448:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 449:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x00:
 450:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 451:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Open_Moving_Done = STEP_COMMAND_STOP;
 452:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 453:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 454:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x03:
 455:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x04:
 456:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 457:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Open_Moving_Done = STEP_COMMAND_REVERSE;
 458:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 459:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 460:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				default:
 461:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 462:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					// Do nothing
 463:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 464:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 465:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 466:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 467:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if ((AP_IN) && (Open_Cmd_Enable))
 468:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 469:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 470:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 471:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Moving_Done = OPEN_COMMAND_STOP;
 472:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 473:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 474:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 475:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Stop();										// Stop Timer channel 1
 476:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Stop();												// Enable Sync to control, Motor 1 start opening
 477:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 478:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Disable();
 479:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor2_Disable();
 480:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 481:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No1_State != GATE_STATE_OPENED)
 482:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 483:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
 484:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M1_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
 485:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 486:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 	M1_Last_Time_Position +	M1_Tick_Count;
 487:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
 488:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 489:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 490:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 491:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time;
 492:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
 493:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 494:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 495:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No2_State != GATE_STATE_OPENED)
 496:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 497:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M2_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
 498:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
 499:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 500:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Time_Position = 	M2_Last_Time_Position +	M2_Tick_Count;
 501:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Last_Time_Position = M2_Time_Position;
 502:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 503:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 504:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 505:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Time_Position = CFG_parameter.M2_Maneuver_Time + CFG_parameter.M2_Deceleration_Time;
 506:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Last_Time_Position = M2_Time_Position;
 507:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 508:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 509:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	return (Open_Moving_Done);
 510:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 511:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 512:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Do_Close_Gate (uint8_t Step_Mode_Ctrl, uint8_t Close_Cmd_Enable, uint8_t Photocell_Enable
 513:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 514:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Close_Moving_Done;
 515:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 516:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Prepare_To_Moving(CLOSE_MOVING_DIRECTION);		// Prepare to moving
 517:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 518:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 519:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 520:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (CFG_parameter.Number_Of_Motors == 0x02)
 521:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 522:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (Leaf_No2_State != GATE_STATE_CLOSED)
 523:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 524:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor2_Close_Enable();										// Enable Motor #1 to Open
 525:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING;
 526:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 527:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 528:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 529:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 530:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (Leaf_No1_State != GATE_STATE_CLOSED)
 531:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 532:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Motor1_Close_Enable();										// Enable Motor #1 to Open
 533:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING;
 534:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 535:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 536:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 537:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Tick_Count = 0;								// Reset Tick count
 538:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M1_Tick_Count = 0;
 539:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M2_Tick_Count = 0;
 540:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 541:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Close_Moving_Done = 0x00;
 542:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 543:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Start();					// Start Timer channel 1
 544:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 545:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	while (Close_Moving_Done == 0)
 546:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 547:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Number_Of_Motors == 0x02)
 548:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = Close_Gate(2);
 549:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 550:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = Close_Gate(1);
 551:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 552:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (E_STOP)
 553:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 554:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = SAFETY_EMERGENCY_STOP;
 555:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 556:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 557:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 558:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closing != 0x00)) && (Photocell_Enable == 0x
 559:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 560:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = SAFETY_PHOTOCELL_FT1;
 561:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 562:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 563:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 564:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT2 && (CFG_parameter.Photocell_FT2_Mode_Closing != 0x00)) && (Photocell_Enable == 0x
 565:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 566:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = SAFETY_PHOTOCELL_FT2;
 567:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 568:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 569:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 570:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS1 && (CFG_parameter.Sensing_Edge_COS1_Config > 0x02)) && (Sensing_Enable == 0x01))
 571:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 572:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = SAFETY_SENSING_EDGE_COS1;
 573:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 574:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 575:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 576:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS2 && (CFG_parameter.Sensing_Edge_COS2_Config != 0x00)) && (Sensing_Enable == 0x01)
 577:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 578:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Moving_Done = SAFETY_SENSING_EDGE_COS2;
 579:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 580:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 581:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 582:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 583:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (!PP_IN)
 584:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 585:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(!PP_IN);
 586:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 587:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 588:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 589:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 590:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			switch (Step_Mode_Ctrl)
 591:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 592:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x00:
 593:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x01:
 594:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x02:
 595:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x04:
 596:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 597:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Close_Moving_Done = STEP_COMMAND_STOP;
 598:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 599:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 600:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				case 0x03:
 601:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 602:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Close_Moving_Done = STEP_COMMAND_REVERSE;
 603:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 604:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 605:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				default:
 606:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
 607:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					// Do nothing
 608:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				} break;
 609:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 610:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 611:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if ((CH_IN) && (Close_Cmd_Enable))
 612:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 613:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 614:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 615:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Close_Moving_Done = CLOSE_COMMAND_STOP;
 616:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 617:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 618:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 619:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Stop();						// Stop Timer channel 1
 620:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Stop();												// Enable Sync to control, Motor 1 start opening
 621:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 622:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Disable();
 623:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor2_Disable();
 624:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 625:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** ////		while(!PP_IN);
 626:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 627:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No1_State != GATE_STATE_CLOSED)
 628:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 629:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M1_Tick_Count -= CFG_parameter.Moto
 630:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 631:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 	M1_Last_Time_Position -	M1_Tick_Count;
 632:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
 633:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 634:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 635:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 636:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 0;
 637:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
 638:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 639:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 640:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No2_State != GATE_STATE_CLOSED)
 641:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 642:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M2_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M2_Tick_Count -= CFG_parameter.Moto
 643:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 644:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Time_Position = 	M2_Last_Time_Position -	M2_Tick_Count;
 645:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Last_Time_Position = M2_Time_Position;
 646:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 647:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
 648:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 649:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Time_Position = 0;
 650:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Last_Time_Position = M2_Time_Position;
 651:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 652:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 653:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	return (Close_Moving_Done);
 654:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 655:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 656:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Open_Gate_After_Safety_Event (void)
 657:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 658:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Open_Finish_Condition;
 659:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 660:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Open_Finish_Condition = Do_Open_Gate(0x05,0x00, 0x00, 0x00);
 661:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 662:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Open_Finish_Condition == NORMAL_STOP)
 663:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 664:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Flash_Enable = 0;
 665:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		FLASH = 0;
 666:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 667:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Courtesy_Light_After_Maneuver_Is_Complete();
 668:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 669:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 670:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 671:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 672:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Close_Gate_After_Safety_Event (void)
 673:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 674:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Close_Finish_Condition;
 675:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 676:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Close_Finish_Condition = Do_Close_Gate(0x05, 0x00, 0x00, 0x00);
 677:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 678:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Close_Finish_Condition == NORMAL_STOP)
 679:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 680:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Flash_Enable = 0;
 681:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		FLASH = 0;
 682:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Courtesy_Light_After_Maneuver_Is_Complete();
 683:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 684:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 685:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 686:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Safety_Event_Process_During_Gate_Opening (uint8_t Event_Type)
 687:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 688:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch(Event_Type)
 689:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 690:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT1:
 691:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 692:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT1_Mode_Opening > 0x02)
 693:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 694:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT1);
 695:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)	// Temporary Stop
 696:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 697:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Open_Gate_After_Safety_Event();
 698:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 699:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
 700:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 701:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Close_Gate_After_Safety_Event();
 702:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 703:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 704:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x02)	// Immediate Reverse
 705:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 706:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Gate_After_Safety_Event();
 707:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 708:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
 709:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 710:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT2:
 711:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 712:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT2_Mode_Opening > 0x02)
 713:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 714:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT2);
 715:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)	// Temporary Stop
 716:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 717:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Open_Gate_After_Safety_Event();
 718:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 719:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
 720:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 721:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Close_Gate_After_Safety_Event();
 722:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 723:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 724:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x02)	// Immediate Reverse
 725:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 726:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Close_Gate_After_Safety_Event();
 727:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 728:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
 729:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 730:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS1:
 731:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS2:
 732:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_EMERGENCY_STOP:
 733:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	default: break;
 734:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 735:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 736:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 737:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Safety_Event_Process_During_Gate_Closing (uint8_t Event_Type)
 738:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 739:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch(Event_Type)
 740:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 741:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT1:
 742:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 743:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT1_Mode_Closing > 0x02)
 744:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 745:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT1);
 746:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 747:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 748:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Close_Gate_After_Safety_Event();
 749:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 750:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
 751:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 752:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Open_Gate_After_Safety_Event();
 753:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 754:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 755:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x02)	// Immediate Reverse
 756:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 757:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Gate_After_Safety_Event();
 758:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 759:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
 760:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 761:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT2:
 762:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 763:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT2_Mode_Closing > 0x02)
 764:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 765:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT2);
 766:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 767:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 768:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Close_Gate_After_Safety_Event();
 769:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 770:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
 771:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 772:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Open_Gate_After_Safety_Event();
 773:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 774:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 775:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x02)	// Immediate Reverse
 776:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 777:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Open_Gate_After_Safety_Event();
 778:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
 779:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
 780:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 781:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS1:
 782:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS2:
 783:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_EMERGENCY_STOP:
 784:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	default: break;
 785:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 786:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 787:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 788:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Do_After_Open_Close_Gate (uint8_t Move_Stop_Condition, uint8_t Move_Direction)
 789:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 790:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch (Move_Stop_Condition)
 791:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 792:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case NORMAL_STOP:	// Normal finish Open
 793:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case OPEN_COMMAND_STOP:
 794:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 795:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Flash_Enable = 0;
 796:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			FLASH = 0;
 797:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Courtesy_Light_After_Maneuver_Is_Complete();
 798:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 799:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 800:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_EMERGENCY_STOP:
 801:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 802:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 803:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 804:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 805:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT1:
 806:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT2:
 807:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS1:
 808:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS2:
 809:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 810:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (Move_Direction == 0x00)
 811:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 812:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Safety_Event_Process_During_Gate_Opening(Move_Stop_Condition);
 813:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 814:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else
 815:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 816:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Safety_Event_Process_During_Gate_Closing(Move_Stop_Condition);
 817:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 818:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 819:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 820:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_REVERSE:
 821:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_STOP:
 822:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		default:
 823:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 824:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 825:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 826:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 827:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 828:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 829:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 830:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Do_After_Open_Gate (uint8_t Open_Stop_Condition)
 831:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 832:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch (Open_Stop_Condition)
 833:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 834:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case NORMAL_STOP:	// Normal finish Open
 835:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case OPEN_COMMAND_STOP:
 836:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 837:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Flash_Enable = 0;
 838:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			FLASH = 0;
 839:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Courtesy_Light_After_Maneuver_Is_Complete();
 840:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 841:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 842:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_EMERGENCY_STOP:
 843:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 844:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 845:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 846:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 847:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT1:
 848:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT2:
 849:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS1:
 850:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS2:
 851:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 852:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Safety_Event_Process_During_Gate_Opening(Open_Stop_Condition);
 853:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 854:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 855:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_STOP:
 856:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_REVERSE:
 857:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		default:
 858:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 859:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 860:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 861:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 862:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 863:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 864:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Do_After_Close_Gate (uint8_t Close_Stop_Condition)
 865:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 866:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 867:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch (Close_Stop_Condition)
 868:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 869:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case NORMAL_STOP:	// Normal finish Open
 870:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case CLOSE_COMMAND_STOP:
 871:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 872:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Flash_Enable = 0;
 873:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			FLASH = 0;
 874:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Courtesy_Light_After_Maneuver_Is_Complete();
 875:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 876:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 877:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_EMERGENCY_STOP:
 878:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 879:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 880:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 881:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 882:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT1:
 883:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT2:
 884:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS1:
 885:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS2:
 886:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 887:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Safety_Event_Process_During_Gate_Closing(Close_Stop_Condition);
 888:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 889:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 890:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_STOP:
 891:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case STEP_COMMAND_REVERSE:
 892:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		default:
 893:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
 894:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
 895:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
 896:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 897:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 898:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 899:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Prepare_To_Partial_Moving(uint8_t Moving_Direction)
 900:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 902                             		.loc 1 900 0
 903                             		; start of function
 904                             		; locals: 4 bytes
 905                             		; outgoing: 2 bytes
 906                             		; uses ES register
 907 0000 20 06                   		subw	sp, #6
 908                             	.LCFI2:
 901:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	uint16_t M1_Running_Time, Temp_Time;
 902:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 903:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Calculate_Torque_Parameter();
 909                             		.loc 1 903 0
 910 0002 FC 00 00 00             		call	!!%code(_Calculate_Torque_Parameter)
 904:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 905:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Moving_Direction == OPEN_MOVING_DIRECTION)
 911                             		.loc 1 905 0
 912 0006 88 0A                   		mov	a, [sp+10]
 913 0008 D1                      		cmp0	a
 914 0009 61 E8                   		 skz
 915 000b EC B7 00 00             		 br	!!.L31
 906:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 907:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (CFG_parameter.Number_Of_Motors == 0x02)
 916                             		.loc 1 907 0
 917 000f 8F 00 00                		mov	a, !_CFG_parameter+1
 918 0012 9D F0                   		mov	r8, a
 919 0014 4A F0 02                		cmp	r8, #2
 920 0017 61 E8                   		 skz
 921 0019 EC 3C 00 00             		 br	!!.L32
 908:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Running_Time = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time - M1_Time_
 922                             		.loc 1 908 0
 923 001d AF 00 00                		movw	ax, !_CFG_parameter+12
 924 0020 BD F2                   		movw	r10, ax
 925 0022 AF 00 00                		movw	ax, !_CFG_parameter+16
 926 0025 BD F0                   		movw	r8, ax
 927 0027 AD F2                   		movw	ax, r10
 928 0029 06 F0                   		addw	ax, r8
 929 002b BD F2                   		movw	r10, ax
 930 002d AF 00 00                		movw	ax, !_M1_Time_Position
 931 0030 BD F0                   		movw	r8, ax
 932 0032 AD F2                   		movw	ax, r10
 933 0034 26 F0                   		subw	ax, r8
 934 0036 B8 04                   		movw	[sp+4], ax
 935 0038 EC BE 00 00             		br	!!.L35
 936                             	.L32:
 909:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
 910:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
 911:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Temp_Time = ((CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time) /100)* CFG_pa
 937                             		.loc 1 911 0
 938 003c AF 00 00                		movw	ax, !_CFG_parameter+12
 939 003f BD F2                   		movw	r10, ax
 940 0041 AF 00 00                		movw	ax, !_CFG_parameter+16
 941 0044 BD F0                   		movw	r8, ax
 942 0046 AD F2                   		movw	ax, r10
 943 0048 06 F0                   		addw	ax, r8
 944 004a BD F0                   		movw	r8, ax
 945 004c 31 2E                   		shrw	ax, 2
 946 004e BD F0                   		movw	r8, ax
 947 0050 30 7B 14                		movw	ax, #5243
 948 0053 12                      		movw	bc, ax
 949 0054 AD F0                   		movw	ax, r8
 950 0056 61 DD                   		push	psw
 951 0058 71 7B FA                		di
 952 005b CF E8 00 00             		mov	!MDUC, #0
 953 005f BE F0                   		movw	MDAL, ax
 954 0061 13                      		movw	ax, bc
 955 0062 BE F2                   		movw	MDAH, ax
 956 0064 00                      		nop
 957 0065 AE F4                   		movw	ax, MDBH
 958 0067 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 959 0069 BD F0                   		movw	r8, ax
 960 006b 31 1E                   		shrw	ax, 1
 961 006d BD F2                   		movw	r10, ax
 962 006f 8F 00 00                		mov	a, !_CFG_parameter+41
 963 0072 9D F0                   		mov	r8, a
 964 0074 F4 F1                   		clrb	r9
 965 0076 AD F0                   		movw	ax, r8
 966 0078 12                      		movw	bc, ax
 967 0079 AD F2                   		movw	ax, r10
 968 007b 61 DD                   		push	psw
 969 007d 71 7B FA                		di
 970 0080 CF E8 00 00             		mov	!MDUC, #0
 971 0084 BE F0                   		movw	MDAL, ax
 972 0086 13                      		movw	ax, bc
 973 0087 BE F2                   		movw	MDAH, ax
 974 0089 00                      		nop
 975 008a AE F6                   		movw	ax, MDBL
 976 008c 61 CD                   		pop 	psw ;mulhi3_g13 ax,r10,r8
 977 008e BD F0                   		movw	r8, ax
 978 0090 B8 02                   		movw	[sp+2], ax
 912:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (Temp_Time > M1_Time_Position)
 979                             		.loc 1 912 0
 980 0092 AF 00 00                		movw	ax, !_M1_Time_Position
 981 0095 BD F0                   		movw	r8, ax
 982 0097 A8 02                   		movw	ax, [sp+2]
 983 0099 46 F0                   		cmpw	ax, r8
 984 009b 61 E3                   		 skh
 985 009d EC B0 00 00             		 br	!!.L34
 913:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Running_Time = Temp_Time - M1_Time_Position;
 986                             		.loc 1 913 0
 987 00a1 AF 00 00                		movw	ax, !_M1_Time_Position
 988 00a4 BD F0                   		movw	r8, ax
 989 00a6 A8 02                   		movw	ax, [sp+2]
 990 00a8 26 F0                   		subw	ax, r8
 991 00aa B8 04                   		movw	[sp+4], ax
 992 00ac EC BE 00 00             		br	!!.L35
 993                             	.L34:
 914:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			else
 915:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Running_Time = 0;
 994                             		.loc 1 915 0
 995 00b0 F6                      		clrw	ax
 996 00b1 B8 04                   		movw	[sp+4], ax
 997 00b3 EC BE 00 00             		br	!!.L35
 998                             	.L31:
 916:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
 917:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 918:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
 919:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
 920:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Running_Time = M1_Time_Position;
 999                             		.loc 1 920 0
 1000 00b7 AF 00 00                		movw	ax, !_M1_Time_Position
 1001 00ba BD F0                   		movw	r8, ax
 1002 00bc B8 04                   		movw	[sp+4], ax
 1003                             	.L35:
 921:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
 922:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 923:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	/* Calculate Time point for time stamp*/
 924:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T1 = CFG_parameter.Motor_Start_Time;
 1004                             		.loc 1 924 0
 1005 00be AF 00 00                		movw	ax, !_CFG_parameter+4
 1006 00c1 BD F0                   		movw	r8, ax
 1007 00c3 BF 00 00                		movw	!_M1_Time_T1, ax
 925:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T2 = M1_Time_T1 + CFG_parameter.Motor_Maximum_Boost_Time;
 1008                             		.loc 1 925 0
 1009 00c6 AF 00 00                		movw	ax, !_CFG_parameter+6
 1010 00c9 BD F2                   		movw	r10, ax
 1011 00cb AF 00 00                		movw	ax, !_M1_Time_T1
 1012 00ce BD F0                   		movw	r8, ax
 1013 00d0 AD F2                   		movw	ax, r10
 1014 00d2 06 F0                   		addw	ax, r8
 1015 00d4 BD F0                   		movw	r8, ax
 1016 00d6 BF 00 00                		movw	!_M1_Time_T2, ax
 926:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T3 = M1_Time_T2 + M1_Running_Time /100 * (100 - CFG_parameter.M1_Deceleration_Space);
 1017                             		.loc 1 926 0
 1018 00d9 A8 04                   		movw	ax, [sp+4]
 1019 00db BD F0                   		movw	r8, ax
 1020 00dd 31 2E                   		shrw	ax, 2
 1021 00df BD F0                   		movw	r8, ax
 1022 00e1 30 7B 14                		movw	ax, #5243
 1023 00e4 12                      		movw	bc, ax
 1024 00e5 AD F0                   		movw	ax, r8
 1025 00e7 61 DD                   		push	psw
 1026 00e9 71 7B FA                		di
 1027 00ec CF E8 00 00             		mov	!MDUC, #0
 1028 00f0 BE F0                   		movw	MDAL, ax
 1029 00f2 13                      		movw	ax, bc
 1030 00f3 BE F2                   		movw	MDAH, ax
 1031 00f5 00                      		nop
 1032 00f6 AE F4                   		movw	ax, MDBH
 1033 00f8 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 1034 00fa BD F0                   		movw	r8, ax
 1035 00fc 31 1E                   		shrw	ax, 1
 1036 00fe BD F0                   		movw	r8, ax
 1037 0100 8F 00 00                		mov	a, !_CFG_parameter+20
 1038 0103 9D F2                   		mov	r10, a
 1039 0105 F4 F3                   		clrb	r11
 1040 0107 30 64 00                		movw	ax, #100
 1041 010a 26 F2                   		subw	ax, r10
 1042 010c BD F2                   		movw	r10, ax
 1043 010e AD F2                   		movw	ax, r10
 1044 0110 12                      		movw	bc, ax
 1045 0111 AD F0                   		movw	ax, r8
 1046 0113 61 DD                   		push	psw
 1047 0115 71 7B FA                		di
 1048 0118 CF E8 00 00             		mov	!MDUC, #0
 1049 011c BE F0                   		movw	MDAL, ax
 1050 011e 13                      		movw	ax, bc
 1051 011f BE F2                   		movw	MDAH, ax
 1052 0121 00                      		nop
 1053 0122 AE F6                   		movw	ax, MDBL
 1054 0124 61 CD                   		pop 	psw ;mulhi3_g13 ax,r8,r10
 1055 0126 BD F2                   		movw	r10, ax
 1056 0128 AF 00 00                		movw	ax, !_M1_Time_T2
 1057 012b BD F0                   		movw	r8, ax
 1058 012d AD F2                   		movw	ax, r10
 1059 012f 06 F0                   		addw	ax, r8
 1060 0131 BD F0                   		movw	r8, ax
 1061 0133 BF 00 00                		movw	!_M1_Time_T3, ax
 927:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T4 = M1_Time_T3 + M1_Running_Time /100 * CFG_parameter.M1_Deceleration_Space;
 1062                             		.loc 1 927 0
 1063 0136 A8 04                   		movw	ax, [sp+4]
 1064 0138 BD F0                   		movw	r8, ax
 1065 013a 31 2E                   		shrw	ax, 2
 1066 013c BD F0                   		movw	r8, ax
 1067 013e 30 7B 14                		movw	ax, #5243
 1068 0141 12                      		movw	bc, ax
 1069 0142 AD F0                   		movw	ax, r8
 1070 0144 61 DD                   		push	psw
 1071 0146 71 7B FA                		di
 1072 0149 CF E8 00 00             		mov	!MDUC, #0
 1073 014d BE F0                   		movw	MDAL, ax
 1074 014f 13                      		movw	ax, bc
 1075 0150 BE F2                   		movw	MDAH, ax
 1076 0152 00                      		nop
 1077 0153 AE F4                   		movw	ax, MDBH
 1078 0155 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 1079 0157 BD F0                   		movw	r8, ax
 1080 0159 31 1E                   		shrw	ax, 1
 1081 015b BD F2                   		movw	r10, ax
 1082 015d 8F 00 00                		mov	a, !_CFG_parameter+20
 1083 0160 9D F0                   		mov	r8, a
 1084 0162 F4 F1                   		clrb	r9
 1085 0164 AD F0                   		movw	ax, r8
 1086 0166 12                      		movw	bc, ax
 1087 0167 AD F2                   		movw	ax, r10
 1088 0169 61 DD                   		push	psw
 1089 016b 71 7B FA                		di
 1090 016e CF E8 00 00             		mov	!MDUC, #0
 1091 0172 BE F0                   		movw	MDAL, ax
 1092 0174 13                      		movw	ax, bc
 1093 0175 BE F2                   		movw	MDAH, ax
 1094 0177 00                      		nop
 1095 0178 AE F6                   		movw	ax, MDBL
 1096 017a 61 CD                   		pop 	psw ;mulhi3_g13 ax,r10,r8
 1097 017c BD F2                   		movw	r10, ax
 1098 017e AF 00 00                		movw	ax, !_M1_Time_T3
 1099 0181 BD F0                   		movw	r8, ax
 1100 0183 AD F2                   		movw	ax, r10
 1101 0185 06 F0                   		addw	ax, r8
 1102 0187 BD F0                   		movw	r8, ax
 1103 0189 BF 00 00                		movw	!_M1_Time_T4, ax
 928:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Time_T5 = M1_Time_T4 + CFG_parameter.Motor_Finish_Time;
 1104                             		.loc 1 928 0
 1105 018c AF 00 00                		movw	ax, !_CFG_parameter+22
 1106 018f BD F2                   		movw	r10, ax
 1107 0191 AF 00 00                		movw	ax, !_M1_Time_T4
 1108 0194 BD F0                   		movw	r8, ax
 1109 0196 AD F2                   		movw	ax, r10
 1110 0198 06 F0                   		addw	ax, r8
 1111 019a BD F0                   		movw	r8, ax
 1112 019c BF 00 00                		movw	!_M1_Time_T5, ax
 929:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 930:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Setting_Courtesy_Light_and_Flash_Light(Moving_Direction);
 1113                             		.loc 1 930 0
 1114 019f 88 0A                   		mov	a, [sp+10]
 1115 01a1 9D F0                   		mov	r8, a
 1116 01a3 98 00                   		mov	[sp], a
 1117 01a5 FC 00 00 00             		call	!!%code(_Setting_Courtesy_Light_and_Flash_Light)
 931:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 1118                             		.loc 1 931 0
 1119 01a9 10 06                   		addw	sp, #6
 1120 01ab D7                      		ret
 1121                             	.LFE9:
 1123                             		.section	.rodata
 1124                             	.LC0:
 1125 0000 72 45 00                		.string	"rE"
 1126                             	.LC1:
 1127 0003 43 6F 00                		.string	"Co"
 1128                             		.section	.text.Power_Failure_Recovery_Process,"ax",@progbits
 1129                             		.global	_Power_Failure_Recovery_Process
 1131                             	_Power_Failure_Recovery_Process:
 1132                             	.LFB10:
 932:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 933:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Partial_Moving_Gate(uint8_t Moving_Direction)
 934:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 935:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if ((M1_Tick_Count > M1_Time_T5) || (FCC1_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))
 936:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 937:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = UNDEFINE_TIMESTAMP;
 938:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Motor1_Disable();
 939:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (Moving_Direction == OPEN_MOVING_DIRECTION)
 940:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_PARTIAL;
 941:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
 942:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSED;
 943:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 944:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		return 0x01;
 945:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 946:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T4)									// Finished Time
 947:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 948:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = FINISHED_TIMESTAMP;
 949:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 950:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T3)									// Deceleration Time
 951:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 952:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = DECELERATION_TIMESTAMP;
 953:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 954:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 955:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T2)									// Normal Time
 956:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 957:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = NORMAL_TIMESTAMP;
 958:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 959:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 960:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > M1_Time_T1)									// Boots Time
 961:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 962:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = BOOST_TIMESTAMP;
 963:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 964:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 965:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else if (M1_Tick_Count > 0)												// Startup Time
 966:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 967:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Timestamp = STARTUP_TIMESTAMP;
 968:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
 969:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	return 0x00;
 970:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
 971:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
 972:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Do_Partial_Open_Gate (uint8_t Photocell_Enable, uint8_t Sensing_Enable)
 973:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
 974:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Partial_Moving_Done;
 975:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 976:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Prepare_To_Partial_Moving(OPEN_MOVING_DIRECTION);
 977:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 978:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 979:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 980:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Open_Enable();										// Enable Motor #1 to Open
 981:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Leaf_No1_State = GATE_STATE_OPENING;
 982:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 983:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Tick_Count = 0;								// Reset Tick count
 984:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M1_Tick_Count = 0;
 985:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Partial_Moving_Done = 0;
 986:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 987:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Start();					// Start Timer channel 1
 988:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
 989:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	while (Partial_Moving_Done == 0x00)
 990:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
 991:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Partial_Moving_Done = Partial_Moving_Gate (OPEN_MOVING_DIRECTION);
 992:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (E_STOP)
 993:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 994:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_EMERGENCY_STOP;
 995:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 996:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
 997:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT1 && (CFG_parameter.Photocell_FT1_Mode_Opening != 0x00)) && (Photocell_Enable == 0x
 998:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
 999:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_PHOTOCELL_FT1;
1000:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1001:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1002:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT2 && (CFG_parameter.Photocell_FT2_Mode_Opening != 0x00)) && (Photocell_Enable == 0x
1003:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1004:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_PHOTOCELL_FT2;
1005:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1006:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1007:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS1 && (CFG_parameter.Sensing_Edge_COS1_Config != 0x00)) && (Sensing_Enable == 0x01)
1008:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1009:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_SENSING_EDGE_COS1;
1010:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1011:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1012:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS2 && (CFG_parameter.Sensing_Edge_COS2_Config > 0x02)) && (Sensing_Enable == 0x01))
1013:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1014:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_SENSING_EDGE_COS2;
1015:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1016:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1017:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1018:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (!PED_IN)
1019:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1020:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(!PED_IN);
1021:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Patial_Function == 0x00)
1022:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1023:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Moving_Done = PARTIAL_COMMAND_STOP;
1024:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1025:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1026:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1027:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1028:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1029:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Stop();										// Stop Timer channel 1
1030:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Stop();												// Enable Sync to control, Motor 1 start opening
1031:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1032:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Disable();
1033:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1034:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No1_State != GATE_STATE_PARTIAL)
1035:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1036:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
1037:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M1_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
1038:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 	M1_Last_Time_Position +	M1_Tick_Count;
1039:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
1040:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1041:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
1042:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1043:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Number_Of_Motors == 0x02)
1044:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M1_Time_Position = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time;
1045:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else
1046:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M1_Time_Position = (CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time) / 100
1047:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
1048:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1049:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1050:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	return (Partial_Moving_Done);
1051:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1052:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1053:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //uint8_t Do_Partial_Close_Gate (uint8_t Photocell_Enable, uint8_t Sensing_Enable)
1054:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1055:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Partial_Moving_Done;
1056:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1057:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Prepare_To_Partial_Moving(CLOSE_MOVING_DIRECTION);
1058:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1059:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
1060:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1061:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Close_Enable();										// Enable Motor #1 to Open
1062:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Leaf_No1_State = GATE_STATE_CLOSING;
1063:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1064:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Tick_Count = 0;								// Reset Tick count
1065:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	M1_Tick_Count = 0;
1066:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1067:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Partial_Moving_Done = 0;
1068:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1069:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Start();					// Start Timer channel 1
1070:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1071:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	while (Partial_Moving_Done == 0x00)
1072:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1073:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Partial_Moving_Done = Partial_Moving_Gate (CLOSE_MOVING_DIRECTION);
1074:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (E_STOP)
1075:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1076:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_EMERGENCY_STOP;
1077:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1078:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1079:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closing != 0x00)) && (Photocell_Enable == 0x
1080:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1081:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_PHOTOCELL_FT1;
1082:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1083:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1084:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((FT2 && (CFG_parameter.Photocell_FT2_Mode_Closing != 0x00)) && (Photocell_Enable == 0x
1085:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1086:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_PHOTOCELL_FT2;
1087:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1088:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1089:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS1 && (CFG_parameter.Sensing_Edge_COS1_Config > 0x02)) && (Sensing_Enable == 0x01))
1090:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1091:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_SENSING_EDGE_COS1;
1092:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1093:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1094:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if ((COS2 && (CFG_parameter.Sensing_Edge_COS2_Config != 0x00)) && (Sensing_Enable == 0x01)
1095:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1096:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = SAFETY_SENSING_EDGE_COS2;
1097:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1098:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1099:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1100:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (!PED_IN)
1101:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1102:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(!PED_IN);
1103:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Moving_Done = PARTIAL_COMMAND_STOP;
1104:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1105:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1106:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1107:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1108:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_TAU0_Channel1_Stop();						// Stop Timer channel 1
1109:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	R_INTC0_Stop();								// Enable Sync to control, Motor 1 start opening
1110:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1111:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Motor1_Disable();
1112:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1113:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if (Leaf_No1_State != GATE_STATE_CLOSED)
1114:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1115:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M1_Tick_Count -= CFG_parameter.Moto
1116:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 	M1_Last_Time_Position -	M1_Tick_Count;
1117:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
1118:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1119:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	else
1120:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1121:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Time_Position = 0;
1122:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Last_Time_Position = M1_Time_Position;
1123:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1124:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1125:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	return (Partial_Moving_Done);
1126:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1127:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1128:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Partial_Open_Gate_After_Safety_Event()
1129:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1130:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Open_Finish_Condition;
1131:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1132:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Open_Finish_Condition = Do_Partial_Open_Gate(0x00, 0x00);
1133:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1134:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if ((Open_Finish_Condition == NORMAL_STOP) || (Open_Finish_Condition == PARTIAL_COMMAND_STOP))
1135:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1136:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Flash_Enable = 0;
1137:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		FLASH = 0;
1138:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1139:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Courtesy_Light_After_Maneuver_Is_Complete();
1140:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1141:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1142:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1143:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Partial_Close_Gate_After_Safety_Event()
1144:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1145:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	uint8_t Close_Finish_Condition;
1146:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1147:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	Close_Finish_Condition = Do_Partial_Close_Gate(0x00, 0x00);
1148:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1149:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	if ((Close_Finish_Condition == NORMAL_STOP) || (Close_Finish_Condition == PARTIAL_COMMAND_STOP))
1150:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1151:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Flash_Enable = 0;
1152:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		FLASH = 0;
1153:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1154:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Courtesy_Light_After_Maneuver_Is_Complete();
1155:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1156:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1157:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1158:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1159:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Safety_Event_Process_During_Gate_Partial_Opening (uint8_t Event_Type)
1160:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1161:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch(Event_Type)
1162:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1163:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT1:
1164:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1165:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT1_Mode_Opening > 0x02)
1166:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1167:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT1);
1168:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)	// Temporary Stop
1169:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1170:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Open_Gate_After_Safety_Event();
1171:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1172:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
1173:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1174:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Close_Gate_After_Safety_Event();
1175:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1176:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1177:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x02)	// Immediate Reverse
1178:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1179:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Close_Gate_After_Safety_Event();
1180:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1181:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
1182:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1183:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT2:
1184:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1185:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT2_Mode_Opening > 0x02)
1186:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1187:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT2);
1188:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)	// Temporary Stop
1189:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1190:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Open_Gate_After_Safety_Event();
1191:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1192:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
1193:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1194:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Close_Gate_After_Safety_Event();
1195:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1196:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1197:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x02)	// Immediate Reverse
1198:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1199:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Close_Gate_After_Safety_Event();
1200:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1201:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
1202:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1203:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS1:
1204:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS2:
1205:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_EMERGENCY_STOP:
1206:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	default: break;
1207:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1208:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1209:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1210:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1211:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Safety_Event_Process_During_Gate_Partial_Closing (uint8_t Event_Type)
1212:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1213:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch(Event_Type)
1214:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1215:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT1:
1216:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1217:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT1_Mode_Closing > 0x02)
1218:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1219:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT1);
1220:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
1221:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1222:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Close_Gate_After_Safety_Event();
1223:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1224:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
1225:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1226:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Open_Gate_After_Safety_Event();
1227:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1228:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1229:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x02)	// Immediate Reverse
1230:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1231:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Open_Gate_After_Safety_Event();
1232:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1233:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
1234:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1235:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_PHOTOCELL_FT2:
1236:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1237:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Photocell_FT2_Mode_Closing > 0x02)
1238:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1239:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while(FT2);
1240:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
1241:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1242:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Close_Gate_After_Safety_Event();
1243:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1244:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else	//Delayed Reverse
1245:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1246:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Partial_Open_Gate_After_Safety_Event();
1247:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1248:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1249:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		else if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x02)	// Immediate Reverse
1250:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1251:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Partial_Open_Gate_After_Safety_Event();
1252:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1253:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	} break;
1254:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1255:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS1:
1256:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_SENSING_EDGE_COS2:
1257:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	case SAFETY_EMERGENCY_STOP:
1258:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	default: break;
1259:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1260:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1261:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1262:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //void Do_After_Partial_Open_Close_Gate (uint8_t Partial_State, uint8_t Move_Direction)
1263:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //{
1264:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	switch (Partial_State)
1265:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	{
1266:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case NORMAL_STOP:	// Normal finish Open
1267:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case PARTIAL_COMMAND_STOP:
1268:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1269:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Flash_Enable = 0;
1270:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			FLASH = 0;
1271:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			Courtesy_Light_After_Maneuver_Is_Complete();
1272:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
1273:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1274:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_EMERGENCY_STOP:
1275:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1276:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
1277:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
1278:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1279:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT1:
1280:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_PHOTOCELL_FT2:
1281:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS1:
1282:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		case SAFETY_SENSING_EDGE_COS2:
1283:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1284:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (Move_Direction == OPEN_MOVING_DIRECTION)
1285:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1286:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Safety_Event_Process_During_Gate_Partial_Opening(Partial_State);
1287:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1288:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else
1289:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1290:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Safety_Event_Process_During_Gate_Partial_Closing(Partial_State);
1291:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1292:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
1293:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1294:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		default:
1295:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1296:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			// Do nothing
1297:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		} break;
1298:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //	}
1299:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1300:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //}
1301:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1302:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Power_Failure_Recovery_Process (void)
1303:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 1133                             		.loc 1 1303 0
 1134                             		; start of function
 1135                             		; locals: 2 bytes
 1136                             		; outgoing: 6 bytes
 1137                             		; uses ES register
 1138 0000 20 08                   		subw	sp, #8
 1139                             	.LCFI3:
1304:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	uint8_t Recovery_Done = 0;
 1140                             		.loc 1 1304 0
 1141 0002 F1                      		clrb	a
 1142 0003 98 07                   		mov	[sp+7], a
1305:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1306:../DGC_A230_Functions/DGC_A230_Motor_Functions.c ****     memcpy(&Parameter_Name[0], "rE", sizeof("--"));
 1143                             		.loc 1 1306 0
 1144 0005 30 00 00                		movw	ax, #_Parameter_Name
 1145 0008 B8 00                   		movw	[sp], ax
 1146 000a 30 00 00                		movw	ax, #.LC0
 1147 000d B8 02                   		movw	[sp+2], ax
 1148 000f 30 03 00                		movw	ax, #3
 1149 0012 B8 04                   		movw	[sp+4], ax
 1150 0014 FC 00 00 00             		call	!!%code(_memcpy)
1307:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	memcpy(&Parameter_Value[0], "Co", sizeof("--"));
 1151                             		.loc 1 1307 0
 1152 0018 30 00 00                		movw	ax, #_Parameter_Value
 1153 001b B8 00                   		movw	[sp], ax
 1154 001d 30 03 00                		movw	ax, #.LC1
 1155 0020 B8 02                   		movw	[sp+2], ax
 1156 0022 30 03 00                		movw	ax, #3
 1157 0025 B8 04                   		movw	[sp+4], ax
 1158 0027 FC 00 00 00             		call	!!%code(_memcpy)
1308:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1309:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Display_Mode = PARA_MODE;
 1159                             		.loc 1 1309 0
 1160 002b 51 03                   		mov	a, #3
 1161 002d 9F 00 00                		mov	!_Display_Mode, a
1310:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1311:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	HMI_Flash_Count = 0;
 1162                             		.loc 1 1311 0
 1163 0030 F5 00 00                		clrb	!_HMI_Flash_Count
1312:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	HMI_Flash_Enable = 1;
 1164                             		.loc 1 1312 0
 1165 0033 E5 00 00                		oneb	!_HMI_Flash_Enable
1313:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1314:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Enable = 1;
 1166                             		.loc 1 1314 0
 1167 0036 E5 00 00                		oneb	!_Flash_Enable
1315:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	FLASH = 1;
 1168                             		.loc 1 1315 0
 1169 0039 C9 F0 02 FF             		movw	r8, #-254
 1170 003d AD F0                   		movw	ax, r8
 1171 003f BD F4                   		movw	r12, ax
 1172 0041 FA F4                   		movw	hl, r12
 1173 0043 8B                      		mov	a, [hl]
 1174 0044 9D F2                   		mov	r10, a
 1175 0046 6A F2 02                		or	r10, #2
 1176 0049 AD F0                   		movw	ax, r8
 1177 004b EA F4                   		movw	de, r12
 1178 004d 8D F2                   		mov	a, r10
 1179 004f 99                      		mov	[de], a
1316:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1317:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Pre_Flash_Type = FLASH_ENABLE_TIMER;
 1180                             		.loc 1 1317 0
 1181 0050 E5 00 00                		oneb	!_Pre_Flash_Type
1318:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Timer_Counter = 0;
 1182                             		.loc 1 1318 0
 1183 0053 F5 00 00                		clrb	!_Flash_Timer_Counter
1319:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1320:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	//code [A3]
1321:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	SC_EN = 0;
 1184                             		.loc 1 1321 0
 1185 0056 C9 F0 02 FF             		movw	r8, #-254
 1186 005a AD F0                   		movw	ax, r8
 1187 005c BD F4                   		movw	r12, ax
 1188 005e FA F4                   		movw	hl, r12
 1189 0060 8B                      		mov	a, [hl]
 1190 0061 9D F2                   		mov	r10, a
 1191 0063 5A F2 7F                		and	r10, #127
 1192 0066 AD F0                   		movw	ax, r8
 1193 0068 EA F4                   		movw	de, r12
 1194 006a 8D F2                   		mov	a, r10
 1195 006c 99                      		mov	[de], a
1322:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	//code [A3] end
1323:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while (Flash_Timer_Counter < 10); // Flashing warning signal 5 second prior to recovery
 1196                             		.loc 1 1323 0
 1197 006d 00                      		nop
 1198                             	.L37:
 1199                             		.loc 1 1323 0 is_stmt 0 discriminator 1
 1200 006e 8F 00 00                		mov	a, !_Flash_Timer_Counter
 1201 0071 9D F0                   		mov	r8, a
 1202 0073 4A F0 09                		cmp	r8, #9
 1203 0076 61 E3                   		 skh
 1204 0078 EC 6E 00 00             		 br	!!.L37
1324:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Pre_Flash_Type = FLASH_DISABLE_TIMER;
 1205                             		.loc 1 1324 0 is_stmt 1
 1206 007c F5 00 00                		clrb	!_Pre_Flash_Type
1325:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1326:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	FLASH = 0;
 1207                             		.loc 1 1326 0
 1208 007f C9 F0 02 FF             		movw	r8, #-254
 1209 0083 AD F0                   		movw	ax, r8
 1210 0085 BD F4                   		movw	r12, ax
 1211 0087 FA F4                   		movw	hl, r12
 1212 0089 8B                      		mov	a, [hl]
 1213 008a 9D F2                   		mov	r10, a
 1214 008c 5A F2 FD                		and	r10, #-3
 1215 008f AD F0                   		movw	ax, r8
 1216 0091 EA F4                   		movw	de, r12
 1217 0093 8D F2                   		mov	a, r10
 1218 0095 99                      		mov	[de], a
1327:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Frequency_Config = FLASH_LIGHT_FREQUENCY_RECOVERY;
 1219                             		.loc 1 1327 0
 1220 0096 51 03                   		mov	a, #3
 1221 0098 9F 00 00                		mov	!_Flash_Frequency_Config, a
1328:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Frequency_Count = 0;
 1222                             		.loc 1 1328 0
 1223 009b F5 00 00                		clrb	!_Flash_Frequency_Count
1329:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1330:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Encoder_Config == 0x00)			// Without Encoder is installed
 1224                             		.loc 1 1330 0
 1225 009e 8F 00 00                		mov	a, !_CFG_parameter+72
 1226 00a1 9D F0                   		mov	r8, a
 1227 00a3 D4 F0                   		cmp0	r8
 1228 00a5 61 E8                   		 skz
 1229 00a7 EC 67 02 00             		 br	!!.L38
 1230                             	.LBB3:
1331:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1332:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 1231                             		.loc 1 1332 0
 1232 00ab AF 00 00                		movw	ax, !_CFG_parameter+50
 1233 00ae BD F0                   		movw	r8, ax
 1234 00b0 BF 00 00                		movw	!_M1_Torque_Setting, ax
1333:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 1235                             		.loc 1 1333 0
 1236 00b3 AF 00 00                		movw	ax, !_CFG_parameter+50
 1237 00b6 BD F0                   		movw	r8, ax
 1238 00b8 BF 00 00                		movw	!_M2_Torque_Setting, ax
1334:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1335:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = UNDEFINE_TIMESTAMP;
 1239                             		.loc 1 1335 0
 1240 00bb F5 00 00                		clrb	!_M1_Timestamp
1336:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Timestamp = UNDEFINE_TIMESTAMP;
 1241                             		.loc 1 1336 0
 1242 00be F5 00 00                		clrb	!_M2_Timestamp
1337:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1338:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		//code [A3]
1339:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
1340:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Motor1_Open_Enable();											// Enable Motor #1 Open
1341:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Leaf_No1_State = GATE_STATE_OPENING;
1342:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1343:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1344:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Tick_Count = 0;													// Reset Tick count
1345:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M1_Tick_Count = 0;
1346:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		M2_Tick_Count = 0;												// Start counter to M2
1347:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Recovery_Done = 0;
1348:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1349:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		R_TAU0_Channel1_Start();										// Start Timer channel 1
1350:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1351:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
1352:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1353:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			while (Tick_Count < CFG_parameter.Motor_No2_Open_Delay_Time);
1354:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			M2_Tick_Count = 0;												// Start counter to M2
1355:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (Leaf_No2_State != GATE_STATE_OPENED)
1356:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1357:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Motor2_Open_Enable();											// Enable Motor #2 Open
1358:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Leaf_No2_State = GATE_STATE_OPENING;
1359:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1360:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1361:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1362:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		while (Recovery_Done == 0)				// Start Opening
1363:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		{
1364:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if ((M1_Tick_Count >= (CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time - C
1365:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				|| (FCA1_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))								// Open Limit switch
1366:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1367:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Motor1_Disable();
1368:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				Leaf_No1_State = GATE_STATE_OPENED;
1369:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1370:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1371:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
1372:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1373:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1374:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				if ((M2_Tick_Count >= (CFG_parameter.M2_Maneuver_Time + CFG_parameter.M2_Deceleration_Time - 
1375:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					|| (FCA2_IN && (CFG_parameter.Limit_Switch_Config != 0x00)))								// Open Limit switch
1376:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
1377:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Motor2_Disable();
1378:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Leaf_No2_State = GATE_STATE_OPENED;
1379:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				}
1380:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1381:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1382:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
1383:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1384:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				if ((Leaf_No1_State == GATE_STATE_OPENED) && (Leaf_No2_State == GATE_STATE_OPENED))
1385:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
1386:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Recovery_Done = 1;
1387:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				}
1388:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1389:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			else
1390:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			{
1391:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				if (Leaf_No1_State == GATE_STATE_OPENED)
1392:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				{
1393:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //					Recovery_Done = 1;
1394:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //				}
1395:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //			}
1396:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		}
1397:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1398:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		Tick_Count = 0;													// Reset Tick count
1399:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		while (Tick_Count < 100);										// wait for 1 second
1400:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		R_TAU0_Channel1_Stop();											// Stop Timer channel 1
1401:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //
1402:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** //		//code [A3] end
1403:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1404:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (CFG_parameter.Number_Of_Motors == 0x02)							// when using 2 Motors
 1243                             		.loc 1 1404 0
 1244 00c1 8F 00 00                		mov	a, !_CFG_parameter+1
 1245 00c4 9D F0                   		mov	r8, a
 1246 00c6 4A F0 02                		cmp	r8, #2
 1247 00c9 61 E8                   		 skz
 1248 00cb EC DC 00 00             		 br	!!.L39
1405:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1406:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor2_Close_Enable();											// Enable Motor #2 Open
 1249                             		.loc 1 1406 0
 1250 00cf FC 00 00 00             		call	!!%code(_Motor2_Close_Enable)
1407:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No2_State = GATE_STATE_CLOSING;
 1251                             		.loc 1 1407 0
 1252 00d3 51 04                   		mov	a, #4
 1253 00d5 9F 00 00                		mov	!_Leaf_No2_State, a
 1254 00d8 EC E5 00 00             		br	!!.L40
 1255                             	.L39:
1408:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1409:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1410:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1411:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor1_Close_Enable();											// Enable Motor #1 Open
 1256                             		.loc 1 1411 0
 1257 00dc FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1412:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No1_State = GATE_STATE_CLOSING;
 1258                             		.loc 1 1412 0
 1259 00e0 51 04                   		mov	a, #4
 1260 00e2 9F 00 00                		mov	!_Leaf_No1_State, a
 1261                             	.L40:
1413:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1414:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1415:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Tick_Count = 0;													// Reset Tick count
 1262                             		.loc 1 1415 0
 1263 00e5 F6                      		clrw	ax
 1264 00e6 BF 00 00                		movw	!_Tick_Count, ax
1416:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Tick_Count = 0;
 1265                             		.loc 1 1416 0
 1266 00e9 F6                      		clrw	ax
 1267 00ea BF 00 00                		movw	!_M1_Tick_Count, ax
1417:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Tick_Count = 0;												// Start counter to M2
 1268                             		.loc 1 1417 0
 1269 00ed F6                      		clrw	ax
 1270 00ee BF 00 00                		movw	!_M2_Tick_Count, ax
1418:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Recovery_Done = 0;
 1271                             		.loc 1 1418 0
 1272 00f1 F1                      		clrb	a
 1273 00f2 98 07                   		mov	[sp+7], a
1419:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1420:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		R_TAU0_Channel1_Start();										// Start Timer channel 1
 1274                             		.loc 1 1420 0
 1275 00f4 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Start)
1421:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1422:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
 1276                             		.loc 1 1422 0
 1277 00f8 8F 00 00                		mov	a, !_CFG_parameter+1
 1278 00fb 9D F0                   		mov	r8, a
 1279 00fd 4A F0 02                		cmp	r8, #2
 1280 0100 61 E8                   		 skz
 1281 0102 EC 36 01 00             		 br	!!.L41
1423:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1424:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			while (Tick_Count < CFG_parameter.Motor_No1_Close_Delay_Time);
 1282                             		.loc 1 1424 0
 1283 0106 00                      		nop
 1284                             	.L42:
 1285                             		.loc 1 1424 0 is_stmt 0 discriminator 1
 1286 0107 AF 00 00                		movw	ax, !_CFG_parameter+26
 1287 010a BD F2                   		movw	r10, ax
 1288 010c AF 00 00                		movw	ax, !_Tick_Count
 1289 010f BD F0                   		movw	r8, ax
 1290 0111 AD F2                   		movw	ax, r10
 1291 0113 46 F0                   		cmpw	ax, r8
 1292 0115 61 F3                   		 sknh
 1293 0117 EC 07 01 00             		 br	!!.L42
1425:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Tick_Count = 0;
 1294                             		.loc 1 1425 0 is_stmt 1
 1295 011b F6                      		clrw	ax
 1296 011c BF 00 00                		movw	!_M1_Tick_Count, ax
1426:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (Leaf_No1_State != GATE_STATE_CLOSED)
 1297                             		.loc 1 1426 0
 1298 011f 8F 00 00                		mov	a, !_Leaf_No1_State
 1299 0122 9D F0                   		mov	r8, a
 1300 0124 4A F0 01                		cmp	r8, #1
 1301 0127 61 F8                   		 sknz
 1302 0129 EC 36 01 00             		 br	!!.L41
1427:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1428:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Motor1_Close_Enable();											// Enable Motor #2 Open
 1303                             		.loc 1 1428 0
 1304 012d FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1429:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_CLOSING;
 1305                             		.loc 1 1429 0
 1306 0131 51 04                   		mov	a, #4
 1307 0133 9F 00 00                		mov	!_Leaf_No1_State, a
 1308                             	.L41:
1430:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1431:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1432:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		while (Recovery_Done == 0)				// Start Closing
 1309                             		.loc 1 1432 0
 1310 0136 EC 43 02 00             		br	!!.L43
 1311                             	.L50:
1433:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1434:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if ((M1_Tick_Count >= (CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time - CFG
 1312                             		.loc 1 1434 0
 1313 013a AF 00 00                		movw	ax, !_CFG_parameter+12
 1314 013d BD F2                   		movw	r10, ax
 1315 013f AF 00 00                		movw	ax, !_CFG_parameter+16
 1316 0142 BD F0                   		movw	r8, ax
 1317 0144 AD F2                   		movw	ax, r10
 1318 0146 06 F0                   		addw	ax, r8
 1319 0148 BD F2                   		movw	r10, ax
 1320 014a AF 00 00                		movw	ax, !_CFG_parameter+8
 1321 014d BD F0                   		movw	r8, ax
 1322 014f AD F2                   		movw	ax, r10
 1323 0151 26 F0                   		subw	ax, r8
 1324 0153 BD F0                   		movw	r8, ax
 1325 0155 04 CE FF                		addw	ax, #-50
 1326 0158 BD F2                   		movw	r10, ax
 1327 015a AF 00 00                		movw	ax, !_M1_Tick_Count
 1328 015d BD F0                   		movw	r8, ax
 1329 015f AD F2                   		movw	ax, r10
 1330 0161 46 F0                   		cmpw	ax, r8
 1331 0163 61 E3                   		 skh
 1332 0165 EC 91 01 00             		 br	!!.L44
1435:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				|| (FCC1_IN && (CFG_parameter.Limit_Switch_Config == 0x01)))								// Open Limit switch
 1333                             		.loc 1 1435 0
 1334 0169 C9 F0 04 FF             		movw	r8, #-252
 1335 016d AD F0                   		movw	ax, r8
 1336 016f BD F2                   		movw	r10, ax
 1337 0171 FA F2                   		movw	hl, r10
 1338 0173 8B                      		mov	a, [hl]
 1339 0174 9D F0                   		mov	r8, a
 1340 0176 31 2A                   		shr	a, 2
 1341 0178 9D F0                   		mov	r8, a
 1342 017a 5A F0 01                		and	r8, #1
 1343 017d 61 F8                   		sknz
 1344 017f EC 98 01 00             		 br	!!.L45
 1345                             		 # zero-comparison eliminated
 1346                             		.loc 1 1435 0 is_stmt 0 discriminator 1
 1347 0183 8F 00 00                		mov	a, !_CFG_parameter+71
 1348 0186 9D F0                   		mov	r8, a
 1349 0188 4A F0 01                		cmp	r8, #1
 1350 018b 61 E8                   		 skz
 1351 018d EC 98 01 00             		 br	!!.L45
 1352                             	.L44:
1436:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1437:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Motor1_Disable();
 1353                             		.loc 1 1437 0 is_stmt 1
 1354 0191 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1438:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_CLOSED;
 1355                             		.loc 1 1438 0
 1356 0195 E5 00 00                		oneb	!_Leaf_No1_State
 1357                             	.L45:
1439:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1440:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1441:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
 1358                             		.loc 1 1441 0
 1359 0198 8F 00 00                		mov	a, !_CFG_parameter+1
 1360 019b 9D F0                   		mov	r8, a
 1361 019d 4A F0 02                		cmp	r8, #2
 1362 01a0 61 E8                   		 skz
 1363 01a2 EC 01 02 00             		 br	!!.L46
1442:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1443:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1444:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				if ((M2_Tick_Count >= (CFG_parameter.M2_Maneuver_Time + CFG_parameter.M2_Deceleration_Time - CF
 1364                             		.loc 1 1444 0
 1365 01a6 AF 00 00                		movw	ax, !_CFG_parameter+14
 1366 01a9 BD F2                   		movw	r10, ax
 1367 01ab AF 00 00                		movw	ax, !_CFG_parameter+18
 1368 01ae BD F0                   		movw	r8, ax
 1369 01b0 AD F2                   		movw	ax, r10
 1370 01b2 06 F0                   		addw	ax, r8
 1371 01b4 BD F2                   		movw	r10, ax
 1372 01b6 AF 00 00                		movw	ax, !_CFG_parameter+10
 1373 01b9 BD F0                   		movw	r8, ax
 1374 01bb AD F2                   		movw	ax, r10
 1375 01bd 26 F0                   		subw	ax, r8
 1376 01bf BD F0                   		movw	r8, ax
 1377 01c1 04 CE FF                		addw	ax, #-50
 1378 01c4 BD F2                   		movw	r10, ax
 1379 01c6 AF 00 00                		movw	ax, !_M2_Tick_Count
 1380 01c9 BD F0                   		movw	r8, ax
 1381 01cb AD F2                   		movw	ax, r10
 1382 01cd 46 F0                   		cmpw	ax, r8
 1383 01cf 61 E3                   		 skh
 1384 01d1 EC FA 01 00             		 br	!!.L47
1445:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					|| (FCC2_IN && (CFG_parameter.Limit_Switch_Config == 0x01)))								// Open Limit switch
 1385                             		.loc 1 1445 0
 1386 01d5 C9 F0 0C FF             		movw	r8, #-244
 1387 01d9 AD F0                   		movw	ax, r8
 1388 01db BD F4                   		movw	r12, ax
 1389 01dd EA F4                   		movw	de, r12
 1390 01df 89                      		mov	a, [de]
 1391 01e0 5C 01                   		and	a, #1
 1392 01e2 9D F0                   		mov	r8, a
 1393 01e4 D4 F0                   		cmp0	r8
 1394 01e6 61 F8                   		 sknz
 1395 01e8 EC 01 02 00             		 br	!!.L46
 1396                             		.loc 1 1445 0 is_stmt 0 discriminator 1
 1397 01ec 8F 00 00                		mov	a, !_CFG_parameter+71
 1398 01ef 9D F0                   		mov	r8, a
 1399 01f1 4A F0 01                		cmp	r8, #1
 1400 01f4 61 E8                   		 skz
 1401 01f6 EC 01 02 00             		 br	!!.L46
 1402                             	.L47:
1446:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1447:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Motor2_Disable();
 1403                             		.loc 1 1447 0 is_stmt 1
 1404 01fa FC 00 00 00             		call	!!%code(_Motor2_Disable)
1448:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Leaf_No2_State = GATE_STATE_CLOSED;
 1405                             		.loc 1 1448 0
 1406 01fe E5 00 00                		oneb	!_Leaf_No2_State
 1407                             	.L46:
1449:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				}
1450:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1451:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1452:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)				// when using 2 Motors
 1408                             		.loc 1 1452 0
 1409 0201 8F 00 00                		mov	a, !_CFG_parameter+1
 1410 0204 9D F0                   		mov	r8, a
 1411 0206 4A F0 02                		cmp	r8, #2
 1412 0209 61 E8                   		 skz
 1413 020b EC 32 02 00             		 br	!!.L48
1453:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1454:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				if ((Leaf_No1_State == GATE_STATE_CLOSED) && (Leaf_No2_State == GATE_STATE_CLOSED))
 1414                             		.loc 1 1454 0
 1415 020f 8F 00 00                		mov	a, !_Leaf_No1_State
 1416 0212 9D F0                   		mov	r8, a
 1417 0214 4A F0 01                		cmp	r8, #1
 1418 0217 61 E8                   		 skz
 1419 0219 EC 43 02 00             		 br	!!.L43
 1420                             		.loc 1 1454 0 is_stmt 0 discriminator 1
 1421 021d 8F 00 00                		mov	a, !_Leaf_No2_State
 1422 0220 9D F0                   		mov	r8, a
 1423 0222 4A F0 01                		cmp	r8, #1
 1424 0225 61 E8                   		 skz
 1425 0227 EC 43 02 00             		 br	!!.L43
1455:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1456:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Recovery_Done = 1;
 1426                             		.loc 1 1456 0 is_stmt 1
 1427 022b E1                      		oneb	a
 1428 022c 98 07                   		mov	[sp+7], a
 1429 022e EC 43 02 00             		br	!!.L43
 1430                             	.L48:
1457:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				}
1458:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1459:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			else
1460:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1461:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				if (Leaf_No1_State == GATE_STATE_CLOSED)
 1431                             		.loc 1 1461 0
 1432 0232 8F 00 00                		mov	a, !_Leaf_No1_State
 1433 0235 9D F0                   		mov	r8, a
 1434 0237 4A F0 01                		cmp	r8, #1
 1435 023a 61 E8                   		 skz
 1436 023c EC 43 02 00             		 br	!!.L43
1462:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1463:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Recovery_Done = 1;
 1437                             		.loc 1 1463 0
 1438 0240 E1                      		oneb	a
 1439 0241 98 07                   		mov	[sp+7], a
 1440                             	.L43:
1432:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
 1441                             		.loc 1 1432 0
 1442 0243 88 07                   		mov	a, [sp+7]
 1443 0245 D1                      		cmp0	a
 1444 0246 61 F8                   		 sknz
 1445 0248 EC 3A 01 00             		 br	!!.L50
1464:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				}
1465:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1466:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1467:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1468:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		R_TAU0_Channel1_Stop();											// Stop Timer channel 1
 1446                             		.loc 1 1468 0
 1447 024c FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Stop)
1469:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		R_INTC0_Stop();													// Disable Sync to control
 1448                             		.loc 1 1469 0
 1449 0250 FC 00 00 00             		call	!!%code(_R_INTC0_Stop)
1470:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1471:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Time_Position = 0;
 1450                             		.loc 1 1471 0
 1451 0254 F6                      		clrw	ax
 1452 0255 BF 00 00                		movw	!_M1_Time_Position, ax
1472:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Last_Time_Position = 0;
 1453                             		.loc 1 1472 0
 1454 0258 F6                      		clrw	ax
 1455 0259 BF 00 00                		movw	!_M1_Last_Time_Position, ax
1473:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Time_Position = 0;
 1456                             		.loc 1 1473 0
 1457 025c F6                      		clrw	ax
 1458 025d BF 00 00                		movw	!_M2_Time_Position, ax
1474:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M2_Last_Time_Position = 0;
 1459                             		.loc 1 1474 0
 1460 0260 F6                      		clrw	ax
 1461 0261 BF 00 00                		movw	!_M2_Last_Time_Position, ax
1475:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1476:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Power_failure = POWER_GOOD_STATE;
 1462                             		.loc 1 1476 0
 1463 0264 F5 00 00                		clrb	!_Power_failure
 1464                             	.L38:
 1465                             	.LBE3:
1477:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1478:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else												// With Encoder is installed
1479:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1480:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1481:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1482:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1483:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Flash_Enable = 0;
 1466                             		.loc 1 1483 0
 1467 0267 F5 00 00                		clrb	!_Flash_Enable
1484:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	FLASH = 0;
 1468                             		.loc 1 1484 0
 1469 026a C9 F0 02 FF             		movw	r8, #-254
 1470 026e AD F0                   		movw	ax, r8
 1471 0270 BD F4                   		movw	r12, ax
 1472 0272 FA F4                   		movw	hl, r12
 1473 0274 8B                      		mov	a, [hl]
 1474 0275 9D F2                   		mov	r10, a
 1475 0277 5A F2 FD                		and	r10, #-3
 1476 027a AD F0                   		movw	ax, r8
 1477 027c EA F4                   		movw	de, r12
 1478 027e 8D F2                   		mov	a, r10
 1479 0280 99                      		mov	[de], a
1485:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1486:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	HMI_Flash_Enable = 0;
 1480                             		.loc 1 1486 0
 1481 0281 F5 00 00                		clrb	!_HMI_Flash_Enable
1487:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Mask = 0xff;
 1482                             		.loc 1 1487 0
 1483 0284 51 FF                   		mov	a, #-1
 1484 0286 9F 00 00                		mov	!_Mask, a
1488:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1489:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Display_Mode = NORMAL_MODE;
 1485                             		.loc 1 1489 0
 1486 0289 F5 00 00                		clrb	!_Display_Mode
1490:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 1487                             		.loc 1 1490 0
 1488 028c 10 08                   		addw	sp, #8
 1489 028e D7                      		ret
 1490                             	.LFE10:
 1492                             		.section	.text.Timing_Motor_Machine_State,"ax",@progbits
 1493                             		.global	_Timing_Motor_Machine_State
 1495                             	_Timing_Motor_Machine_State:
 1496                             	.LFB11:
1491:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1492:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void Timing_Motor_Machine_State (void)
1493:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 1497                             		.loc 1 1493 0
1494:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1495:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if ((M1_Tick_Count > M1_Time_T5))	// Opening
 1498                             		.loc 1 1495 0
 1499 0000 AF 00 00                		movw	ax, !_M1_Tick_Count
 1500 0003 BD F2                   		movw	r10, ax
 1501 0005 AF 00 00                		movw	ax, !_M1_Time_T5
 1502 0008 BD F0                   		movw	r8, ax
 1503 000a AD F2                   		movw	ax, r10
 1504 000c 46 F0                   		cmpw	ax, r8
 1505 000e 61 E3                   		 skh
 1506 0010 EC 84 00 00             		 br	!!.L52
1496:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1497:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = UNDEFINE_TIMESTAMP;
 1507                             		.loc 1 1497 0
 1508 0014 F5 00 00                		clrb	!_M1_Timestamp
1498:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Disable();
 1509                             		.loc 1 1498 0
 1510 0017 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1499:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		switch (Machine_State)
 1511                             		.loc 1 1499 0
 1512 001b 8F 00 00                		mov	a, !_Machine_State
 1513 001e 9D F0                   		mov	r8, a
 1514 0020 F4 F1                   		clrb	r9
 1515 0022 AD F0                   		movw	ax, r8
 1516 0024 44 02 00                		cmpw	ax, #2
 1517 0027 61 F8                   		 sknz
 1518 0029 EC 6C 00 00             		 br	!!.L54
 1519 002d AD F0                   		movw	ax, r8
 1520 002f 44 02 00                		cmpw	ax, #2
 1521 0032 71 FF                   		 xor1	CY, a.7
 1522 0034 61 F3                   		 sknh
 1523 0036 EC 49 00 00             		 br	!!.L55
 1524 003a AD F0                   		movw	ax, r8
 1525 003c 44 01 00                		cmpw	ax, #1
 1526 003f 61 F8                   		 sknz
 1527 0041 EC 63 00 00             		 br	!!.L56
1500:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1501:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_NORMAL_OPENING:
1502:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1503:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_OPENED;
1504:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
1505:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
1506:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1507:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_CLOSED;
1508:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
1509:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
1510:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1511:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_PARTIAL;
1512:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
1513:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
1514:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1515:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				Leaf_No1_State = GATE_STATE_CLOSED;
1516:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
1517:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			default:
1518:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1519:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				// Do Nothing
1520:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
 1528                             		.loc 1 1520 0
 1529 0045 EC 80 00 00             		br	!!.L59
 1530                             	.L55:
1499:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		switch (Machine_State)
 1531                             		.loc 1 1499 0
 1532 0049 AD F0                   		movw	ax, r8
 1533 004b 44 03 00                		cmpw	ax, #3
 1534 004e 61 F8                   		 sknz
 1535 0050 EC 73 00 00             		 br	!!.L57
 1536 0054 AD F0                   		movw	ax, r8
 1537 0056 44 04 00                		cmpw	ax, #4
 1538 0059 61 F8                   		 sknz
 1539 005b EC 7C 00 00             		 br	!!.L58
 1540                             		.loc 1 1520 0
 1541 005f EC 80 00 00             		br	!!.L59
 1542                             	.L56:
1503:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
 1543                             		.loc 1 1503 0
 1544 0063 51 03                   		mov	a, #3
 1545 0065 9F 00 00                		mov	!_Leaf_No1_State, a
1504:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 1546                             		.loc 1 1504 0
 1547 0068 EC 80 00 00             		br	!!.L59
 1548                             	.L54:
1507:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
 1549                             		.loc 1 1507 0
 1550 006c E5 00 00                		oneb	!_Leaf_No1_State
1508:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 1551                             		.loc 1 1508 0
 1552 006f EC 80 00 00             		br	!!.L59
 1553                             	.L57:
1511:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
 1554                             		.loc 1 1511 0
 1555 0073 51 05                   		mov	a, #5
 1556 0075 9F 00 00                		mov	!_Leaf_No1_State, a
1512:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
 1557                             		.loc 1 1512 0
 1558 0078 EC 80 00 00             		br	!!.L59
 1559                             	.L58:
1515:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			} break;
 1560                             		.loc 1 1515 0
 1561 007c E5 00 00                		oneb	!_Leaf_No1_State
1516:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			default:
 1562                             		.loc 1 1516 0
 1563 007f 00                      		nop
 1564                             	.L59:
 1565 0080 EC 21 01 00             		br	!!.L60
 1566                             	.L52:
1521:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1522:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1523:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1524:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (M1_Tick_Count > M1_Time_T4)									// Finished Time
 1567                             		.loc 1 1524 0
 1568 0084 AF 00 00                		movw	ax, !_M1_Tick_Count
 1569 0087 BD F2                   		movw	r10, ax
 1570 0089 AF 00 00                		movw	ax, !_M1_Time_T4
 1571 008c BD F0                   		movw	r8, ax
 1572 008e AD F2                   		movw	ax, r10
 1573 0090 46 F0                   		cmpw	ax, r8
 1574 0092 61 E3                   		 skh
 1575 0094 EC A1 00 00             		 br	!!.L61
1525:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1526:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = FINISHED_TIMESTAMP;
 1576                             		.loc 1 1526 0
 1577 0098 51 05                   		mov	a, #5
 1578 009a 9F 00 00                		mov	!_M1_Timestamp, a
 1579 009d EC 21 01 00             		br	!!.L60
 1580                             	.L61:
1527:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1528:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1529:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (M1_Tick_Count > M1_Time_T3)									// Deceleration Time
 1581                             		.loc 1 1529 0
 1582 00a1 AF 00 00                		movw	ax, !_M1_Tick_Count
 1583 00a4 BD F2                   		movw	r10, ax
 1584 00a6 AF 00 00                		movw	ax, !_M1_Time_T3
 1585 00a9 BD F0                   		movw	r8, ax
 1586 00ab AD F2                   		movw	ax, r10
 1587 00ad 46 F0                   		cmpw	ax, r8
 1588 00af 61 E3                   		 skh
 1589 00b1 EC C6 00 00             		 br	!!.L62
1530:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1531:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = DECELERATION_TIMESTAMP;
 1590                             		.loc 1 1531 0
 1591 00b5 51 04                   		mov	a, #4
 1592 00b7 9F 00 00                		mov	!_M1_Timestamp, a
1532:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 1593                             		.loc 1 1532 0
 1594 00ba AF 00 00                		movw	ax, !_CFG_parameter+52
 1595 00bd BD F0                   		movw	r8, ax
 1596 00bf BF 00 00                		movw	!_M1_Torque_Setting, ax
 1597 00c2 EC 21 01 00             		br	!!.L60
 1598                             	.L62:
1533:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1534:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (M1_Tick_Count > M1_Time_T2)									// Normal Time
 1599                             		.loc 1 1534 0
 1600 00c6 AF 00 00                		movw	ax, !_M1_Tick_Count
 1601 00c9 BD F2                   		movw	r10, ax
 1602 00cb AF 00 00                		movw	ax, !_M1_Time_T2
 1603 00ce BD F0                   		movw	r8, ax
 1604 00d0 AD F2                   		movw	ax, r10
 1605 00d2 46 F0                   		cmpw	ax, r8
 1606 00d4 61 E3                   		 skh
 1607 00d6 EC EB 00 00             		 br	!!.L63
1535:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1536:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = NORMAL_TIMESTAMP;
 1608                             		.loc 1 1536 0
 1609 00da 51 03                   		mov	a, #3
 1610 00dc 9F 00 00                		mov	!_M1_Timestamp, a
1537:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 1611                             		.loc 1 1537 0
 1612 00df AF 00 00                		movw	ax, !_CFG_parameter+50
 1613 00e2 BD F0                   		movw	r8, ax
 1614 00e4 BF 00 00                		movw	!_M1_Torque_Setting, ax
 1615 00e7 EC 21 01 00             		br	!!.L60
 1616                             	.L63:
1538:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1539:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (M1_Tick_Count > M1_Time_T1)									// Boots Time
 1617                             		.loc 1 1539 0
 1618 00eb AF 00 00                		movw	ax, !_M1_Tick_Count
 1619 00ee BD F2                   		movw	r10, ax
 1620 00f0 AF 00 00                		movw	ax, !_M1_Time_T1
 1621 00f3 BD F0                   		movw	r8, ax
 1622 00f5 AD F2                   		movw	ax, r10
 1623 00f7 46 F0                   		cmpw	ax, r8
 1624 00f9 61 E3                   		 skh
 1625 00fb EC 10 01 00             		 br	!!.L64
1540:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1541:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = BOOST_TIMESTAMP;
 1626                             		.loc 1 1541 0
 1627 00ff 51 02                   		mov	a, #2
 1628 0101 9F 00 00                		mov	!_M1_Timestamp, a
1542:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 1629                             		.loc 1 1542 0
 1630 0104 AF 00 00                		movw	ax, !_CFG_parameter+54
 1631 0107 BD F0                   		movw	r8, ax
 1632 0109 BF 00 00                		movw	!_M1_Torque_Setting, ax
 1633 010c EC 21 01 00             		br	!!.L60
 1634                             	.L64:
1543:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1544:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else if (M1_Tick_Count > 0)												// Startup Time
 1635                             		.loc 1 1544 0
 1636 0110 AF 00 00                		movw	ax, !_M1_Tick_Count
 1637 0113 BD F0                   		movw	r8, ax
 1638 0115 44 00 00                		cmpw	ax, #0
 1639 0118 61 F8                   		 sknz
 1640 011a EC 21 01 00             		 br	!!.L60
1545:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1546:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		M1_Timestamp = STARTUP_TIMESTAMP;
 1641                             		.loc 1 1546 0
 1642 011e E5 00 00                		oneb	!_M1_Timestamp
 1643                             	.L60:
1547:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1548:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1549:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Number_Of_Motors == 0x02)	// when using 2 Motors Delay
 1644                             		.loc 1 1549 0
 1645 0121 8F 00 00                		mov	a, !_CFG_parameter+1
 1646 0124 9D F0                   		mov	r8, a
 1647 0126 4A F0 02                		cmp	r8, #2
 1648 0129 61 E8                   		 skz
 1649 012b EC A1 01 00             		 br	!!.L65
1550:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1551:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if((Tick_Count >= CFG_parameter.Motor_No2_Open_Delay_Time) && (Leaf_No2_State != GATE_STATE_OPENE
 1650                             		.loc 1 1551 0
 1651 012f AF 00 00                		movw	ax, !_CFG_parameter+24
 1652 0132 BD F2                   		movw	r10, ax
 1653 0134 AF 00 00                		movw	ax, !_Tick_Count
 1654 0137 BD F0                   		movw	r8, ax
 1655 0139 AD F2                   		movw	ax, r10
 1656 013b 46 F0                   		cmpw	ax, r8
 1657 013d 61 F3                   		 sknh
 1658 013f EC 68 01 00             		 br	!!.L66
 1659                             		.loc 1 1551 0 is_stmt 0 discriminator 1
 1660 0143 8F 00 00                		mov	a, !_Leaf_No2_State
 1661 0146 9D F0                   		mov	r8, a
 1662 0148 4A F0 03                		cmp	r8, #3
 1663 014b 61 F8                   		 sknz
 1664 014d EC 68 01 00             		 br	!!.L66
 1665                             		.loc 1 1551 0 discriminator 2
 1666 0151 8F 00 00                		mov	a, !_Machine_State
 1667 0154 9D F0                   		mov	r8, a
 1668 0156 4A F0 01                		cmp	r8, #1
 1669 0159 61 E8                   		 skz
 1670 015b EC 68 01 00             		 br	!!.L66
1552:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1553:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor2_Open_Enable();											// Enable Motor #2 Open
 1671                             		.loc 1 1553 0 is_stmt 1
 1672 015f FC 00 00 00             		call	!!%code(_Motor2_Open_Enable)
1554:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No2_State = GATE_STATE_OPENING;
 1673                             		.loc 1 1554 0
 1674 0163 51 02                   		mov	a, #2
 1675 0165 9F 00 00                		mov	!_Leaf_No2_State, a
 1676                             	.L66:
1555:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1556:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1557:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if((Tick_Count >= CFG_parameter.Motor_No1_Close_Delay_Time) && (Leaf_No1_State != GATE_STATE_CLOS
 1677                             		.loc 1 1557 0
 1678 0168 AF 00 00                		movw	ax, !_CFG_parameter+26
 1679 016b BD F2                   		movw	r10, ax
 1680 016d AF 00 00                		movw	ax, !_Tick_Count
 1681 0170 BD F0                   		movw	r8, ax
 1682 0172 AD F2                   		movw	ax, r10
 1683 0174 46 F0                   		cmpw	ax, r8
 1684 0176 61 F3                   		 sknh
 1685 0178 EC A1 01 00             		 br	!!.L65
 1686                             		.loc 1 1557 0 is_stmt 0 discriminator 1
 1687 017c 8F 00 00                		mov	a, !_Leaf_No1_State
 1688 017f 9D F0                   		mov	r8, a
 1689 0181 4A F0 01                		cmp	r8, #1
 1690 0184 61 F8                   		 sknz
 1691 0186 EC A1 01 00             		 br	!!.L65
 1692                             		.loc 1 1557 0 discriminator 2
 1693 018a 8F 00 00                		mov	a, !_Machine_State
 1694 018d 9D F0                   		mov	r8, a
 1695 018f 4A F0 02                		cmp	r8, #2
 1696 0192 61 E8                   		 skz
 1697 0194 EC A1 01 00             		 br	!!.L65
1558:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1559:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor1_Close_Enable();											// Enable Motor #2 Open
 1698                             		.loc 1 1559 0 is_stmt 1
 1699 0198 FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1560:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No1_State = GATE_STATE_CLOSING;
 1700                             		.loc 1 1560 0
 1701 019c 51 04                   		mov	a, #4
 1702 019e 9F 00 00                		mov	!_Leaf_No1_State, a
 1703                             	.L65:
1561:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1562:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1563:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1564:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Number_Of_Motors == 0x02)														// when using 2 Motors
 1704                             		.loc 1 1564 0
 1705 01a1 8F 00 00                		mov	a, !_CFG_parameter+1
 1706 01a4 9D F0                   		mov	r8, a
 1707 01a6 4A F0 02                		cmp	r8, #2
 1708 01a9 61 E8                   		 skz
 1709 01ab EC 99 02 00             		 br	!!.L51
1565:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1566:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1567:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if ((M2_Tick_Count > M2_Time_T5))
 1710                             		.loc 1 1567 0
 1711 01af AF 00 00                		movw	ax, !_M2_Tick_Count
 1712 01b2 BD F2                   		movw	r10, ax
 1713 01b4 AF 00 00                		movw	ax, !_M2_Time_T5
 1714 01b7 BD F0                   		movw	r8, ax
 1715 01b9 AD F2                   		movw	ax, r10
 1716 01bb 46 F0                   		cmpw	ax, r8
 1717 01bd 61 E3                   		 skh
 1718 01bf EC FC 01 00             		 br	!!.L68
1568:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1569:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = UNDEFINE_TIMESTAMP;
 1719                             		.loc 1 1569 0
 1720 01c3 F5 00 00                		clrb	!_M2_Timestamp
1570:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor2_Disable();
 1721                             		.loc 1 1570 0
 1722 01c6 FC 00 00 00             		call	!!%code(_Motor2_Disable)
1571:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			switch (Machine_State)
 1723                             		.loc 1 1571 0
 1724 01ca 8F 00 00                		mov	a, !_Machine_State
 1725 01cd 9D F0                   		mov	r8, a
 1726 01cf F4 F1                   		clrb	r9
 1727 01d1 AD F0                   		movw	ax, r8
 1728 01d3 44 01 00                		cmpw	ax, #1
 1729 01d6 61 F8                   		 sknz
 1730 01d8 EC EB 01 00             		 br	!!.L70
 1731 01dc AD F0                   		movw	ax, r8
 1732 01de 44 02 00                		cmpw	ax, #2
 1733 01e1 61 F8                   		 sknz
 1734 01e3 EC F4 01 00             		 br	!!.L71
1572:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			{
1573:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				case MACHINE_STATE_NORMAL_OPENING:
1574:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1575:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Leaf_No2_State = GATE_STATE_OPENED;
1576:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				} break;
1577:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				case MACHINE_STATE_NORMAL_CLOSING:
1578:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1579:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					Leaf_No2_State = GATE_STATE_CLOSED;
1580:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				} break;
1581:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				default:
1582:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				{
1583:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 					// Do Nothing
1584:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				} break;
 1735                             		.loc 1 1584 0
 1736 01e7 EC F8 01 00             		br	!!.L72
 1737                             	.L70:
1575:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				} break;
 1738                             		.loc 1 1575 0
 1739 01eb 51 03                   		mov	a, #3
 1740 01ed 9F 00 00                		mov	!_Leaf_No2_State, a
1576:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				case MACHINE_STATE_NORMAL_CLOSING:
 1741                             		.loc 1 1576 0
 1742 01f0 EC F8 01 00             		br	!!.L72
 1743                             	.L71:
1579:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				} break;
 1744                             		.loc 1 1579 0
 1745 01f4 E5 00 00                		oneb	!_Leaf_No2_State
1580:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				default:
 1746                             		.loc 1 1580 0
 1747 01f7 00                      		nop
 1748                             	.L72:
 1749 01f8 EC 99 02 00             		br	!!.L51
 1750                             	.L68:
1585:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			}
1586:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1587:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else if (M2_Tick_Count > M2_Time_T4)								// Finished Time
 1751                             		.loc 1 1587 0
 1752 01fc AF 00 00                		movw	ax, !_M2_Tick_Count
 1753 01ff BD F2                   		movw	r10, ax
 1754 0201 AF 00 00                		movw	ax, !_M2_Time_T4
 1755 0204 BD F0                   		movw	r8, ax
 1756 0206 AD F2                   		movw	ax, r10
 1757 0208 46 F0                   		cmpw	ax, r8
 1758 020a 61 E3                   		 skh
 1759 020c EC 19 02 00             		 br	!!.L73
1588:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1589:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = FINISHED_TIMESTAMP;
 1760                             		.loc 1 1589 0
 1761 0210 51 05                   		mov	a, #5
 1762 0212 9F 00 00                		mov	!_M2_Timestamp, a
 1763 0215 EC 99 02 00             		br	!!.L51
 1764                             	.L73:
1590:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1591:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else if (M2_Tick_Count > M2_Time_T3)								// Deceleration Time
 1765                             		.loc 1 1591 0
 1766 0219 AF 00 00                		movw	ax, !_M2_Tick_Count
 1767 021c BD F2                   		movw	r10, ax
 1768 021e AF 00 00                		movw	ax, !_M2_Time_T3
 1769 0221 BD F0                   		movw	r8, ax
 1770 0223 AD F2                   		movw	ax, r10
 1771 0225 46 F0                   		cmpw	ax, r8
 1772 0227 61 E3                   		 skh
 1773 0229 EC 3E 02 00             		 br	!!.L74
1592:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1593:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = DECELERATION_TIMESTAMP;
 1774                             		.loc 1 1593 0
 1775 022d 51 04                   		mov	a, #4
 1776 022f 9F 00 00                		mov	!_M2_Timestamp, a
1594:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Torque_Setting = CFG_parameter.Motor_Torque_Decelaration;
 1777                             		.loc 1 1594 0
 1778 0232 AF 00 00                		movw	ax, !_CFG_parameter+52
 1779 0235 BD F0                   		movw	r8, ax
 1780 0237 BF 00 00                		movw	!_M2_Torque_Setting, ax
 1781 023a EC 99 02 00             		br	!!.L51
 1782                             	.L74:
1595:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1596:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else if (M2_Tick_Count > M2_Time_T2)								// Normal Time
 1783                             		.loc 1 1596 0
 1784 023e AF 00 00                		movw	ax, !_M2_Tick_Count
 1785 0241 BD F2                   		movw	r10, ax
 1786 0243 AF 00 00                		movw	ax, !_M2_Time_T2
 1787 0246 BD F0                   		movw	r8, ax
 1788 0248 AD F2                   		movw	ax, r10
 1789 024a 46 F0                   		cmpw	ax, r8
 1790 024c 61 E3                   		 skh
 1791 024e EC 63 02 00             		 br	!!.L75
1597:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1598:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = NORMAL_TIMESTAMP;
 1792                             		.loc 1 1598 0
 1793 0252 51 03                   		mov	a, #3
 1794 0254 9F 00 00                		mov	!_M2_Timestamp, a
1599:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Torque_Setting = CFG_parameter.Motor_Torque_Maneuver;
 1795                             		.loc 1 1599 0
 1796 0257 AF 00 00                		movw	ax, !_CFG_parameter+50
 1797 025a BD F0                   		movw	r8, ax
 1798 025c BF 00 00                		movw	!_M2_Torque_Setting, ax
 1799 025f EC 99 02 00             		br	!!.L51
 1800                             	.L75:
1600:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1601:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else if (M2_Tick_Count > M2_Time_T1)								// Boots Time
 1801                             		.loc 1 1601 0
 1802 0263 AF 00 00                		movw	ax, !_M2_Tick_Count
 1803 0266 BD F2                   		movw	r10, ax
 1804 0268 AF 00 00                		movw	ax, !_M2_Time_T1
 1805 026b BD F0                   		movw	r8, ax
 1806 026d AD F2                   		movw	ax, r10
 1807 026f 46 F0                   		cmpw	ax, r8
 1808 0271 61 E3                   		 skh
 1809 0273 EC 88 02 00             		 br	!!.L76
1602:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1603:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = BOOST_TIMESTAMP;
 1810                             		.loc 1 1603 0
 1811 0277 51 02                   		mov	a, #2
 1812 0279 9F 00 00                		mov	!_M2_Timestamp, a
1604:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Torque_Setting = CFG_parameter.Motor_Torque_Boots;
 1813                             		.loc 1 1604 0
 1814 027c AF 00 00                		movw	ax, !_CFG_parameter+54
 1815 027f BD F0                   		movw	r8, ax
 1816 0281 BF 00 00                		movw	!_M2_Torque_Setting, ax
 1817 0284 EC 99 02 00             		br	!!.L51
 1818                             	.L76:
1605:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1606:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else if (M2_Tick_Count > 0)											// Startup Time
 1819                             		.loc 1 1606 0
 1820 0288 AF 00 00                		movw	ax, !_M2_Tick_Count
 1821 028b BD F0                   		movw	r8, ax
 1822 028d 44 00 00                		cmpw	ax, #0
 1823 0290 61 F8                   		 sknz
 1824 0292 EC 99 02 00             		 br	!!.L51
1607:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1608:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Timestamp = STARTUP_TIMESTAMP;
 1825                             		.loc 1 1608 0
 1826 0296 E5 00 00                		oneb	!_M2_Timestamp
 1827                             	.L51:
1609:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1610:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1611:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 1828                             		.loc 1 1611 0
 1829 0299 D7                      		ret
 1830                             	.LFE11:
 1832                             		.section	.text.__Do_Open_Gate,"ax",@progbits
 1833                             		.global	___Do_Open_Gate
 1835                             	___Do_Open_Gate:
 1836                             	.LFB12:
1612:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1613:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Open_Gate (void)
1614:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 1837                             		.loc 1 1614 0
 1838                             		; start of function
 1839                             		; outgoing: 2 bytes
 1840                             		; uses ES register
 1841 0000 20 02                   		subw	sp, #2
 1842                             	.LCFI4:
1615:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Prepare_To_Moving(OPEN_MOVING_DIRECTION);		// Prepare to moving
 1843                             		.loc 1 1615 0
 1844 0002 F1                      		clrb	a
 1845 0003 98 00                   		mov	[sp], a
 1846 0005 FC 00 00 00             		call	!!%code(_Prepare_To_Moving)
1616:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1617:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 1847                             		.loc 1 1617 0
 1848 0009 FC 00 00 00             		call	!!%code(_R_INTC0_Start)
1618:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1619:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Leaf_No1_State != GATE_STATE_OPENED)
 1849                             		.loc 1 1619 0
 1850 000d 8F 00 00                		mov	a, !_Leaf_No1_State
 1851 0010 9D F0                   		mov	r8, a
 1852 0012 4A F0 03                		cmp	r8, #3
 1853 0015 61 F8                   		 sknz
 1854 0017 EC 24 00 00             		 br	!!.L78
1620:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1621:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Open_Enable();										// Enable Motor #1 to Open
 1855                             		.loc 1 1621 0
 1856 001b FC 00 00 00             		call	!!%code(_Motor1_Open_Enable)
1622:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Leaf_No1_State = GATE_STATE_OPENING;
 1857                             		.loc 1 1622 0
 1858 001f 51 02                   		mov	a, #2
 1859 0021 9F 00 00                		mov	!_Leaf_No1_State, a
 1860                             	.L78:
1623:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1624:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1625:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Tick_Count = 0;								// Reset Tick count
 1861                             		.loc 1 1625 0
 1862 0024 F6                      		clrw	ax
 1863 0025 BF 00 00                		movw	!_Tick_Count, ax
1626:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Tick_Count = 0;
 1864                             		.loc 1 1626 0
 1865 0028 F6                      		clrw	ax
 1866 0029 BF 00 00                		movw	!_M1_Tick_Count, ax
1627:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Tick_Count = 0;
 1867                             		.loc 1 1627 0
 1868 002c F6                      		clrw	ax
 1869 002d BF 00 00                		movw	!_M2_Tick_Count, ax
1628:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1629:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_NORMAL_OPENING;
 1870                             		.loc 1 1629 0
 1871 0030 E5 00 00                		oneb	!_Machine_State
1630:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1631:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Start();					// Start Timer channel 1
 1872                             		.loc 1 1631 0
 1873 0033 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Start)
1632:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 1874                             		.loc 1 1632 0
 1875 0037 10 02                   		addw	sp, #2
 1876 0039 D7                      		ret
 1877                             	.LFE12:
 1879                             		.section	.text.__Do_Close_Gate,"ax",@progbits
 1880                             		.global	___Do_Close_Gate
 1882                             	___Do_Close_Gate:
 1883                             	.LFB13:
1633:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1634:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Close_Gate (void)
1635:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 1884                             		.loc 1 1635 0
 1885                             		; start of function
 1886                             		; outgoing: 2 bytes
 1887                             		; uses ES register
 1888 0000 20 02                   		subw	sp, #2
 1889                             	.LCFI5:
1636:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Prepare_To_Moving(CLOSE_MOVING_DIRECTION);		// Prepare to moving
 1890                             		.loc 1 1636 0
 1891 0002 E1                      		oneb	a
 1892 0003 98 00                   		mov	[sp], a
 1893 0005 FC 00 00 00             		call	!!%code(_Prepare_To_Moving)
1637:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1638:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 1894                             		.loc 1 1638 0
 1895 0009 FC 00 00 00             		call	!!%code(_R_INTC0_Start)
1639:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1640:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (CFG_parameter.Number_Of_Motors == 0x02)
 1896                             		.loc 1 1640 0
 1897 000d 8F 00 00                		mov	a, !_CFG_parameter+1
 1898 0010 9D F0                   		mov	r8, a
 1899 0012 4A F0 02                		cmp	r8, #2
 1900 0015 61 E8                   		 skz
 1901 0017 EC 36 00 00             		 br	!!.L80
1641:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1642:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No2_State != GATE_STATE_CLOSED)
 1902                             		.loc 1 1642 0
 1903 001b 8F 00 00                		mov	a, !_Leaf_No2_State
 1904 001e 9D F0                   		mov	r8, a
 1905 0020 4A F0 01                		cmp	r8, #1
 1906 0023 61 F8                   		 sknz
 1907 0025 EC 4D 00 00             		 br	!!.L82
1643:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1644:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor2_Close_Enable();										// Enable Motor #1 to Open
 1908                             		.loc 1 1644 0
 1909 0029 FC 00 00 00             		call	!!%code(_Motor2_Close_Enable)
1645:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No2_State = GATE_STATE_CLOSING;
 1910                             		.loc 1 1645 0
 1911 002d 51 04                   		mov	a, #4
 1912 002f 9F 00 00                		mov	!_Leaf_No2_State, a
 1913 0032 EC 4D 00 00             		br	!!.L82
 1914                             	.L80:
1646:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1647:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1648:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
1649:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1650:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No1_State != GATE_STATE_CLOSED)
 1915                             		.loc 1 1650 0
 1916 0036 8F 00 00                		mov	a, !_Leaf_No1_State
 1917 0039 9D F0                   		mov	r8, a
 1918 003b 4A F0 01                		cmp	r8, #1
 1919 003e 61 F8                   		 sknz
 1920 0040 EC 4D 00 00             		 br	!!.L82
1651:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1652:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Motor1_Close_Enable();										// Enable Motor #1 to Open
 1921                             		.loc 1 1652 0
 1922 0044 FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1653:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			Leaf_No1_State = GATE_STATE_CLOSING;
 1923                             		.loc 1 1653 0
 1924 0048 51 04                   		mov	a, #4
 1925 004a 9F 00 00                		mov	!_Leaf_No1_State, a
 1926                             	.L82:
1654:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1655:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1656:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1657:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Tick_Count = 0;								// Reset Tick count
 1927                             		.loc 1 1657 0
 1928 004d F6                      		clrw	ax
 1929 004e BF 00 00                		movw	!_Tick_Count, ax
1658:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Tick_Count = 0;
 1930                             		.loc 1 1658 0
 1931 0051 F6                      		clrw	ax
 1932 0052 BF 00 00                		movw	!_M1_Tick_Count, ax
1659:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Tick_Count = 0;
 1933                             		.loc 1 1659 0
 1934 0055 F6                      		clrw	ax
 1935 0056 BF 00 00                		movw	!_M2_Tick_Count, ax
1660:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1661:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_NORMAL_CLOSING;
 1936                             		.loc 1 1661 0
 1937 0059 51 02                   		mov	a, #2
 1938 005b 9F 00 00                		mov	!_Machine_State, a
1662:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1663:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Start();					// Start Timer channel 1
 1939                             		.loc 1 1663 0
 1940 005e FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Start)
1664:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 1941                             		.loc 1 1664 0
 1942 0062 10 02                   		addw	sp, #2
 1943 0064 D7                      		ret
 1944                             	.LFE13:
 1946                             		.section	.text.__Do_Stop_Gate,"ax",@progbits
 1947                             		.global	___Do_Stop_Gate
 1949                             	___Do_Stop_Gate:
 1950                             	.LFB14:
1665:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1666:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Stop_Gate (uint8_t Moving_Direction)
1667:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 1951                             		.loc 1 1667 0
1668:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Stop();										// Stop Timer channel 1
 1952                             		.loc 1 1668 0
 1953 0000 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Stop)
1669:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Stop();												// Enable Sync to control, Motor 1 start opening
 1954                             		.loc 1 1669 0
 1955 0004 FC 00 00 00             		call	!!%code(_R_INTC0_Stop)
1670:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1671:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Disable();
 1956                             		.loc 1 1671 0
 1957 0008 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1672:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor2_Disable();
 1958                             		.loc 1 1672 0
 1959 000c FC 00 00 00             		call	!!%code(_Motor2_Disable)
1673:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1674:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Moving_Direction == OPEN_MOVING_DIRECTION)				// Calculate Position when stop Normal Opening
 1960                             		.loc 1 1674 0
 1961 0010 88 04                   		mov	a, [sp+4]
 1962 0012 D1                      		cmp0	a
 1963 0013 61 E8                   		 skz
 1964 0015 EC EF 00 00             		 br	!!.L84
1675:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1676:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No1_State != GATE_STATE_OPENED)
 1965                             		.loc 1 1676 0
 1966 0019 8F 00 00                		mov	a, !_Leaf_No1_State
 1967 001c 9D F0                   		mov	r8, a
 1968 001e 4A F0 03                		cmp	r8, #3
 1969 0021 61 F8                   		 sknz
 1970 0023 EC 6A 00 00             		 br	!!.L85
1677:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1678:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
 1971                             		.loc 1 1678 0
 1972 0027 AF 00 00                		movw	ax, !_CFG_parameter+6
 1973 002a BD F2                   		movw	r10, ax
 1974 002c AF 00 00                		movw	ax, !_M1_Tick_Count
 1975 002f BD F0                   		movw	r8, ax
 1976 0031 AD F2                   		movw	ax, r10
 1977 0033 46 F0                   		cmpw	ax, r8
 1978 0035 61 C8                   		 skc
 1979 0037 EC 4E 00 00             		 br	!!.L86
1679:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
 1980                             		.loc 1 1679 0
 1981 003b AF 00 00                		movw	ax, !_M1_Tick_Count
 1982 003e BD F2                   		movw	r10, ax
 1983 0040 AF 00 00                		movw	ax, !_CFG_parameter+6
 1984 0043 BD F0                   		movw	r8, ax
 1985 0045 AD F2                   		movw	ax, r10
 1986 0047 26 F0                   		subw	ax, r8
 1987 0049 BD F0                   		movw	r8, ax
 1988 004b BF 00 00                		movw	!_M1_Tick_Count, ax
 1989                             	.L86:
1680:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1681:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 	M1_Last_Time_Position +	M1_Tick_Count;
 1990                             		.loc 1 1681 0
 1991 004e AF 00 00                		movw	ax, !_M1_Last_Time_Position
 1992 0051 BD F2                   		movw	r10, ax
 1993 0053 AF 00 00                		movw	ax, !_M1_Tick_Count
 1994 0056 BD F0                   		movw	r8, ax
 1995 0058 AD F2                   		movw	ax, r10
 1996 005a 06 F0                   		addw	ax, r8
 1997 005c BD F0                   		movw	r8, ax
 1998 005e BF 00 00                		movw	!_M1_Time_Position, ax
1682:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 1999                             		.loc 1 1682 0
 2000 0061 BD F0                   		movw	r8, ax
 2001 0063 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2002 0066 EC 82 00 00             		br	!!.L87
 2003                             	.L85:
1683:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1684:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1685:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1686:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time;
 2004                             		.loc 1 1686 0
 2005 006a AF 00 00                		movw	ax, !_CFG_parameter+12
 2006 006d BD F2                   		movw	r10, ax
 2007 006f AF 00 00                		movw	ax, !_CFG_parameter+16
 2008 0072 BD F0                   		movw	r8, ax
 2009 0074 AD F2                   		movw	ax, r10
 2010 0076 06 F0                   		addw	ax, r8
 2011 0078 BD F0                   		movw	r8, ax
 2012 007a BF 00 00                		movw	!_M1_Time_Position, ax
1687:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2013                             		.loc 1 1687 0
 2014 007d BD F0                   		movw	r8, ax
 2015 007f BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2016                             	.L87:
1688:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1689:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1690:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No2_State != GATE_STATE_OPENED)
 2017                             		.loc 1 1690 0
 2018 0082 8F 00 00                		mov	a, !_Leaf_No2_State
 2019 0085 9D F0                   		mov	r8, a
 2020 0087 4A F0 03                		cmp	r8, #3
 2021 008a 61 F8                   		 sknz
 2022 008c EC D3 00 00             		 br	!!.L88
1691:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1692:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M2_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
 2023                             		.loc 1 1692 0
 2024 0090 AF 00 00                		movw	ax, !_CFG_parameter+6
 2025 0093 BD F2                   		movw	r10, ax
 2026 0095 AF 00 00                		movw	ax, !_M2_Tick_Count
 2027 0098 BD F0                   		movw	r8, ax
 2028 009a AD F2                   		movw	ax, r10
 2029 009c 46 F0                   		cmpw	ax, r8
 2030 009e 61 C8                   		 skc
 2031 00a0 EC B7 00 00             		 br	!!.L89
1693:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M2_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
 2032                             		.loc 1 1693 0
 2033 00a4 AF 00 00                		movw	ax, !_M2_Tick_Count
 2034 00a7 BD F2                   		movw	r10, ax
 2035 00a9 AF 00 00                		movw	ax, !_CFG_parameter+6
 2036 00ac BD F0                   		movw	r8, ax
 2037 00ae AD F2                   		movw	ax, r10
 2038 00b0 26 F0                   		subw	ax, r8
 2039 00b2 BD F0                   		movw	r8, ax
 2040 00b4 BF 00 00                		movw	!_M2_Tick_Count, ax
 2041                             	.L89:
1694:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1695:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Time_Position = 	M2_Last_Time_Position +	M2_Tick_Count;
 2042                             		.loc 1 1695 0
 2043 00b7 AF 00 00                		movw	ax, !_M2_Last_Time_Position
 2044 00ba BD F2                   		movw	r10, ax
 2045 00bc AF 00 00                		movw	ax, !_M2_Tick_Count
 2046 00bf BD F0                   		movw	r8, ax
 2047 00c1 AD F2                   		movw	ax, r10
 2048 00c3 06 F0                   		addw	ax, r8
 2049 00c5 BD F0                   		movw	r8, ax
 2050 00c7 BF 00 00                		movw	!_M2_Time_Position, ax
1696:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Last_Time_Position = M2_Time_Position;
 2051                             		.loc 1 1696 0
 2052 00ca BD F0                   		movw	r8, ax
 2053 00cc BF 00 00                		movw	!_M2_Last_Time_Position, ax
 2054 00cf EC A3 01 00             		br	!!.L91
 2055                             	.L88:
1697:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1698:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1699:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1700:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Time_Position = CFG_parameter.M2_Maneuver_Time + CFG_parameter.M2_Deceleration_Time;
 2056                             		.loc 1 1700 0
 2057 00d3 AF 00 00                		movw	ax, !_CFG_parameter+14
 2058 00d6 BD F2                   		movw	r10, ax
 2059 00d8 AF 00 00                		movw	ax, !_CFG_parameter+18
 2060 00db BD F0                   		movw	r8, ax
 2061 00dd AD F2                   		movw	ax, r10
 2062 00df 06 F0                   		addw	ax, r8
 2063 00e1 BD F0                   		movw	r8, ax
 2064 00e3 BF 00 00                		movw	!_M2_Time_Position, ax
1701:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Last_Time_Position = M2_Time_Position;
 2065                             		.loc 1 1701 0
 2066 00e6 BD F0                   		movw	r8, ax
 2067 00e8 BF 00 00                		movw	!_M2_Last_Time_Position, ax
 2068 00eb EC A3 01 00             		br	!!.L91
 2069                             	.L84:
1702:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1703:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1704:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else														// Calculate Position when stop Normal Closing
1705:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1706:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No1_State != GATE_STATE_CLOSED)
 2070                             		.loc 1 1706 0
 2071 00ef 8F 00 00                		mov	a, !_Leaf_No1_State
 2072 00f2 9D F0                   		mov	r8, a
 2073 00f4 4A F0 01                		cmp	r8, #1
 2074 00f7 61 F8                   		 sknz
 2075 00f9 EC 40 01 00             		 br	!!.L92
1707:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1708:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M1_Tick_Count -= CFG_parameter.Motor
 2076                             		.loc 1 1708 0
 2077 00fd AF 00 00                		movw	ax, !_CFG_parameter+6
 2078 0100 BD F2                   		movw	r10, ax
 2079 0102 AF 00 00                		movw	ax, !_M1_Tick_Count
 2080 0105 BD F0                   		movw	r8, ax
 2081 0107 AD F2                   		movw	ax, r10
 2082 0109 46 F0                   		cmpw	ax, r8
 2083 010b 61 C8                   		 skc
 2084 010d EC 24 01 00             		 br	!!.L93
 2085                             		.loc 1 1708 0 is_stmt 0 discriminator 1
 2086 0111 AF 00 00                		movw	ax, !_M1_Tick_Count
 2087 0114 BD F2                   		movw	r10, ax
 2088 0116 AF 00 00                		movw	ax, !_CFG_parameter+6
 2089 0119 BD F0                   		movw	r8, ax
 2090 011b AD F2                   		movw	ax, r10
 2091 011d 26 F0                   		subw	ax, r8
 2092 011f BD F0                   		movw	r8, ax
 2093 0121 BF 00 00                		movw	!_M1_Tick_Count, ax
 2094                             	.L93:
1709:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1710:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 	M1_Last_Time_Position -	M1_Tick_Count;
 2095                             		.loc 1 1710 0 is_stmt 1
 2096 0124 AF 00 00                		movw	ax, !_M1_Last_Time_Position
 2097 0127 BD F2                   		movw	r10, ax
 2098 0129 AF 00 00                		movw	ax, !_M1_Tick_Count
 2099 012c BD F0                   		movw	r8, ax
 2100 012e AD F2                   		movw	ax, r10
 2101 0130 26 F0                   		subw	ax, r8
 2102 0132 BD F0                   		movw	r8, ax
 2103 0134 BF 00 00                		movw	!_M1_Time_Position, ax
1711:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2104                             		.loc 1 1711 0
 2105 0137 BD F0                   		movw	r8, ax
 2106 0139 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2107 013c EC 49 01 00             		br	!!.L94
 2108                             	.L92:
1712:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1713:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1714:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1715:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 0;
 2109                             		.loc 1 1715 0
 2110 0140 F6                      		clrw	ax
 2111 0141 BF 00 00                		movw	!_M1_Time_Position, ax
1716:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2112                             		.loc 1 1716 0
 2113 0144 BD F0                   		movw	r8, ax
 2114 0146 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2115                             	.L94:
1717:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1718:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1719:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No2_State != GATE_STATE_CLOSED)
 2116                             		.loc 1 1719 0
 2117 0149 8F 00 00                		mov	a, !_Leaf_No2_State
 2118 014c 9D F0                   		mov	r8, a
 2119 014e 4A F0 01                		cmp	r8, #1
 2120 0151 61 F8                   		 sknz
 2121 0153 EC 9A 01 00             		 br	!!.L95
1720:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1721:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M2_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M2_Tick_Count -= CFG_parameter.Motor
 2122                             		.loc 1 1721 0
 2123 0157 AF 00 00                		movw	ax, !_CFG_parameter+6
 2124 015a BD F2                   		movw	r10, ax
 2125 015c AF 00 00                		movw	ax, !_M2_Tick_Count
 2126 015f BD F0                   		movw	r8, ax
 2127 0161 AD F2                   		movw	ax, r10
 2128 0163 46 F0                   		cmpw	ax, r8
 2129 0165 61 C8                   		 skc
 2130 0167 EC 7E 01 00             		 br	!!.L96
 2131                             		.loc 1 1721 0 is_stmt 0 discriminator 1
 2132 016b AF 00 00                		movw	ax, !_M2_Tick_Count
 2133 016e BD F2                   		movw	r10, ax
 2134 0170 AF 00 00                		movw	ax, !_CFG_parameter+6
 2135 0173 BD F0                   		movw	r8, ax
 2136 0175 AD F2                   		movw	ax, r10
 2137 0177 26 F0                   		subw	ax, r8
 2138 0179 BD F0                   		movw	r8, ax
 2139 017b BF 00 00                		movw	!_M2_Tick_Count, ax
 2140                             	.L96:
1722:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1723:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Time_Position = 	M2_Last_Time_Position -	M2_Tick_Count;
 2141                             		.loc 1 1723 0 is_stmt 1
 2142 017e AF 00 00                		movw	ax, !_M2_Last_Time_Position
 2143 0181 BD F2                   		movw	r10, ax
 2144 0183 AF 00 00                		movw	ax, !_M2_Tick_Count
 2145 0186 BD F0                   		movw	r8, ax
 2146 0188 AD F2                   		movw	ax, r10
 2147 018a 26 F0                   		subw	ax, r8
 2148 018c BD F0                   		movw	r8, ax
 2149 018e BF 00 00                		movw	!_M2_Time_Position, ax
1724:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Last_Time_Position = M2_Time_Position;
 2150                             		.loc 1 1724 0
 2151 0191 BD F0                   		movw	r8, ax
 2152 0193 BF 00 00                		movw	!_M2_Last_Time_Position, ax
 2153 0196 EC A3 01 00             		br	!!.L91
 2154                             	.L95:
1725:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1726:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1727:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1728:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Time_Position = 0;
 2155                             		.loc 1 1728 0
 2156 019a F6                      		clrw	ax
 2157 019b BF 00 00                		movw	!_M2_Time_Position, ax
1729:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M2_Last_Time_Position = M2_Time_Position;
 2158                             		.loc 1 1729 0
 2159 019e BD F0                   		movw	r8, ax
 2160 01a0 BF 00 00                		movw	!_M2_Last_Time_Position, ax
 2161                             	.L91:
1730:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1731:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1732:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1733:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_STOP;
 2162                             		.loc 1 1733 0
 2163 01a3 F5 00 00                		clrb	!_Machine_State
1734:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1735:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (((CFG_parameter.Number_Of_Motors == 0x02) && (Leaf_No1_State == GATE_STATE_CLOSED) && (Leaf_No
 2164                             		.loc 1 1735 0
 2165 01a6 8F 00 00                		mov	a, !_CFG_parameter+1
 2166 01a9 9D F0                   		mov	r8, a
 2167 01ab 4A F0 02                		cmp	r8, #2
 2168 01ae 61 E8                   		 skz
 2169 01b0 EC D0 01 00             		 br	!!.L97
 2170                             		.loc 1 1735 0 is_stmt 0 discriminator 1
 2171 01b4 8F 00 00                		mov	a, !_Leaf_No1_State
 2172 01b7 9D F0                   		mov	r8, a
 2173 01b9 4A F0 01                		cmp	r8, #1
 2174 01bc 61 E8                   		 skz
 2175 01be EC D0 01 00             		 br	!!.L97
 2176                             		.loc 1 1735 0 discriminator 2
 2177 01c2 8F 00 00                		mov	a, !_Leaf_No2_State
 2178 01c5 9D F0                   		mov	r8, a
 2179 01c7 4A F0 01                		cmp	r8, #1
 2180 01ca 61 F8                   		 sknz
 2181 01cc EC 32 02 00             		 br	!!.L98
 2182                             	.L97:
1736:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		|| ((CFG_parameter.Number_Of_Motors == 0x02) && (Leaf_No1_State == GATE_STATE_OPENED) && (Leaf_No
 2183                             		.loc 1 1736 0 is_stmt 1
 2184 01d0 8F 00 00                		mov	a, !_CFG_parameter+1
 2185 01d3 9D F0                   		mov	r8, a
 2186 01d5 4A F0 02                		cmp	r8, #2
 2187 01d8 61 E8                   		 skz
 2188 01da EC FA 01 00             		 br	!!.L99
 2189                             		.loc 1 1736 0 is_stmt 0 discriminator 1
 2190 01de 8F 00 00                		mov	a, !_Leaf_No1_State
 2191 01e1 9D F0                   		mov	r8, a
 2192 01e3 4A F0 03                		cmp	r8, #3
 2193 01e6 61 E8                   		 skz
 2194 01e8 EC FA 01 00             		 br	!!.L99
 2195                             		.loc 1 1736 0 discriminator 2
 2196 01ec 8F 00 00                		mov	a, !_Leaf_No2_State
 2197 01ef 9D F0                   		mov	r8, a
 2198 01f1 4A F0 03                		cmp	r8, #3
 2199 01f4 61 F8                   		 sknz
 2200 01f6 EC 32 02 00             		 br	!!.L98
 2201                             	.L99:
1737:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		|| ((CFG_parameter.Number_Of_Motors == 0x01) && (Leaf_No1_State == GATE_STATE_CLOSED))
 2202                             		.loc 1 1737 0 is_stmt 1
 2203 01fa 8F 00 00                		mov	a, !_CFG_parameter+1
 2204 01fd 9D F0                   		mov	r8, a
 2205 01ff 4A F0 01                		cmp	r8, #1
 2206 0202 61 E8                   		 skz
 2207 0204 EC 16 02 00             		 br	!!.L100
 2208                             		.loc 1 1737 0 is_stmt 0 discriminator 1
 2209 0208 8F 00 00                		mov	a, !_Leaf_No1_State
 2210 020b 9D F0                   		mov	r8, a
 2211 020d 4A F0 01                		cmp	r8, #1
 2212 0210 61 F8                   		 sknz
 2213 0212 EC 32 02 00             		 br	!!.L98
 2214                             	.L100:
1738:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		|| ((CFG_parameter.Number_Of_Motors == 0x01) && (Leaf_No1_State == GATE_STATE_OPENED)))
 2215                             		.loc 1 1738 0 is_stmt 1
 2216 0216 8F 00 00                		mov	a, !_CFG_parameter+1
 2217 0219 9D F0                   		mov	r8, a
 2218 021b 4A F0 01                		cmp	r8, #1
 2219 021e 61 E8                   		 skz
 2220 0220 EC 50 02 00             		 br	!!.L83
 2221                             		.loc 1 1738 0 is_stmt 0 discriminator 1
 2222 0224 8F 00 00                		mov	a, !_Leaf_No1_State
 2223 0227 9D F0                   		mov	r8, a
 2224 0229 4A F0 03                		cmp	r8, #3
 2225 022c 61 E8                   		 skz
 2226 022e EC 50 02 00             		 br	!!.L83
 2227                             	.L98:
 2228                             	.LBB4:
1739:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1740:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Enable = 0;
 2229                             		.loc 1 1740 0 is_stmt 1
 2230 0232 F5 00 00                		clrb	!_Flash_Enable
1741:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 0;
 2231                             		.loc 1 1741 0
 2232 0235 C9 F0 02 FF             		movw	r8, #-254
 2233 0239 AD F0                   		movw	ax, r8
 2234 023b BD F4                   		movw	r12, ax
 2235 023d FA F4                   		movw	hl, r12
 2236 023f 8B                      		mov	a, [hl]
 2237 0240 9D F2                   		mov	r10, a
 2238 0242 5A F2 FD                		and	r10, #-3
 2239 0245 AD F0                   		movw	ax, r8
 2240 0247 EA F4                   		movw	de, r12
 2241 0249 8D F2                   		mov	a, r10
 2242 024b 99                      		mov	[de], a
1742:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Courtesy_Light_After_Maneuver_Is_Complete();
 2243                             		.loc 1 1742 0
 2244 024c FC 00 00 00             		call	!!%code(_Courtesy_Light_After_Maneuver_Is_Complete)
 2245                             	.L83:
 2246                             	.LBE4:
1743:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1744:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2247                             		.loc 1 1744 0
 2248 0250 D7                      		ret
 2249                             	.LFE14:
 2251                             		.section	.text.__Do_Brake_Motor_Type_1,"ax",@progbits
 2252                             		.global	___Do_Brake_Motor_Type_1
 2254                             	___Do_Brake_Motor_Type_1:
 2255                             	.LFB15:
1745:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1746:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Brake_Motor_Type_1 (uint8_t Current_Direction)
1747:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2256                             		.loc 1 1747 0
1748:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Disable();
 2257                             		.loc 1 1748 0
 2258 0000 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1749:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1750:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Tick_Count = 0;
 2259                             		.loc 1 1750 0
 2260 0004 F6                      		clrw	ax
 2261 0005 BF 00 00                		movw	!_Disable_Tick_Count, ax
1751:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Time_Enable = 0x01;
 2262                             		.loc 1 1751 0
 2263 0008 E5 00 00                		oneb	!_Disable_Time_Enable
1752:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while (Disable_Time_Enable == 0x01);
 2264                             		.loc 1 1752 0
 2265 000b 00                      		nop
 2266                             	.L103:
 2267                             		.loc 1 1752 0 is_stmt 0 discriminator 1
 2268 000c 8F 00 00                		mov	a, !_Disable_Time_Enable
 2269 000f 9D F0                   		mov	r8, a
 2270 0011 4A F0 01                		cmp	r8, #1
 2271 0014 61 F8                   		 sknz
 2272 0016 EC 0C 00 00             		 br	!!.L103
1753:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1754:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Timestamp = BRAKING_TIMESTAMP;
 2273                             		.loc 1 1754 0 is_stmt 1
 2274 001a 51 06                   		mov	a, #6
 2275 001c 9F 00 00                		mov	!_M1_Timestamp, a
1755:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Torque_Setting = CFG_parameter.Braking_Force;
 2276                             		.loc 1 1755 0
 2277 001f 8F 00 00                		mov	a, !_CFG_parameter+70
 2278 0022 9D F0                   		mov	r8, a
 2279 0024 F4 F1                   		clrb	r9
 2280 0026 AD F0                   		movw	ax, r8
 2281 0028 BF 00 00                		movw	!_M1_Torque_Setting, ax
1756:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Current_Direction == OPEN_MOVING_DIRECTION)
 2282                             		.loc 1 1756 0
 2283 002b 88 04                   		mov	a, [sp+4]
 2284 002d D1                      		cmp0	a
 2285 002e 61 E8                   		 skz
 2286 0030 EC 3C 00 00             		 br	!!.L104
1757:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1758:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Close_Enable();
 2287                             		.loc 1 1758 0
 2288 0034 FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
 2289 0038 EC 40 00 00             		br	!!.L105
 2290                             	.L104:
1759:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1760:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
1761:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1762:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Open_Enable();
 2291                             		.loc 1 1762 0
 2292 003c FC 00 00 00             		call	!!%code(_Motor1_Open_Enable)
 2293                             	.L105:
1763:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1764:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1765:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Brake_Tick_Count = 0;
 2294                             		.loc 1 1765 0
 2295 0040 F6                      		clrw	ax
 2296 0041 BF 00 00                		movw	!_Brake_Tick_Count, ax
1766:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Braking_Time_Enable = 0x01;
 2297                             		.loc 1 1766 0
 2298 0044 E5 00 00                		oneb	!_Braking_Time_Enable
1767:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while(Braking_Time_Enable == 0x01);
 2299                             		.loc 1 1767 0
 2300 0047 00                      		nop
 2301                             	.L106:
 2302                             		.loc 1 1767 0 is_stmt 0 discriminator 1
 2303 0048 8F 00 00                		mov	a, !_Braking_Time_Enable
 2304 004b 9D F0                   		mov	r8, a
 2305 004d 4A F0 01                		cmp	r8, #1
 2306 0050 61 F8                   		 sknz
 2307 0052 EC 48 00 00             		 br	!!.L106
1768:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2308                             		.loc 1 1768 0 is_stmt 1
 2309 0056 D7                      		ret
 2310                             	.LFE15:
 2312                             		.section	.text.__Do_Brake_Motor_Type_2,"ax",@progbits
 2313                             		.global	___Do_Brake_Motor_Type_2
 2315                             	___Do_Brake_Motor_Type_2:
 2316                             	.LFB16:
1769:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1770:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Brake_Motor_Type_2 (uint8_t Current_Direction)
1771:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2317                             		.loc 1 1771 0
1772:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor2_Disable();
 2318                             		.loc 1 1772 0
 2319 0000 FC 00 00 00             		call	!!%code(_Motor2_Disable)
1773:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Disable();
 2320                             		.loc 1 1773 0
 2321 0004 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1774:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1775:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Tick_Count = 0;
 2322                             		.loc 1 1775 0
 2323 0008 F6                      		clrw	ax
 2324 0009 BF 00 00                		movw	!_Disable_Tick_Count, ax
1776:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Time_Enable = 0x01;
 2325                             		.loc 1 1776 0
 2326 000c E5 00 00                		oneb	!_Disable_Time_Enable
1777:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while (Disable_Time_Enable == 0x01);
 2327                             		.loc 1 1777 0
 2328 000f 00                      		nop
 2329                             	.L108:
 2330                             		.loc 1 1777 0 is_stmt 0 discriminator 1
 2331 0010 8F 00 00                		mov	a, !_Disable_Time_Enable
 2332 0013 9D F0                   		mov	r8, a
 2333 0015 4A F0 01                		cmp	r8, #1
 2334 0018 61 F8                   		 sknz
 2335 001a EC 10 00 00             		 br	!!.L108
1778:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1779:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Timestamp = BRAKING_TIMESTAMP;
 2336                             		.loc 1 1779 0 is_stmt 1
 2337 001e 51 06                   		mov	a, #6
 2338 0020 9F 00 00                		mov	!_M1_Timestamp, a
1780:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Timestamp = BRAKING_TIMESTAMP;
 2339                             		.loc 1 1780 0
 2340 0023 51 06                   		mov	a, #6
 2341 0025 9F 00 00                		mov	!_M2_Timestamp, a
1781:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Torque_Setting = CFG_parameter.Braking_Force;
 2342                             		.loc 1 1781 0
 2343 0028 8F 00 00                		mov	a, !_CFG_parameter+70
 2344 002b 9D F0                   		mov	r8, a
 2345 002d F4 F1                   		clrb	r9
 2346 002f AD F0                   		movw	ax, r8
 2347 0031 BF 00 00                		movw	!_M1_Torque_Setting, ax
1782:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Torque_Setting = CFG_parameter.Braking_Force;
 2348                             		.loc 1 1782 0
 2349 0034 8F 00 00                		mov	a, !_CFG_parameter+70
 2350 0037 9D F0                   		mov	r8, a
 2351 0039 F4 F1                   		clrb	r9
 2352 003b AD F0                   		movw	ax, r8
 2353 003d BF 00 00                		movw	!_M2_Torque_Setting, ax
1783:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1784:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Current_Direction == OPEN_MOVING_DIRECTION)
 2354                             		.loc 1 1784 0
 2355 0040 88 04                   		mov	a, [sp+4]
 2356 0042 D1                      		cmp0	a
 2357 0043 61 E8                   		 skz
 2358 0045 EC 55 00 00             		 br	!!.L109
1785:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1786:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Close_Enable();
 2359                             		.loc 1 1786 0
 2360 0049 FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1787:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor2_Close_Enable();
 2361                             		.loc 1 1787 0
 2362 004d FC 00 00 00             		call	!!%code(_Motor2_Close_Enable)
 2363 0051 EC 5D 00 00             		br	!!.L110
 2364                             	.L109:
1788:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1789:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
1790:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1791:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor1_Open_Enable();
 2365                             		.loc 1 1791 0
 2366 0055 FC 00 00 00             		call	!!%code(_Motor1_Open_Enable)
1792:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor2_Open_Enable();
 2367                             		.loc 1 1792 0
 2368 0059 FC 00 00 00             		call	!!%code(_Motor2_Open_Enable)
 2369                             	.L110:
1793:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1794:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1795:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Brake_Tick_Count = 0;
 2370                             		.loc 1 1795 0
 2371 005d F6                      		clrw	ax
 2372 005e BF 00 00                		movw	!_Brake_Tick_Count, ax
1796:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Braking_Time_Enable = 0x01;
 2373                             		.loc 1 1796 0
 2374 0061 E5 00 00                		oneb	!_Braking_Time_Enable
1797:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while(Braking_Time_Enable == 0x01);
 2375                             		.loc 1 1797 0
 2376 0064 00                      		nop
 2377                             	.L111:
 2378                             		.loc 1 1797 0 is_stmt 0 discriminator 1
 2379 0065 8F 00 00                		mov	a, !_Braking_Time_Enable
 2380 0068 9D F0                   		mov	r8, a
 2381 006a 4A F0 01                		cmp	r8, #1
 2382 006d 61 F8                   		 sknz
 2383 006f EC 65 00 00             		 br	!!.L111
1798:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2384                             		.loc 1 1798 0 is_stmt 1
 2385 0073 D7                      		ret
 2386                             	.LFE16:
 2388                             		.section	.text.__Do_Brake_Motor_Type_3,"ax",@progbits
 2389                             		.global	___Do_Brake_Motor_Type_3
 2391                             	___Do_Brake_Motor_Type_3:
 2392                             	.LFB17:
1799:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1800:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Brake_Motor_Type_3 (uint8_t Current_Direction)
1801:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2393                             		.loc 1 1801 0
1802:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor2_Disable();
 2394                             		.loc 1 1802 0
 2395 0000 FC 00 00 00             		call	!!%code(_Motor2_Disable)
1803:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1804:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Tick_Count = 0;
 2396                             		.loc 1 1804 0
 2397 0004 F6                      		clrw	ax
 2398 0005 BF 00 00                		movw	!_Disable_Tick_Count, ax
1805:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Disable_Time_Enable = 0x01;
 2399                             		.loc 1 1805 0
 2400 0008 E5 00 00                		oneb	!_Disable_Time_Enable
1806:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while (Disable_Time_Enable == 0x01);
 2401                             		.loc 1 1806 0
 2402 000b 00                      		nop
 2403                             	.L113:
 2404                             		.loc 1 1806 0 is_stmt 0 discriminator 1
 2405 000c 8F 00 00                		mov	a, !_Disable_Time_Enable
 2406 000f 9D F0                   		mov	r8, a
 2407 0011 4A F0 01                		cmp	r8, #1
 2408 0014 61 F8                   		 sknz
 2409 0016 EC 0C 00 00             		 br	!!.L113
1807:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1808:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Timestamp = BRAKING_TIMESTAMP;
 2410                             		.loc 1 1808 0 is_stmt 1
 2411 001a 51 06                   		mov	a, #6
 2412 001c 9F 00 00                		mov	!_M2_Timestamp, a
1809:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M2_Torque_Setting = CFG_parameter.Braking_Force;
 2413                             		.loc 1 1809 0
 2414 001f 8F 00 00                		mov	a, !_CFG_parameter+70
 2415 0022 9D F0                   		mov	r8, a
 2416 0024 F4 F1                   		clrb	r9
 2417 0026 AD F0                   		movw	ax, r8
 2418 0028 BF 00 00                		movw	!_M2_Torque_Setting, ax
1810:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1811:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Current_Direction == OPEN_MOVING_DIRECTION)
 2419                             		.loc 1 1811 0
 2420 002b 88 04                   		mov	a, [sp+4]
 2421 002d D1                      		cmp0	a
 2422 002e 61 E8                   		 skz
 2423 0030 EC 3C 00 00             		 br	!!.L114
1812:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1813:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor2_Close_Enable();
 2424                             		.loc 1 1813 0
 2425 0034 FC 00 00 00             		call	!!%code(_Motor2_Close_Enable)
 2426 0038 EC 40 00 00             		br	!!.L115
 2427                             	.L114:
1814:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1815:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
1816:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1817:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Motor2_Open_Enable();
 2428                             		.loc 1 1817 0
 2429 003c FC 00 00 00             		call	!!%code(_Motor2_Open_Enable)
 2430                             	.L115:
1818:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1819:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1820:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Brake_Tick_Count = 0;
 2431                             		.loc 1 1820 0
 2432 0040 F6                      		clrw	ax
 2433 0041 BF 00 00                		movw	!_Brake_Tick_Count, ax
1821:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Braking_Time_Enable = 0x01;
 2434                             		.loc 1 1821 0
 2435 0044 E5 00 00                		oneb	!_Braking_Time_Enable
1822:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	while(Braking_Time_Enable == 0x01);
 2436                             		.loc 1 1822 0
 2437 0047 00                      		nop
 2438                             	.L116:
 2439                             		.loc 1 1822 0 is_stmt 0 discriminator 1
 2440 0048 8F 00 00                		mov	a, !_Braking_Time_Enable
 2441 004b 9D F0                   		mov	r8, a
 2442 004d 4A F0 01                		cmp	r8, #1
 2443 0050 61 F8                   		 sknz
 2444 0052 EC 48 00 00             		 br	!!.L116
1823:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2445                             		.loc 1 1823 0 is_stmt 1
 2446 0056 D7                      		ret
 2447                             	.LFE17:
 2449                             		.section	.text.__Do_Partial_Open_Gate,"ax",@progbits
 2450                             		.global	___Do_Partial_Open_Gate
 2452                             	___Do_Partial_Open_Gate:
 2453                             	.LFB18:
1824:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1825:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Partial_Open_Gate (void)
1826:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2454                             		.loc 1 1826 0
 2455                             		; start of function
 2456                             		; outgoing: 2 bytes
 2457                             		; uses ES register
 2458 0000 20 02                   		subw	sp, #2
 2459                             	.LCFI6:
1827:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Prepare_To_Partial_Moving(OPEN_MOVING_DIRECTION);
 2460                             		.loc 1 1827 0
 2461 0002 F1                      		clrb	a
 2462 0003 98 00                   		mov	[sp], a
 2463 0005 FC 00 00 00             		call	!!%code(_Prepare_To_Partial_Moving)
1828:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1829:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 2464                             		.loc 1 1829 0
 2465 0009 FC 00 00 00             		call	!!%code(_R_INTC0_Start)
1830:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1831:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Open_Enable();										// Enable Motor #1 to Open
 2466                             		.loc 1 1831 0
 2467 000d FC 00 00 00             		call	!!%code(_Motor1_Open_Enable)
1832:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Leaf_No1_State = GATE_STATE_OPENING;
 2468                             		.loc 1 1832 0
 2469 0011 51 02                   		mov	a, #2
 2470 0013 9F 00 00                		mov	!_Leaf_No1_State, a
1833:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1834:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Tick_Count = 0;								// Reset Tick count
 2471                             		.loc 1 1834 0
 2472 0016 F6                      		clrw	ax
 2473 0017 BF 00 00                		movw	!_Tick_Count, ax
1835:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Tick_Count = 0;
 2474                             		.loc 1 1835 0
 2475 001a F6                      		clrw	ax
 2476 001b BF 00 00                		movw	!_M1_Tick_Count, ax
1836:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1837:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_PARTIAL_OPENING;
 2477                             		.loc 1 1837 0
 2478 001e 51 03                   		mov	a, #3
 2479 0020 9F 00 00                		mov	!_Machine_State, a
1838:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1839:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Start();					// Start Timer channel 1
 2480                             		.loc 1 1839 0
 2481 0023 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Start)
1840:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2482                             		.loc 1 1840 0
 2483 0027 10 02                   		addw	sp, #2
 2484 0029 D7                      		ret
 2485                             	.LFE18:
 2487                             		.section	.text.__Do_Partial_Close_Gate,"ax",@progbits
 2488                             		.global	___Do_Partial_Close_Gate
 2490                             	___Do_Partial_Close_Gate:
 2491                             	.LFB19:
1841:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1842:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Partial_Close_Gate (void)
1843:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2492                             		.loc 1 1843 0
 2493                             		; start of function
 2494                             		; outgoing: 2 bytes
 2495                             		; uses ES register
 2496 0000 20 02                   		subw	sp, #2
 2497                             	.LCFI7:
1844:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Prepare_To_Partial_Moving(CLOSE_MOVING_DIRECTION);
 2498                             		.loc 1 1844 0
 2499 0002 E1                      		oneb	a
 2500 0003 98 00                   		mov	[sp], a
 2501 0005 FC 00 00 00             		call	!!%code(_Prepare_To_Partial_Moving)
1845:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1846:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Start();												// Enable Sync to control, Motor 1 start opening
 2502                             		.loc 1 1846 0
 2503 0009 FC 00 00 00             		call	!!%code(_R_INTC0_Start)
1847:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1848:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Close_Enable();										// Enable Motor #1 to Open
 2504                             		.loc 1 1848 0
 2505 000d FC 00 00 00             		call	!!%code(_Motor1_Close_Enable)
1849:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Leaf_No1_State = GATE_STATE_CLOSING;
 2506                             		.loc 1 1849 0
 2507 0011 51 04                   		mov	a, #4
 2508 0013 9F 00 00                		mov	!_Leaf_No1_State, a
1850:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1851:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Tick_Count = 0;								// Reset Tick count
 2509                             		.loc 1 1851 0
 2510 0016 F6                      		clrw	ax
 2511 0017 BF 00 00                		movw	!_Tick_Count, ax
1852:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	M1_Tick_Count = 0;
 2512                             		.loc 1 1852 0
 2513 001a F6                      		clrw	ax
 2514 001b BF 00 00                		movw	!_M1_Tick_Count, ax
1853:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1854:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_PARTIAL_CLOSING;
 2515                             		.loc 1 1854 0
 2516 001e 51 04                   		mov	a, #4
 2517 0020 9F 00 00                		mov	!_Machine_State, a
1855:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1856:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Start();					// Start Timer channel 1
 2518                             		.loc 1 1856 0
 2519 0023 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Start)
1857:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2520                             		.loc 1 1857 0
 2521 0027 10 02                   		addw	sp, #2
 2522 0029 D7                      		ret
 2523                             	.LFE19:
 2525                             		.section	.text.__Do_Partial_Stop_Gate,"ax",@progbits
 2526                             		.global	___Do_Partial_Stop_Gate
 2528                             	___Do_Partial_Stop_Gate:
 2529                             	.LFB20:
1858:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1859:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** void __Do_Partial_Stop_Gate (uint8_t Moving_Direction)
1860:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** {
 2530                             		.loc 1 1860 0
1861:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_TAU0_Channel1_Stop();										// Stop Timer channel 1
 2531                             		.loc 1 1861 0
 2532 0000 FC 00 00 00             		call	!!%code(_R_TAU0_Channel1_Stop)
1862:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	R_INTC0_Stop();												// Enable Sync to control, Motor 1 start opening
 2533                             		.loc 1 1862 0
 2534 0004 FC 00 00 00             		call	!!%code(_R_INTC0_Stop)
1863:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1864:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Motor1_Disable();
 2535                             		.loc 1 1864 0
 2536 0008 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1865:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1866:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if (Moving_Direction == OPEN_MOVING_DIRECTION)
 2537                             		.loc 1 1866 0
 2538 000c 88 04                   		mov	a, [sp+4]
 2539 000e D1                      		cmp0	a
 2540 000f 61 E8                   		 skz
 2541 0011 EC EE 00 00             		 br	!!.L120
1867:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1868:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No1_State != GATE_STATE_PARTIAL)
 2542                             		.loc 1 1868 0
 2543 0015 8F 00 00                		mov	a, !_Leaf_No1_State
 2544 0018 9D F0                   		mov	r8, a
 2545 001a 4A F0 05                		cmp	r8, #5
 2546 001d 61 F8                   		 sknz
 2547 001f EC 66 00 00             		 br	!!.L121
1869:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1870:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time)
 2548                             		.loc 1 1870 0
 2549 0023 AF 00 00                		movw	ax, !_CFG_parameter+6
 2550 0026 BD F2                   		movw	r10, ax
 2551 0028 AF 00 00                		movw	ax, !_M1_Tick_Count
 2552 002b BD F0                   		movw	r8, ax
 2553 002d AD F2                   		movw	ax, r10
 2554 002f 46 F0                   		cmpw	ax, r8
 2555 0031 61 C8                   		 skc
 2556 0033 EC 4A 00 00             		 br	!!.L122
1871:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Tick_Count -= CFG_parameter.Motor_Maximum_Boost_Time;
 2557                             		.loc 1 1871 0
 2558 0037 AF 00 00                		movw	ax, !_M1_Tick_Count
 2559 003a BD F2                   		movw	r10, ax
 2560 003c AF 00 00                		movw	ax, !_CFG_parameter+6
 2561 003f BD F0                   		movw	r8, ax
 2562 0041 AD F2                   		movw	ax, r10
 2563 0043 26 F0                   		subw	ax, r8
 2564 0045 BD F0                   		movw	r8, ax
 2565 0047 BF 00 00                		movw	!_M1_Tick_Count, ax
 2566                             	.L122:
1872:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 	M1_Last_Time_Position +	M1_Tick_Count;
 2567                             		.loc 1 1872 0
 2568 004a AF 00 00                		movw	ax, !_M1_Last_Time_Position
 2569 004d BD F2                   		movw	r10, ax
 2570 004f AF 00 00                		movw	ax, !_M1_Tick_Count
 2571 0052 BD F0                   		movw	r8, ax
 2572 0054 AD F2                   		movw	ax, r10
 2573 0056 06 F0                   		addw	ax, r8
 2574 0058 BD F0                   		movw	r8, ax
 2575 005a BF 00 00                		movw	!_M1_Time_Position, ax
1873:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2576                             		.loc 1 1873 0
 2577 005d BD F0                   		movw	r8, ax
 2578 005f BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2579 0062 EC 48 01 00             		br	!!.L126
 2580                             	.L121:
1874:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1875:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1876:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1877:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)
 2581                             		.loc 1 1877 0
 2582 0066 8F 00 00                		mov	a, !_CFG_parameter+1
 2583 0069 9D F0                   		mov	r8, a
 2584 006b 4A F0 02                		cmp	r8, #2
 2585 006e 61 E8                   		 skz
 2586 0070 EC 8B 00 00             		 br	!!.L124
1878:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Time_Position = CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time;
 2587                             		.loc 1 1878 0
 2588 0074 AF 00 00                		movw	ax, !_CFG_parameter+12
 2589 0077 BD F2                   		movw	r10, ax
 2590 0079 AF 00 00                		movw	ax, !_CFG_parameter+16
 2591 007c BD F0                   		movw	r8, ax
 2592 007e AD F2                   		movw	ax, r10
 2593 0080 06 F0                   		addw	ax, r8
 2594 0082 BD F0                   		movw	r8, ax
 2595 0084 BF 00 00                		movw	!_M1_Time_Position, ax
 2596 0087 EC E2 00 00             		br	!!.L125
 2597                             	.L124:
1879:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			else
1880:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 				M1_Time_Position = (CFG_parameter.M1_Maneuver_Time + CFG_parameter.M1_Deceleration_Time) / 100 
 2598                             		.loc 1 1880 0
 2599 008b AF 00 00                		movw	ax, !_CFG_parameter+12
 2600 008e BD F2                   		movw	r10, ax
 2601 0090 AF 00 00                		movw	ax, !_CFG_parameter+16
 2602 0093 BD F0                   		movw	r8, ax
 2603 0095 AD F2                   		movw	ax, r10
 2604 0097 06 F0                   		addw	ax, r8
 2605 0099 BD F0                   		movw	r8, ax
 2606 009b 31 2E                   		shrw	ax, 2
 2607 009d BD F0                   		movw	r8, ax
 2608 009f 30 7B 14                		movw	ax, #5243
 2609 00a2 12                      		movw	bc, ax
 2610 00a3 AD F0                   		movw	ax, r8
 2611 00a5 61 DD                   		push	psw
 2612 00a7 71 7B FA                		di
 2613 00aa CF E8 00 00             		mov	!MDUC, #0
 2614 00ae BE F0                   		movw	MDAL, ax
 2615 00b0 13                      		movw	ax, bc
 2616 00b1 BE F2                   		movw	MDAH, ax
 2617 00b3 00                      		nop
 2618 00b4 AE F4                   		movw	ax, MDBH
 2619 00b6 61 CD                   		pop	psw ;umulhi3_highpart_g13 ax,r8,#5243
 2620 00b8 BD F0                   		movw	r8, ax
 2621 00ba 31 1E                   		shrw	ax, 1
 2622 00bc BD F2                   		movw	r10, ax
 2623 00be 8F 00 00                		mov	a, !_CFG_parameter+41
 2624 00c1 9D F0                   		mov	r8, a
 2625 00c3 F4 F1                   		clrb	r9
 2626 00c5 AD F0                   		movw	ax, r8
 2627 00c7 12                      		movw	bc, ax
 2628 00c8 AD F2                   		movw	ax, r10
 2629 00ca 61 DD                   		push	psw
 2630 00cc 71 7B FA                		di
 2631 00cf CF E8 00 00             		mov	!MDUC, #0
 2632 00d3 BE F0                   		movw	MDAL, ax
 2633 00d5 13                      		movw	ax, bc
 2634 00d6 BE F2                   		movw	MDAH, ax
 2635 00d8 00                      		nop
 2636 00d9 AE F6                   		movw	ax, MDBL
 2637 00db 61 CD                   		pop 	psw ;mulhi3_g13 ax,r10,r8
 2638 00dd BD F0                   		movw	r8, ax
 2639 00df BF 00 00                		movw	!_M1_Time_Position, ax
 2640                             	.L125:
1881:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2641                             		.loc 1 1881 0
 2642 00e2 AF 00 00                		movw	ax, !_M1_Time_Position
 2643 00e5 BD F0                   		movw	r8, ax
 2644 00e7 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2645 00ea EC 48 01 00             		br	!!.L126
 2646                             	.L120:
1882:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1883:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1884:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	else
1885:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1886:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		if (Leaf_No1_State != GATE_STATE_CLOSED)
 2647                             		.loc 1 1886 0
 2648 00ee 8F 00 00                		mov	a, !_Leaf_No1_State
 2649 00f1 9D F0                   		mov	r8, a
 2650 00f3 4A F0 01                		cmp	r8, #1
 2651 00f6 61 F8                   		 sknz
 2652 00f8 EC 3F 01 00             		 br	!!.L127
1887:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1888:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			if (M1_Tick_Count > CFG_parameter.Motor_Maximum_Boost_Time) M1_Tick_Count -= CFG_parameter.Motor
 2653                             		.loc 1 1888 0
 2654 00fc AF 00 00                		movw	ax, !_CFG_parameter+6
 2655 00ff BD F2                   		movw	r10, ax
 2656 0101 AF 00 00                		movw	ax, !_M1_Tick_Count
 2657 0104 BD F0                   		movw	r8, ax
 2658 0106 AD F2                   		movw	ax, r10
 2659 0108 46 F0                   		cmpw	ax, r8
 2660 010a 61 C8                   		 skc
 2661 010c EC 23 01 00             		 br	!!.L128
 2662                             		.loc 1 1888 0 is_stmt 0 discriminator 1
 2663 0110 AF 00 00                		movw	ax, !_M1_Tick_Count
 2664 0113 BD F2                   		movw	r10, ax
 2665 0115 AF 00 00                		movw	ax, !_CFG_parameter+6
 2666 0118 BD F0                   		movw	r8, ax
 2667 011a AD F2                   		movw	ax, r10
 2668 011c 26 F0                   		subw	ax, r8
 2669 011e BD F0                   		movw	r8, ax
 2670 0120 BF 00 00                		movw	!_M1_Tick_Count, ax
 2671                             	.L128:
1889:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 	M1_Last_Time_Position -	M1_Tick_Count;
 2672                             		.loc 1 1889 0 is_stmt 1
 2673 0123 AF 00 00                		movw	ax, !_M1_Last_Time_Position
 2674 0126 BD F2                   		movw	r10, ax
 2675 0128 AF 00 00                		movw	ax, !_M1_Tick_Count
 2676 012b BD F0                   		movw	r8, ax
 2677 012d AD F2                   		movw	ax, r10
 2678 012f 26 F0                   		subw	ax, r8
 2679 0131 BD F0                   		movw	r8, ax
 2680 0133 BF 00 00                		movw	!_M1_Time_Position, ax
1890:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2681                             		.loc 1 1890 0
 2682 0136 BD F0                   		movw	r8, ax
 2683 0138 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2684 013b EC 48 01 00             		br	!!.L126
 2685                             	.L127:
1891:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1892:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		else
1893:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		{
1894:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Time_Position = 0;
 2686                             		.loc 1 1894 0
 2687 013f F6                      		clrw	ax
 2688 0140 BF 00 00                		movw	!_M1_Time_Position, ax
1895:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 			M1_Last_Time_Position = M1_Time_Position;
 2689                             		.loc 1 1895 0
 2690 0143 BD F0                   		movw	r8, ax
 2691 0145 BF 00 00                		movw	!_M1_Last_Time_Position, ax
 2692                             	.L126:
1896:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		}
1897:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1898:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1899:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	Machine_State = MACHINE_STATE_STOP;
 2693                             		.loc 1 1899 0
 2694 0148 F5 00 00                		clrb	!_Machine_State
1900:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 
1901:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	if ((Leaf_No1_State == GATE_STATE_CLOSED)
 2695                             		.loc 1 1901 0
 2696 014b 8F 00 00                		mov	a, !_Leaf_No1_State
 2697 014e 9D F0                   		mov	r8, a
 2698 0150 4A F0 01                		cmp	r8, #1
 2699 0153 61 F8                   		 sknz
 2700 0155 EC 75 01 00             		 br	!!.L129
1902:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		|| (Leaf_No1_State == GATE_STATE_OPENED)
 2701                             		.loc 1 1902 0
 2702 0159 8F 00 00                		mov	a, !_Leaf_No1_State
 2703 015c 9D F0                   		mov	r8, a
 2704 015e 4A F0 03                		cmp	r8, #3
 2705 0161 61 F8                   		 sknz
 2706 0163 EC 75 01 00             		 br	!!.L129
1903:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		|| (Leaf_No1_State == GATE_STATE_PARTIAL))
 2707                             		.loc 1 1903 0
 2708 0167 8F 00 00                		mov	a, !_Leaf_No1_State
 2709 016a 9D F0                   		mov	r8, a
 2710 016c 4A F0 05                		cmp	r8, #5
 2711 016f 61 E8                   		 skz
 2712 0171 EC 93 01 00             		 br	!!.L119
 2713                             	.L129:
 2714                             	.LBB5:
1904:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	{
1905:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Flash_Enable = 0;
 2715                             		.loc 1 1905 0
 2716 0175 F5 00 00                		clrb	!_Flash_Enable
1906:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		FLASH = 0;
 2717                             		.loc 1 1906 0
 2718 0178 C9 F0 02 FF             		movw	r8, #-254
 2719 017c AD F0                   		movw	ax, r8
 2720 017e BD F4                   		movw	r12, ax
 2721 0180 FA F4                   		movw	hl, r12
 2722 0182 8B                      		mov	a, [hl]
 2723 0183 9D F2                   		mov	r10, a
 2724 0185 5A F2 FD                		and	r10, #-3
 2725 0188 AD F0                   		movw	ax, r8
 2726 018a EA F4                   		movw	de, r12
 2727 018c 8D F2                   		mov	a, r10
 2728 018e 99                      		mov	[de], a
1907:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 		Courtesy_Light_After_Maneuver_Is_Complete();
 2729                             		.loc 1 1907 0
 2730 018f FC 00 00 00             		call	!!%code(_Courtesy_Light_After_Maneuver_Is_Complete)
 2731                             	.L119:
 2732                             	.LBE5:
1908:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** 	}
1909:../DGC_A230_Functions/DGC_A230_Motor_Functions.c **** }
 2733                             		.loc 1 1909 0
 2734 0193 D7                      		ret
 2735                             	.LFE20:
 2955                             	.Letext0:
 2956                             		.file 2 "E:/AIoT/Code/Rogger/DGC_A230_6_Rev_1_0_Software/generate/iodefine.h"
 2957                             		.file 3 "E:\\AIoT\\Code\\Rogger\\DGC_A230_6_Rev_1_0_Software\\src/r_cg_macrodriver.h"
 2958                             		.file 4 "E:\\AIoT\\Code\\Rogger\\DGC_A230_6_Rev_1_0_Software\\DGC_A230_Functions/DGC_A230_Define.h
