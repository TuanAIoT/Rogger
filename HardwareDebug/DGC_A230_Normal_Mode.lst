   1                             	r8	=	0xffef0
   2                             	r16	=	0xffee8
   3                             	r24	=	0xffee0
   4                             	r9	=	0xffef1
   5                             	r17	=	0xffee9
   6                             	r25	=	0xffee1
   7                             	r10	=	0xffef2
   8                             	r18	=	0xffeea
   9                             	r26	=	0xffee2
  10                             	r11	=	0xffef3
  11                             	r19	=	0xffeeb
  12                             	r27	=	0xffee3
  13                             	r12	=	0xffef4
  14                             	r20	=	0xffeec
  15                             	r28	=	0xffee4
  16                             	r13	=	0xffef5
  17                             	r21	=	0xffeed
  18                             	r29	=	0xffee5
  19                             	r14	=	0xffef6
  20                             	r22	=	0xffeee
  21                             	r30	=	0xffee6
  22                             	r15	=	0xffef7
  23                             	r23	=	0xffeef
  24                             	r31	=	0xffee7
  25                             	MDUC	=	0xf00e8
  26                             	MDAL	=	0xffff0
  27                             	MDAH	=	0xffff2
  28                             	MDBL	=	0xffff6
  29                             	MDBH	=	0xffff4
  30                             	MDCL	=	0xf00e0
  31                             	MDCH	=	0xf00e2
  32                             	.text
  33                             	.Ltext0:
  34                             		.global	_Leaf_No1_State
  35                             		.section	.bss.Leaf_No1_State,"aw",@nobits
  38                             	_Leaf_No1_State:
  39 0000 00                      		.zero	1
  40                             		.global	_Leaf_No2_State
  41                             		.section	.bss.Leaf_No2_State,"aw",@nobits
  44                             	_Leaf_No2_State:
  45 0000 00                      		.zero	1
  46                             		.global	_flag_PP
  47                             		.section	.bss.flag_PP,"aw",@nobits
  50                             	_flag_PP:
  51 0000 00                      		.zero	1
  52                             		.global	_M1_Last_Time_Position
  53                             		.section	.bss.M1_Last_Time_Position,"aw",@nobits
  54                             		.balign 2
  57                             	_M1_Last_Time_Position:
  58 0000 00 00                   		.zero	2
  59                             		.global	_M2_Last_Time_Position
  60                             		.section	.bss.M2_Last_Time_Position,"aw",@nobits
  61                             		.balign 2
  64                             	_M2_Last_Time_Position:
  65 0000 00 00                   		.zero	2
  66                             		.global	_M1_Time_Position
  67                             		.section	.bss.M1_Time_Position,"aw",@nobits
  68                             		.balign 2
  71                             	_M1_Time_Position:
  72 0000 00 00                   		.zero	2
  73                             		.global	_M2_Time_Position
  74                             		.section	.bss.M2_Time_Position,"aw",@nobits
  75                             		.balign 2
  78                             	_M2_Time_Position:
  79 0000 00 00                   		.zero	2
  80                             		.comm	_Courtesy_Light_Time,2,2
  81                             		.comm	_Courtesy_Light_Count,2,2
  82                             		.global	_Courtesy_Light_Enable
  83                             		.section	.bss.Courtesy_Light_Enable,"aw",@nobits
  86                             	_Courtesy_Light_Enable:
  87 0000 00                      		.zero	1
  88                             		.comm	_Last_Open_Command_State,1,1
  89                             		.comm	_Last_Close_Command_State,1,1
  90                             		.comm	_Last_Clock_Command_State,1,1
  91                             		.section	.text.Check_Safety_Device_Status,"ax",@progbits
  92                             		.global	_Check_Safety_Device_Status
  94                             	_Check_Safety_Device_Status:
  95                             	.LFB0:
  96                             		.file 1 "../DGC_A230_Functions/DGC_A230_Normal_Mode.c"
   1:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** /*
   2:../DGC_A230_Functions/DGC_A230_Normal_Mode.c ****  * DGC_A230_Normal_Mode.c
   3:../DGC_A230_Functions/DGC_A230_Normal_Mode.c ****  *
   4:../DGC_A230_Functions/DGC_A230_Normal_Mode.c ****  *  Created on: Nov 22, 2023
   5:../DGC_A230_Functions/DGC_A230_Normal_Mode.c ****  *      Author: Mr. Han
   6:../DGC_A230_Functions/DGC_A230_Normal_Mode.c ****  */
   7:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
   8:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** #include "r_cg_macrodriver.h"
   9:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** #include "r_cg_userdefine.h"
  10:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  11:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** #include <DGC_A230_Define.h>
  12:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** #include <Common.h>
  13:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  14:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  15:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** /**************************************************************************************************
  16:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** Global variables and functions
  17:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** ***************************************************************************************************
  18:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint8_t Command_Status_No1, Command_Status_No2, Safety_Status_No1, Safety_Status_No2;
  19:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint8_t Leaf_No1_State = GATE_STATE_UNKNOWN, Leaf_No2_State = GATE_STATE_UNKNOWN;
  20:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern struct Device_Config_Parameters CFG_parameter;
  21:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint16_t M1_Tick_Count, M2_Tick_Count;
  22:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint8_t	M1_Timestamp, M2_Timestamp;
  23:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint16_t Key_Tick_Count;
  24:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //code [21]
  25:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint16_t Automatic_Close_Flag;
  26:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint16_t Automatic_Close_Count;
  27:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //code [21]
  28:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //code [A7] [A6]
  29:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint8_t flag_PP = 0;
  30:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //code [A7] [A6]
  31:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint8_t	Flash_Enable;
  32:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  33:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint8_t Power_failure;
  34:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  35:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint16_t M1_Last_Time_Position = 0, M2_Last_Time_Position = 0;		// Last Gate Position in time
  36:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint16_t M1_Time_Position = 0, M2_Time_Position = 0;				// Gate position in time
  37:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  38:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint16_t Courtesy_Light_Time, Courtesy_Light_Count;
  39:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint8_t  Courtesy_Light_Enable = 0;
  40:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  41:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** extern uint8_t Machine_State;
  42:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  43:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** uint8_t Last_Open_Command_State, Last_Close_Command_State, Last_Clock_Command_State;
  44:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  45:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Check_Safety_Device_Status(void)
  46:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
  97                             		.loc 1 46 0
  47:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// E_STOP Emergency Stop Status
  48:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (E_STOP) SET_BIT(Command_Status_No2, BIT(0));
  98                             		.loc 1 48 0
  99 0000 C9 F0 07 FF             		movw	r8, #-249
 100 0004 AD F0                   		movw	ax, r8
 101 0006 BD F2                   		movw	r10, ax
 102 0008 FA F2                   		movw	hl, r10
 103 000a 8B                      		mov	a, [hl]
 104 000b 9D F0                   		mov	r8, a
 105 000d 31 4A                   		shr	a, 4
 106 000f 9D F0                   		mov	r8, a
 107 0011 5A F0 01                		and	r8, #1
 108 0014 61 F8                   		sknz
 109 0016 EC 2B 00 00             		 br	!!.L2
 110                             		 # zero-comparison eliminated
 111                             		.loc 1 48 0 is_stmt 0 discriminator 1
 112 001a 8F 00 00                		mov	a, !_Command_Status_No2
 113 001d 9D F0                   		mov	r8, a
 114 001f 6A F0 01                		or	r8, #1
 115 0022 8D F0                   		mov	a, r8
 116 0024 9F 00 00                		mov	!_Command_Status_No2, a
 117 0027 EC 38 00 00             		br	!!.L3
 118                             	.L2:
  49:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No2, BIT(0));
 119                             		.loc 1 49 0 is_stmt 1
 120 002b 8F 00 00                		mov	a, !_Command_Status_No2
 121 002e 9D F0                   		mov	r8, a
 122 0030 5A F0 FE                		and	r8, #-2
 123 0033 8D F0                   		mov	a, r8
 124 0035 9F 00 00                		mov	!_Command_Status_No2, a
 125                             	.L3:
  50:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  51:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// Photo cell FT1 Status
  52:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FT1) SET_BIT(Safety_Status_No1, BIT(7));
 126                             		.loc 1 52 0
 127 0038 C9 F0 07 FF             		movw	r8, #-249
 128 003c AD F0                   		movw	ax, r8
 129 003e BD F2                   		movw	r10, ax
 130 0040 FA F2                   		movw	hl, r10
 131 0042 8B                      		mov	a, [hl]
 132 0043 9D F0                   		mov	r8, a
 133 0045 31 1A                   		shr	a, 1
 134 0047 9D F0                   		mov	r8, a
 135 0049 5A F0 01                		and	r8, #1
 136 004c 61 F8                   		sknz
 137 004e EC 63 00 00             		 br	!!.L4
 138                             		 # zero-comparison eliminated
 139                             		.loc 1 52 0 is_stmt 0 discriminator 1
 140 0052 8F 00 00                		mov	a, !_Safety_Status_No1
 141 0055 9D F0                   		mov	r8, a
 142 0057 6A F0 80                		or	r8, #-128
 143 005a 8D F0                   		mov	a, r8
 144 005c 9F 00 00                		mov	!_Safety_Status_No1, a
 145 005f EC 70 00 00             		br	!!.L5
 146                             	.L4:
  53:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No1, BIT(7));
 147                             		.loc 1 53 0 is_stmt 1
 148 0063 8F 00 00                		mov	a, !_Safety_Status_No1
 149 0066 9D F0                   		mov	r8, a
 150 0068 5A F0 7F                		and	r8, #127
 151 006b 8D F0                   		mov	a, r8
 152 006d 9F 00 00                		mov	!_Safety_Status_No1, a
 153                             	.L5:
  54:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  55:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// COS1 sensing edge Status
  56:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (COS1) SET_BIT(Safety_Status_No1, BIT(1));
 154                             		.loc 1 56 0
 155 0070 C9 F0 07 FF             		movw	r8, #-249
 156 0074 AD F0                   		movw	ax, r8
 157 0076 BD F2                   		movw	r10, ax
 158 0078 FA F2                   		movw	hl, r10
 159 007a 8B                      		mov	a, [hl]
 160 007b 9D F0                   		mov	r8, a
 161 007d 31 3A                   		shr	a, 3
 162 007f 9D F0                   		mov	r8, a
 163 0081 5A F0 01                		and	r8, #1
 164 0084 61 F8                   		sknz
 165 0086 EC 9B 00 00             		 br	!!.L6
 166                             		 # zero-comparison eliminated
 167                             		.loc 1 56 0 is_stmt 0 discriminator 1
 168 008a 8F 00 00                		mov	a, !_Safety_Status_No1
 169 008d 9D F0                   		mov	r8, a
 170 008f 6A F0 02                		or	r8, #2
 171 0092 8D F0                   		mov	a, r8
 172 0094 9F 00 00                		mov	!_Safety_Status_No1, a
 173 0097 EC A8 00 00             		br	!!.L7
 174                             	.L6:
  57:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No1, BIT(1));
 175                             		.loc 1 57 0 is_stmt 1
 176 009b 8F 00 00                		mov	a, !_Safety_Status_No1
 177 009e 9D F0                   		mov	r8, a
 178 00a0 5A F0 FD                		and	r8, #-3
 179 00a3 8D F0                   		mov	a, r8
 180 00a5 9F 00 00                		mov	!_Safety_Status_No1, a
 181                             	.L7:
  58:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  59:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// FCA1 Gate Open limit switches LEAF#1 Status
  60:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FCA1_IN) SET_BIT(Safety_Status_No1, BIT(3));
 182                             		.loc 1 60 0
 183 00a8 C9 F0 04 FF             		movw	r8, #-252
 184 00ac AD F0                   		movw	ax, r8
 185 00ae BD F2                   		movw	r10, ax
 186 00b0 FA F2                   		movw	hl, r10
 187 00b2 8B                      		mov	a, [hl]
 188 00b3 9D F0                   		mov	r8, a
 189 00b5 31 1A                   		shr	a, 1
 190 00b7 9D F0                   		mov	r8, a
 191 00b9 5A F0 01                		and	r8, #1
 192 00bc 61 F8                   		sknz
 193 00be EC D3 00 00             		 br	!!.L8
 194                             		 # zero-comparison eliminated
 195                             		.loc 1 60 0 is_stmt 0 discriminator 1
 196 00c2 8F 00 00                		mov	a, !_Safety_Status_No1
 197 00c5 9D F0                   		mov	r8, a
 198 00c7 6A F0 08                		or	r8, #8
 199 00ca 8D F0                   		mov	a, r8
 200 00cc 9F 00 00                		mov	!_Safety_Status_No1, a
 201 00cf EC E0 00 00             		br	!!.L9
 202                             	.L8:
  61:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No1, BIT(3));
 203                             		.loc 1 61 0 is_stmt 1
 204 00d3 8F 00 00                		mov	a, !_Safety_Status_No1
 205 00d6 9D F0                   		mov	r8, a
 206 00d8 5A F0 F7                		and	r8, #-9
 207 00db 8D F0                   		mov	a, r8
 208 00dd 9F 00 00                		mov	!_Safety_Status_No1, a
 209                             	.L9:
  62:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  63:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// FCC1 Gate Close limit switches LEAF#1 Status
  64:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FCC1_IN) SET_BIT(Safety_Status_No1, BIT(5));
 210                             		.loc 1 64 0
 211 00e0 C9 F0 04 FF             		movw	r8, #-252
 212 00e4 AD F0                   		movw	ax, r8
 213 00e6 BD F2                   		movw	r10, ax
 214 00e8 FA F2                   		movw	hl, r10
 215 00ea 8B                      		mov	a, [hl]
 216 00eb 9D F0                   		mov	r8, a
 217 00ed 31 2A                   		shr	a, 2
 218 00ef 9D F0                   		mov	r8, a
 219 00f1 5A F0 01                		and	r8, #1
 220 00f4 61 F8                   		sknz
 221 00f6 EC 0B 01 00             		 br	!!.L10
 222                             		 # zero-comparison eliminated
 223                             		.loc 1 64 0 is_stmt 0 discriminator 1
 224 00fa 8F 00 00                		mov	a, !_Safety_Status_No1
 225 00fd 9D F0                   		mov	r8, a
 226 00ff 6A F0 20                		or	r8, #32
 227 0102 8D F0                   		mov	a, r8
 228 0104 9F 00 00                		mov	!_Safety_Status_No1, a
 229 0107 EC 18 01 00             		br	!!.L11
 230                             	.L10:
  65:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No1, BIT(5));
 231                             		.loc 1 65 0 is_stmt 1
 232 010b 8F 00 00                		mov	a, !_Safety_Status_No1
 233 010e 9D F0                   		mov	r8, a
 234 0110 5A F0 DF                		and	r8, #-33
 235 0113 8D F0                   		mov	a, r8
 236 0115 9F 00 00                		mov	!_Safety_Status_No1, a
 237                             	.L11:
  66:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  67:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// ENC1 Encoder Motor#1 Status
  68:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (ENC1) SET_BIT(Safety_Status_No1, BIT(0));
 238                             		.loc 1 68 0
 239 0118 C9 F0 05 FF             		movw	r8, #-251
 240 011c AD F0                   		movw	ax, r8
 241 011e BD F2                   		movw	r10, ax
 242 0120 EA F2                   		movw	de, r10
 243 0122 89                      		mov	a, [de]
 244 0123 5C 01                   		and	a, #1
 245 0125 9D F0                   		mov	r8, a
 246 0127 D4 F0                   		cmp0	r8
 247 0129 61 F8                   		 sknz
 248 012b EC 40 01 00             		 br	!!.L12
 249                             		.loc 1 68 0 is_stmt 0 discriminator 1
 250 012f 8F 00 00                		mov	a, !_Safety_Status_No1
 251 0132 9D F0                   		mov	r8, a
 252 0134 6A F0 01                		or	r8, #1
 253 0137 8D F0                   		mov	a, r8
 254 0139 9F 00 00                		mov	!_Safety_Status_No1, a
 255 013c EC 4D 01 00             		br	!!.L13
 256                             	.L12:
  69:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No1, BIT(0));
 257                             		.loc 1 69 0 is_stmt 1
 258 0140 8F 00 00                		mov	a, !_Safety_Status_No1
 259 0143 9D F0                   		mov	r8, a
 260 0145 5A F0 FE                		and	r8, #-2
 261 0148 8D F0                   		mov	a, r8
 262 014a 9F 00 00                		mov	!_Safety_Status_No1, a
 263                             	.L13:
  70:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  71:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// Photo cell FT2 Status
  72:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FT2) SET_BIT(Safety_Status_No2, BIT(7));
 264                             		.loc 1 72 0
 265 014d C9 F0 07 FF             		movw	r8, #-249
 266 0151 AD F0                   		movw	ax, r8
 267 0153 BD F2                   		movw	r10, ax
 268 0155 EA F2                   		movw	de, r10
 269 0157 89                      		mov	a, [de]
 270 0158 5C 01                   		and	a, #1
 271 015a 9D F0                   		mov	r8, a
 272 015c D4 F0                   		cmp0	r8
 273 015e 61 F8                   		 sknz
 274 0160 EC 75 01 00             		 br	!!.L14
 275                             		.loc 1 72 0 is_stmt 0 discriminator 1
 276 0164 8F 00 00                		mov	a, !_Safety_Status_No2
 277 0167 9D F0                   		mov	r8, a
 278 0169 6A F0 80                		or	r8, #-128
 279 016c 8D F0                   		mov	a, r8
 280 016e 9F 00 00                		mov	!_Safety_Status_No2, a
 281 0171 EC 82 01 00             		br	!!.L15
 282                             	.L14:
  73:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No2, BIT(7));
 283                             		.loc 1 73 0 is_stmt 1
 284 0175 8F 00 00                		mov	a, !_Safety_Status_No2
 285 0178 9D F0                   		mov	r8, a
 286 017a 5A F0 7F                		and	r8, #127
 287 017d 8D F0                   		mov	a, r8
 288 017f 9F 00 00                		mov	!_Safety_Status_No2, a
 289                             	.L15:
  74:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  75:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// COS2 sensing edge Status
  76:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (COS2) SET_BIT(Safety_Status_No2, BIT(1));
 290                             		.loc 1 76 0
 291 0182 C9 F0 07 FF             		movw	r8, #-249
 292 0186 AD F0                   		movw	ax, r8
 293 0188 BD F2                   		movw	r10, ax
 294 018a FA F2                   		movw	hl, r10
 295 018c 8B                      		mov	a, [hl]
 296 018d 9D F0                   		mov	r8, a
 297 018f 31 2A                   		shr	a, 2
 298 0191 9D F0                   		mov	r8, a
 299 0193 5A F0 01                		and	r8, #1
 300 0196 61 F8                   		sknz
 301 0198 EC AD 01 00             		 br	!!.L16
 302                             		 # zero-comparison eliminated
 303                             		.loc 1 76 0 is_stmt 0 discriminator 1
 304 019c 8F 00 00                		mov	a, !_Safety_Status_No2
 305 019f 9D F0                   		mov	r8, a
 306 01a1 6A F0 02                		or	r8, #2
 307 01a4 8D F0                   		mov	a, r8
 308 01a6 9F 00 00                		mov	!_Safety_Status_No2, a
 309 01a9 EC BA 01 00             		br	!!.L17
 310                             	.L16:
  77:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No2, BIT(1));
 311                             		.loc 1 77 0 is_stmt 1
 312 01ad 8F 00 00                		mov	a, !_Safety_Status_No2
 313 01b0 9D F0                   		mov	r8, a
 314 01b2 5A F0 FD                		and	r8, #-3
 315 01b5 8D F0                   		mov	a, r8
 316 01b7 9F 00 00                		mov	!_Safety_Status_No2, a
 317                             	.L17:
  78:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  79:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// FCA2 Gate Open limit switches LEAF#1 Status
  80:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FCA2_IN) SET_BIT(Safety_Status_No2, BIT(3));
 318                             		.loc 1 80 0
 319 01ba C9 F0 04 FF             		movw	r8, #-252
 320 01be AD F0                   		movw	ax, r8
 321 01c0 BD F2                   		movw	r10, ax
 322 01c2 FA F2                   		movw	hl, r10
 323 01c4 8B                      		mov	a, [hl]
 324 01c5 9D F0                   		mov	r8, a
 325 01c7 31 3A                   		shr	a, 3
 326 01c9 9D F0                   		mov	r8, a
 327 01cb 5A F0 01                		and	r8, #1
 328 01ce 61 F8                   		sknz
 329 01d0 EC E5 01 00             		 br	!!.L18
 330                             		 # zero-comparison eliminated
 331                             		.loc 1 80 0 is_stmt 0 discriminator 1
 332 01d4 8F 00 00                		mov	a, !_Safety_Status_No2
 333 01d7 9D F0                   		mov	r8, a
 334 01d9 6A F0 08                		or	r8, #8
 335 01dc 8D F0                   		mov	a, r8
 336 01de 9F 00 00                		mov	!_Safety_Status_No2, a
 337 01e1 EC F2 01 00             		br	!!.L19
 338                             	.L18:
  81:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No2, BIT(3));
 339                             		.loc 1 81 0 is_stmt 1
 340 01e5 8F 00 00                		mov	a, !_Safety_Status_No2
 341 01e8 9D F0                   		mov	r8, a
 342 01ea 5A F0 F7                		and	r8, #-9
 343 01ed 8D F0                   		mov	a, r8
 344 01ef 9F 00 00                		mov	!_Safety_Status_No2, a
 345                             	.L19:
  82:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  83:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// FCC2 Gate Close limit switches LEAF#1 Status
  84:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (FCC2_IN) SET_BIT(Safety_Status_No2, BIT(5));
 346                             		.loc 1 84 0
 347 01f2 C9 F0 0C FF             		movw	r8, #-244
 348 01f6 AD F0                   		movw	ax, r8
 349 01f8 BD F2                   		movw	r10, ax
 350 01fa EA F2                   		movw	de, r10
 351 01fc 89                      		mov	a, [de]
 352 01fd 5C 01                   		and	a, #1
 353 01ff 9D F0                   		mov	r8, a
 354 0201 D4 F0                   		cmp0	r8
 355 0203 61 F8                   		 sknz
 356 0205 EC 1A 02 00             		 br	!!.L20
 357                             		.loc 1 84 0 is_stmt 0 discriminator 1
 358 0209 8F 00 00                		mov	a, !_Safety_Status_No2
 359 020c 9D F0                   		mov	r8, a
 360 020e 6A F0 20                		or	r8, #32
 361 0211 8D F0                   		mov	a, r8
 362 0213 9F 00 00                		mov	!_Safety_Status_No2, a
 363 0216 EC 27 02 00             		br	!!.L21
 364                             	.L20:
  85:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No2, BIT(5));
 365                             		.loc 1 85 0 is_stmt 1
 366 021a 8F 00 00                		mov	a, !_Safety_Status_No2
 367 021d 9D F0                   		mov	r8, a
 368 021f 5A F0 DF                		and	r8, #-33
 369 0222 8D F0                   		mov	a, r8
 370 0224 9F 00 00                		mov	!_Safety_Status_No2, a
 371                             	.L21:
  86:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  87:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// ENC2 Encoder Motor#2 Status
  88:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (ENC2) SET_BIT(Safety_Status_No2, BIT(0));
 372                             		.loc 1 88 0
 373 0227 C9 F0 05 FF             		movw	r8, #-251
 374 022b AD F0                   		movw	ax, r8
 375 022d BD F2                   		movw	r10, ax
 376 022f FA F2                   		movw	hl, r10
 377 0231 8B                      		mov	a, [hl]
 378 0232 9D F0                   		mov	r8, a
 379 0234 31 1A                   		shr	a, 1
 380 0236 9D F0                   		mov	r8, a
 381 0238 5A F0 01                		and	r8, #1
 382 023b 61 F8                   		sknz
 383 023d EC 52 02 00             		 br	!!.L22
 384                             		 # zero-comparison eliminated
 385                             		.loc 1 88 0 is_stmt 0 discriminator 1
 386 0241 8F 00 00                		mov	a, !_Safety_Status_No2
 387 0244 9D F0                   		mov	r8, a
 388 0246 6A F0 01                		or	r8, #1
 389 0249 8D F0                   		mov	a, r8
 390 024b 9F 00 00                		mov	!_Safety_Status_No2, a
 391 024e EC 5F 02 00             		br	!!.L23
 392                             	.L22:
  89:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Safety_Status_No2, BIT(0));
 393                             		.loc 1 89 0 is_stmt 1
 394 0252 8F 00 00                		mov	a, !_Safety_Status_No2
 395 0255 9D F0                   		mov	r8, a
 396 0257 5A F0 FE                		and	r8, #-2
 397 025a 8D F0                   		mov	a, r8
 398 025c 9F 00 00                		mov	!_Safety_Status_No2, a
 399                             	.L23:
  90:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  91:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// AP Input Command
  92:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (!AP_IN) SET_BIT(Command_Status_No1, BIT(7));
 400                             		.loc 1 92 0
 401 025f C9 F0 06 FF             		movw	r8, #-250
 402 0263 AD F0                   		movw	ax, r8
 403 0265 BD F2                   		movw	r10, ax
 404 0267 FA F2                   		movw	hl, r10
 405 0269 8B                      		mov	a, [hl]
 406 026a 9D F0                   		mov	r8, a
 407 026c 31 3A                   		shr	a, 3
 408 026e 9D F0                   		mov	r8, a
 409 0270 5A F0 01                		and	r8, #1
 410 0273 61 E8                   		skz
 411 0275 EC 8A 02 00             		 br	!!.L24
 412                             		 # zero-comparison eliminated
 413                             		.loc 1 92 0 is_stmt 0 discriminator 1
 414 0279 8F 00 00                		mov	a, !_Command_Status_No1
 415 027c 9D F0                   		mov	r8, a
 416 027e 6A F0 80                		or	r8, #-128
 417 0281 8D F0                   		mov	a, r8
 418 0283 9F 00 00                		mov	!_Command_Status_No1, a
 419 0286 EC 97 02 00             		br	!!.L25
 420                             	.L24:
  93:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No1, BIT(7));
 421                             		.loc 1 93 0 is_stmt 1
 422 028a 8F 00 00                		mov	a, !_Command_Status_No1
 423 028d 9D F0                   		mov	r8, a
 424 028f 5A F0 7F                		and	r8, #127
 425 0292 8D F0                   		mov	a, r8
 426 0294 9F 00 00                		mov	!_Command_Status_No1, a
 427                             	.L25:
  94:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  95:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// CH Input Command
  96:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (!CH_IN) SET_BIT(Command_Status_No1, BIT(4));
 428                             		.loc 1 96 0
 429 0297 C9 F0 06 FF             		movw	r8, #-250
 430 029b AD F0                   		movw	ax, r8
 431 029d BD F2                   		movw	r10, ax
 432 029f FA F2                   		movw	hl, r10
 433 02a1 8B                      		mov	a, [hl]
 434 02a2 9D F0                   		mov	r8, a
 435 02a4 31 2A                   		shr	a, 2
 436 02a6 9D F0                   		mov	r8, a
 437 02a8 5A F0 01                		and	r8, #1
 438 02ab 61 E8                   		skz
 439 02ad EC C2 02 00             		 br	!!.L26
 440                             		 # zero-comparison eliminated
 441                             		.loc 1 96 0 is_stmt 0 discriminator 1
 442 02b1 8F 00 00                		mov	a, !_Command_Status_No1
 443 02b4 9D F0                   		mov	r8, a
 444 02b6 6A F0 10                		or	r8, #16
 445 02b9 8D F0                   		mov	a, r8
 446 02bb 9F 00 00                		mov	!_Command_Status_No1, a
 447 02be EC CF 02 00             		br	!!.L27
 448                             	.L26:
  97:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No1, BIT(4));
 449                             		.loc 1 97 0 is_stmt 1
 450 02c2 8F 00 00                		mov	a, !_Command_Status_No1
 451 02c5 9D F0                   		mov	r8, a
 452 02c7 5A F0 EF                		and	r8, #-17
 453 02ca 8D F0                   		mov	a, r8
 454 02cc 9F 00 00                		mov	!_Command_Status_No1, a
 455                             	.L27:
  98:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
  99:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// PED Input Command
 100:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (!PED_IN) SET_BIT(Command_Status_No1, BIT(1));
 456                             		.loc 1 100 0
 457 02cf C9 F0 06 FF             		movw	r8, #-250
 458 02d3 AD F0                   		movw	ax, r8
 459 02d5 BD F2                   		movw	r10, ax
 460 02d7 EA F2                   		movw	de, r10
 461 02d9 89                      		mov	a, [de]
 462 02da 5C 01                   		and	a, #1
 463 02dc 9D F0                   		mov	r8, a
 464 02de D4 F0                   		cmp0	r8
 465 02e0 61 E8                   		 skz
 466 02e2 EC F7 02 00             		 br	!!.L28
 467                             		.loc 1 100 0 is_stmt 0 discriminator 1
 468 02e6 8F 00 00                		mov	a, !_Command_Status_No1
 469 02e9 9D F0                   		mov	r8, a
 470 02eb 6A F0 02                		or	r8, #2
 471 02ee 8D F0                   		mov	a, r8
 472 02f0 9F 00 00                		mov	!_Command_Status_No1, a
 473 02f3 EC 04 03 00             		br	!!.L29
 474                             	.L28:
 101:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No1, BIT(1));
 475                             		.loc 1 101 0 is_stmt 1
 476 02f7 8F 00 00                		mov	a, !_Command_Status_No1
 477 02fa 9D F0                   		mov	r8, a
 478 02fc 5A F0 FD                		and	r8, #-3
 479 02ff 8D F0                   		mov	a, r8
 480 0301 9F 00 00                		mov	!_Command_Status_No1, a
 481                             	.L29:
 102:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 103:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// PP Input Command
 104:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (!PP_IN) SET_BIT(Command_Status_No2, BIT(7));
 482                             		.loc 1 104 0
 483 0304 C9 F0 06 FF             		movw	r8, #-250
 484 0308 AD F0                   		movw	ax, r8
 485 030a BD F2                   		movw	r10, ax
 486 030c FA F2                   		movw	hl, r10
 487 030e 8B                      		mov	a, [hl]
 488 030f 9D F0                   		mov	r8, a
 489 0311 31 1A                   		shr	a, 1
 490 0313 9D F0                   		mov	r8, a
 491 0315 5A F0 01                		and	r8, #1
 492 0318 61 E8                   		skz
 493 031a EC 2F 03 00             		 br	!!.L30
 494                             		 # zero-comparison eliminated
 495                             		.loc 1 104 0 is_stmt 0 discriminator 1
 496 031e 8F 00 00                		mov	a, !_Command_Status_No2
 497 0321 9D F0                   		mov	r8, a
 498 0323 6A F0 80                		or	r8, #-128
 499 0326 8D F0                   		mov	a, r8
 500 0328 9F 00 00                		mov	!_Command_Status_No2, a
 501 032b EC 3C 03 00             		br	!!.L31
 502                             	.L30:
 105:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No2, BIT(7));
 503                             		.loc 1 105 0 is_stmt 1
 504 032f 8F 00 00                		mov	a, !_Command_Status_No2
 505 0332 9D F0                   		mov	r8, a
 506 0334 5A F0 7F                		and	r8, #127
 507 0337 8D F0                   		mov	a, r8
 508 0339 9F 00 00                		mov	!_Command_Status_No2, a
 509                             	.L31:
 106:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 107:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	// ORO Input Command
 108:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (!ORO_IN) SET_BIT(Command_Status_No2, BIT(4));
 510                             		.loc 1 108 0
 511 033c C9 F0 03 FF             		movw	r8, #-253
 512 0340 AD F0                   		movw	ax, r8
 513 0342 BD F2                   		movw	r10, ax
 514 0344 FA F2                   		movw	hl, r10
 515 0346 8B                      		mov	a, [hl]
 516 0347 9D F0                   		mov	r8, a
 517 0349 31 1A                   		shr	a, 1
 518 034b 9D F0                   		mov	r8, a
 519 034d 5A F0 01                		and	r8, #1
 520 0350 61 E8                   		skz
 521 0352 EC 67 03 00             		 br	!!.L32
 522                             		 # zero-comparison eliminated
 523                             		.loc 1 108 0 is_stmt 0 discriminator 1
 524 0356 8F 00 00                		mov	a, !_Command_Status_No2
 525 0359 9D F0                   		mov	r8, a
 526 035b 6A F0 10                		or	r8, #16
 527 035e 8D F0                   		mov	a, r8
 528 0360 9F 00 00                		mov	!_Command_Status_No2, a
 529 0363 EC 74 03 00             		br	!!.L1
 530                             	.L32:
 109:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else CLEAR_BIT(Command_Status_No2, BIT(4));
 531                             		.loc 1 109 0 is_stmt 1
 532 0367 8F 00 00                		mov	a, !_Command_Status_No2
 533 036a 9D F0                   		mov	r8, a
 534 036c 5A F0 EF                		and	r8, #-17
 535 036f 8D F0                   		mov	a, r8
 536 0371 9F 00 00                		mov	!_Command_Status_No2, a
 537                             	.L1:
 110:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 538                             		.loc 1 110 0
 539 0374 D7                      		ret
 540                             	.LFE0:
 542                             		.section	.text.Courtesy_Light_After_Maneuver_Is_Complete,"ax",@progbits
 543                             		.global	_Courtesy_Light_After_Maneuver_Is_Complete
 545                             	_Courtesy_Light_After_Maneuver_Is_Complete:
 546                             	.LFB1:
 111:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 112:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Courtesy_Light_After_Maneuver_Is_Complete (void)
 113:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 547                             		.loc 1 113 0
 114:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	Courtesy_Light_Enable = 0;
 548                             		.loc 1 114 0
 549 0000 F5 00 00                		clrb	!_Courtesy_Light_Enable
 115:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (CFG_parameter.Courtery_Light_Mode >= 3)
 550                             		.loc 1 115 0
 551 0003 8F 00 00                		mov	a, !_CFG_parameter+38
 552 0006 9D F0                   		mov	r8, a
 553 0008 4A F0 02                		cmp	r8, #2
 554 000b 61 E3                   		 skh
 555 000d EC 7B 00 00             		 br	!!.L34
 116:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 117:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Courtesy_Light_Enable = 1;
 556                             		.loc 1 117 0
 557 0011 E5 00 00                		oneb	!_Courtesy_Light_Enable
 118:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Courtery_Light_Mode <= 91)
 558                             		.loc 1 118 0
 559 0014 8F 00 00                		mov	a, !_CFG_parameter+38
 560 0017 9D F0                   		mov	r8, a
 561 0019 4A F0 5B                		cmp	r8, #91
 562 001c 61 F3                   		 sknh
 563 001e EC 35 00 00             		 br	!!.L36
 119:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 120:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Courtesy_Light_Time = CFG_parameter.Courtery_Light_Mode * 2;
 564                             		.loc 1 120 0
 565 0022 8F 00 00                		mov	a, !_CFG_parameter+38
 566 0025 9D F0                   		mov	r8, a
 567 0027 F4 F1                   		clrb	r9
 568 0029 AD F0                   		movw	ax, r8
 569 002b 01                      		addw	ax, ax
 570 002c BD F0                   		movw	r8, ax
 571 002e BF 00 00                		movw	!_Courtesy_Light_Time, ax
 572 0031 EC 60 00 00             		br	!!.L37
 573                             	.L36:
 121:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 122:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if (CFG_parameter.Courtery_Light_Mode >= 92)
 574                             		.loc 1 122 0
 575 0035 8F 00 00                		mov	a, !_CFG_parameter+38
 576 0038 9D F0                   		mov	r8, a
 577 003a 4A F0 5B                		cmp	r8, #91
 578 003d 61 E3                   		 skh
 579 003f EC 60 00 00             		 br	!!.L37
 123:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 124:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Courtesy_Light_Time = (CFG_parameter.Courtery_Light_Mode - 90) * 60 *2;
 580                             		.loc 1 124 0
 581 0043 8F 00 00                		mov	a, !_CFG_parameter+38
 582 0046 9D F0                   		mov	r8, a
 583 0048 F4 F1                   		clrb	r9
 584 004a AD F0                   		movw	ax, r8
 585 004c 04 A6 FF                		addw	ax, #-90
 586 004f BD F0                   		movw	r8, ax
 587 0051 31 3D                   		shlw	ax, 3
 588 0053 BD F0                   		movw	r8, ax
 589 0055 31 4D                   		shlw	ax, 4
 590 0057 BD F2                   		movw	r10, ax
 591 0059 26 F0                   		subw	ax, r8
 592 005b BD F0                   		movw	r8, ax
 593 005d BF 00 00                		movw	!_Courtesy_Light_Time, ax
 594                             	.L37:
 125:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 126:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		COURTESY = 1;
 595                             		.loc 1 126 0
 596 0060 C9 F0 02 FF             		movw	r8, #-254
 597 0064 AD F0                   		movw	ax, r8
 598 0066 BD F4                   		movw	r12, ax
 599 0068 FA F4                   		movw	hl, r12
 600 006a 8B                      		mov	a, [hl]
 601 006b 9D F2                   		mov	r10, a
 602 006d 6A F2 01                		or	r10, #1
 603 0070 AD F0                   		movw	ax, r8
 604 0072 EA F4                   		movw	de, r12
 605 0074 8D F2                   		mov	a, r10
 606 0076 99                      		mov	[de], a
 127:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Courtesy_Light_Count = 0;
 607                             		.loc 1 127 0
 608 0077 F6                      		clrw	ax
 609 0078 BF 00 00                		movw	!_Courtesy_Light_Count, ax
 610                             	.L34:
 128:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 129:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 611                             		.loc 1 129 0
 612 007b D7                      		ret
 613                             	.LFE1:
 615                             		.section	.text.TestPB_Pressed_Process,"ax",@progbits
 616                             		.global	_TestPB_Pressed_Process
 618                             	_TestPB_Pressed_Process:
 619                             	.LFB2:
 130:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 131:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void TestPB_Pressed_Process(void)
 132:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 620                             		.loc 1 132 0
 621                             		; start of function
 622                             		; outgoing: 2 bytes
 623                             		; uses ES register
 624 0000 20 02                   		subw	sp, #2
 625                             	.LCFI0:
 133:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 626                             		.loc 1 133 0
 627 0002 8F 00 00                		mov	a, !_Machine_State
 628 0005 9D F0                   		mov	r8, a
 629 0007 F4 F1                   		clrb	r9
 630 0009 AD F0                   		movw	ax, r8
 631 000b 44 02 00                		cmpw	ax, #2
 632 000e 61 F8                   		 sknz
 633 0010 EC 72 00 00             		 br	!!.L40
 634 0014 AD F0                   		movw	ax, r8
 635 0016 44 02 00                		cmpw	ax, #2
 636 0019 71 FF                   		 xor1	CY, a.7
 637 001b 61 F3                   		 sknh
 638 001d EC 3B 00 00             		 br	!!.L41
 639 0021 AD F0                   		movw	ax, r8
 640 0023 44 00 00                		cmpw	ax, #0
 641 0026 61 F8                   		 sknz
 642 0028 EC 55 00 00             		 br	!!.L42
 643 002c AD F0                   		movw	ax, r8
 644 002e 44 01 00                		cmpw	ax, #1
 645 0031 61 F8                   		 sknz
 646 0033 EC 5D 00 00             		 br	!!.L43
 134:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 135:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_STOP:
 136:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 137:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Test_Command_Process();			// Test Command and Safety Signal Procedure
 138:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 139:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 140:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
 141:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 142:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 143:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 144:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 145:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 146:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 147:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 148:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 149:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 150:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 151:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 152:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 153:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 154:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
 155:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 156:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 157:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 158:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 159:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 160:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
 161:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 162:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 163:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 164:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 165:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 166:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 647                             		.loc 1 166 0
 648 0037 EC A4 00 00             		br	!!.L38
 649                             	.L41:
 133:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 650                             		.loc 1 133 0
 651 003b AD F0                   		movw	ax, r8
 652 003d 44 03 00                		cmpw	ax, #3
 653 0040 61 F8                   		 sknz
 654 0042 EC 87 00 00             		 br	!!.L44
 655 0046 AD F0                   		movw	ax, r8
 656 0048 44 04 00                		cmpw	ax, #4
 657 004b 61 F8                   		 sknz
 658 004d EC 97 00 00             		 br	!!.L45
 659                             		.loc 1 166 0
 660 0051 EC A4 00 00             		br	!!.L38
 661                             	.L42:
 662                             	.LBB2:
 137:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 663                             		.loc 1 137 0
 664 0055 FC 00 00 00             		call	!!%code(_Test_Command_Process)
 665                             	.LBE2:
 138:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 666                             		.loc 1 138 0
 667 0059 EC A4 00 00             		br	!!.L38
 668                             	.L43:
 669                             	.LBB3:
 142:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 670                             		.loc 1 142 0
 671 005d 51 06                   		mov	a, #6
 672 005f 9F 00 00                		mov	!_Leaf_No1_State, a
 143:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 673                             		.loc 1 143 0
 674 0062 51 06                   		mov	a, #6
 675 0064 9F 00 00                		mov	!_Leaf_No2_State, a
 144:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 676                             		.loc 1 144 0
 677 0067 F6                      		clrw	ax
 678 0068 B8 00                   		movw	[sp], ax
 679 006a FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 680                             	.LBE3:
 145:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 681                             		.loc 1 145 0
 682 006e EC A4 00 00             		br	!!.L38
 683                             	.L40:
 684                             	.LBB4:
 149:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 685                             		.loc 1 149 0
 686 0072 51 07                   		mov	a, #7
 687 0074 9F 00 00                		mov	!_Leaf_No1_State, a
 150:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 688                             		.loc 1 150 0
 689 0077 51 07                   		mov	a, #7
 690 0079 9F 00 00                		mov	!_Leaf_No2_State, a
 151:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 691                             		.loc 1 151 0
 692 007c E6                      		onew	ax
 693 007d B8 00                   		movw	[sp], ax
 694 007f FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 695                             	.LBE4:
 152:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 696                             		.loc 1 152 0
 697 0083 EC A4 00 00             		br	!!.L38
 698                             	.L44:
 699                             	.LBB5:
 156:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 700                             		.loc 1 156 0
 701 0087 51 06                   		mov	a, #6
 702 0089 9F 00 00                		mov	!_Leaf_No1_State, a
 157:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 703                             		.loc 1 157 0
 704 008c F6                      		clrw	ax
 705 008d B8 00                   		movw	[sp], ax
 706 008f FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 707                             	.LBE5:
 158:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 708                             		.loc 1 158 0
 709 0093 EC A4 00 00             		br	!!.L38
 710                             	.L45:
 711                             	.LBB6:
 162:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 712                             		.loc 1 162 0
 713 0097 51 07                   		mov	a, #7
 714 0099 9F 00 00                		mov	!_Leaf_No1_State, a
 163:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 715                             		.loc 1 163 0
 716 009c E6                      		onew	ax
 717 009d B8 00                   		movw	[sp], ax
 718 009f FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 719                             	.LBE6:
 164:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 720                             		.loc 1 164 0
 721 00a3 00                      		nop
 722                             	.L38:
 167:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 168:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 723                             		.loc 1 168 0
 724 00a4 10 02                   		addw	sp, #2
 725 00a6 D7                      		ret
 726                             	.LFE2:
 728                             		.section	.text.Partial_Command_Process,"ax",@progbits
 729                             		.global	_Partial_Command_Process
 731                             	_Partial_Command_Process:
 732                             	.LFB3:
 169:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 170:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Partial_Command_Process ()
 171:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 733                             		.loc 1 171 0
 734                             		; start of function
 735                             		; outgoing: 2 bytes
 736                             		; uses ES register
 737 0000 20 02                   		subw	sp, #2
 738                             	.LCFI1:
 172:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 739                             		.loc 1 172 0
 740 0002 8F 00 00                		mov	a, !_Machine_State
 741 0005 9D F0                   		mov	r8, a
 742 0007 F4 F1                   		clrb	r9
 743 0009 AD F0                   		movw	ax, r8
 744 000b 44 03 00                		cmpw	ax, #3
 745 000e 61 F8                   		 sknz
 746 0010 EC B1 00 00             		 br	!!.L49
 747 0014 AD F0                   		movw	ax, r8
 748 0016 44 04 00                		cmpw	ax, #4
 749 0019 61 F8                   		 sknz
 750 001b EC D2 00 00             		 br	!!.L50
 751 001f AD F0                   		movw	ax, r8
 752 0021 44 00 00                		cmpw	ax, #0
 753 0024 61 F8                   		 sknz
 754 0026 EC 2E 00 00             		 br	!!.L51
 173:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 174:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 175:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 176:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 177:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 179:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 180:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Partial_Open_Gate();
 181:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 182:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 183:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if (Leaf_No1_State == GATE_STATE_CLOSING_PAUSE)
 184:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 185:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Open_Gate();
 186:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 187:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 188:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 189:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Close_Gate();
 190:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 191:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 192:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 193:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 194:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 195:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Patial_Function == 0x00)
 196:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 197:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_PATIAL_OPENING_PAUSE;
 198:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 199:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 200:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 201:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 202:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 203:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 204:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 205:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 206:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 207:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 208:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 209:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 210:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 755                             		.loc 1 210 0
 756 002a EC DF 00 00             		br	!!.L47
 757                             	.L51:
 176:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 758                             		.loc 1 176 0
 759 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 760 0031 9D F0                   		mov	r8, a
 761 0033 4A F0 01                		cmp	r8, #1
 762 0036 61 E8                   		 skz
 763 0038 EC 8F 00 00             		 br	!!.L52
 178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 764                             		.loc 1 178 0
 765 003c C9 F0 07 FF             		movw	r8, #-249
 766 0040 AD F0                   		movw	ax, r8
 767 0042 BD F2                   		movw	r10, ax
 768 0044 FA F2                   		movw	hl, r10
 769 0046 8B                      		mov	a, [hl]
 770 0047 9D F0                   		mov	r8, a
 771 0049 31 1A                   		shr	a, 1
 772 004b 9D F0                   		mov	r8, a
 773 004d 5A F0 01                		and	r8, #1
 774 0050 61 F8                   		sknz
 775 0052 EC 63 00 00             		 br	!!.L53
 776                             		 # zero-comparison eliminated
 178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 777                             		.loc 1 178 0 is_stmt 0 discriminator 2
 778 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 779 0059 9D F0                   		mov	r8, a
 780 005b D4 F0                   		cmp0	r8
 781 005d 61 F8                   		 sknz
 782 005f EC AD 00 00             		 br	!!.L56
 783                             	.L53:
 178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 784                             		.loc 1 178 0 discriminator 3
 785 0063 C9 F0 07 FF             		movw	r8, #-249
 786 0067 AD F0                   		movw	ax, r8
 787 0069 BD F2                   		movw	r10, ax
 788 006b EA F2                   		movw	de, r10
 789 006d 89                      		mov	a, [de]
 790 006e 5C 01                   		and	a, #1
 791 0070 9D F0                   		mov	r8, a
 792 0072 D4 F0                   		cmp0	r8
 793 0074 61 F8                   		 sknz
 794 0076 EC 87 00 00             		 br	!!.L55
 178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 795                             		.loc 1 178 0 discriminator 4
 796 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 797 007d 9D F0                   		mov	r8, a
 798 007f D4 F0                   		cmp0	r8
 799 0081 61 F8                   		 sknz
 800 0083 EC AD 00 00             		 br	!!.L56
 801                             	.L55:
 802                             	.LBB7:
 180:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 803                             		.loc 1 180 0 is_stmt 1
 804 0087 FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 805                             	.LBE7:
 191:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 806                             		.loc 1 191 0
 807 008b EC DF 00 00             		br	!!.L47
 808                             	.L52:
 183:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 809                             		.loc 1 183 0
 810 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 811 0092 9D F0                   		mov	r8, a
 812 0094 4A F0 07                		cmp	r8, #7
 813 0097 61 E8                   		 skz
 814 0099 EC A5 00 00             		 br	!!.L57
 815                             	.LBB8:
 185:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 816                             		.loc 1 185 0
 817 009d FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 818                             	.LBE8:
 819 00a1 EC AD 00 00             		br	!!.L56
 820                             	.L57:
 821                             	.LBB9:
 189:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 822                             		.loc 1 189 0
 823 00a5 FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 824                             	.LBE9:
 191:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 825                             		.loc 1 191 0
 826 00a9 EC DF 00 00             		br	!!.L47
 827                             	.L56:
 191:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 828                             		.loc 1 191 0 is_stmt 0 discriminator 1
 829 00ad EC DF 00 00             		br	!!.L47
 830                             	.L49:
 195:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 831                             		.loc 1 195 0 is_stmt 1
 832 00b1 8F 00 00                		mov	a, !_CFG_parameter+40
 833 00b4 9D F0                   		mov	r8, a
 834 00b6 D4 F0                   		cmp0	r8
 835 00b8 61 E8                   		 skz
 836 00ba EC CE 00 00             		 br	!!.L59
 837                             	.LBB10:
 197:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 838                             		.loc 1 197 0
 839 00be 51 08                   		mov	a, #8
 840 00c0 9F 00 00                		mov	!_Leaf_No1_State, a
 198:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 841                             		.loc 1 198 0
 842 00c3 F6                      		clrw	ax
 843 00c4 B8 00                   		movw	[sp], ax
 844 00c6 FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 845                             	.LBE10:
 200:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 846                             		.loc 1 200 0
 847 00ca EC DF 00 00             		br	!!.L47
 848                             	.L59:
 849 00ce EC DF 00 00             		br	!!.L47
 850                             	.L50:
 851                             	.LBB11:
 204:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 852                             		.loc 1 204 0
 853 00d2 51 07                   		mov	a, #7
 854 00d4 9F 00 00                		mov	!_Leaf_No1_State, a
 205:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 855                             		.loc 1 205 0
 856 00d7 E6                      		onew	ax
 857 00d8 B8 00                   		movw	[sp], ax
 858 00da FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 859                             	.LBE11:
 206:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 860                             		.loc 1 206 0
 861 00de 00                      		nop
 862                             	.L47:
 211:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 212:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 863                             		.loc 1 212 0
 864 00df 10 02                   		addw	sp, #2
 865 00e1 D7                      		ret
 866                             	.LFE3:
 868                             		.section	.text.Step_Command_Process_Mode_0,"ax",@progbits
 869                             		.global	_Step_Command_Process_Mode_0
 871                             	_Step_Command_Process_Mode_0:
 872                             	.LFB4:
 213:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 214:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process_Mode_0 (void)
 215:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 873                             		.loc 1 215 0
 874                             		; start of function
 875                             		; outgoing: 2 bytes
 876                             		; uses ES register
 877 0000 20 02                   		subw	sp, #2
 878                             	.LCFI2:
 216:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 879                             		.loc 1 216 0
 880 0002 8F 00 00                		mov	a, !_Machine_State
 881 0005 9D F0                   		mov	r8, a
 882 0007 F4 F1                   		clrb	r9
 883 0009 AD F0                   		movw	ax, r8
 884 000b 44 01 00                		cmpw	ax, #1
 885 000e 61 F8                   		 sknz
 886 0010 EC BF 00 00             		 br	!!.L62
 887 0014 AD F0                   		movw	ax, r8
 888 0016 44 02 00                		cmpw	ax, #2
 889 0019 61 F8                   		 sknz
 890 001b EC D4 00 00             		 br	!!.L63
 891 001f AD F0                   		movw	ax, r8
 892 0021 44 00 00                		cmpw	ax, #0
 893 0024 61 F8                   		 sknz
 894 0026 EC 2E 00 00             		 br	!!.L64
 217:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 218:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 219:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 220:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 221:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 223:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 224:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 225:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 226:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 227:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if ((Leaf_No1_State == GATE_STATE_CLOSING_PAUSE) || (Leaf_No1_State == GATE_STATE_PATIAL_OPE
 228:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 229:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 230:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 231:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 232:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 233:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Close_Gate();
 234:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 235:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 236:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 237:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 238:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 239:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 240:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 241:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 242:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 243:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 244:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 245:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 246:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 247:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 248:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 249:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 250:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 251:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 252:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 253:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 895                             		.loc 1 253 0
 896 002a EC E6 00 00             		br	!!.L60
 897                             	.L64:
 220:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 898                             		.loc 1 220 0
 899 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 900 0031 9D F0                   		mov	r8, a
 901 0033 4A F0 01                		cmp	r8, #1
 902 0036 61 E8                   		 skz
 903 0038 EC 8F 00 00             		 br	!!.L65
 222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 904                             		.loc 1 222 0
 905 003c C9 F0 07 FF             		movw	r8, #-249
 906 0040 AD F0                   		movw	ax, r8
 907 0042 BD F2                   		movw	r10, ax
 908 0044 FA F2                   		movw	hl, r10
 909 0046 8B                      		mov	a, [hl]
 910 0047 9D F0                   		mov	r8, a
 911 0049 31 1A                   		shr	a, 1
 912 004b 9D F0                   		mov	r8, a
 913 004d 5A F0 01                		and	r8, #1
 914 0050 61 F8                   		sknz
 915 0052 EC 63 00 00             		 br	!!.L66
 916                             		 # zero-comparison eliminated
 222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 917                             		.loc 1 222 0 is_stmt 0 discriminator 2
 918 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 919 0059 9D F0                   		mov	r8, a
 920 005b D4 F0                   		cmp0	r8
 921 005d 61 F8                   		 sknz
 922 005f EC BB 00 00             		 br	!!.L69
 923                             	.L66:
 222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 924                             		.loc 1 222 0 discriminator 3
 925 0063 C9 F0 07 FF             		movw	r8, #-249
 926 0067 AD F0                   		movw	ax, r8
 927 0069 BD F2                   		movw	r10, ax
 928 006b EA F2                   		movw	de, r10
 929 006d 89                      		mov	a, [de]
 930 006e 5C 01                   		and	a, #1
 931 0070 9D F0                   		mov	r8, a
 932 0072 D4 F0                   		cmp0	r8
 933 0074 61 F8                   		 sknz
 934 0076 EC 87 00 00             		 br	!!.L68
 222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 935                             		.loc 1 222 0 discriminator 4
 936 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 937 007d 9D F0                   		mov	r8, a
 938 007f D4 F0                   		cmp0	r8
 939 0081 61 F8                   		 sknz
 940 0083 EC BB 00 00             		 br	!!.L69
 941                             	.L68:
 942                             	.LBB12:
 224:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 943                             		.loc 1 224 0 is_stmt 1
 944 0087 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 945                             	.LBE12:
 235:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 946                             		.loc 1 235 0
 947 008b EC E6 00 00             		br	!!.L60
 948                             	.L65:
 227:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 949                             		.loc 1 227 0
 950 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 951 0092 9D F0                   		mov	r8, a
 952 0094 4A F0 07                		cmp	r8, #7
 953 0097 61 F8                   		 sknz
 954 0099 EC AB 00 00             		 br	!!.L70
 227:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 955                             		.loc 1 227 0 is_stmt 0 discriminator 1
 956 009d 8F 00 00                		mov	a, !_Leaf_No1_State
 957 00a0 9D F0                   		mov	r8, a
 958 00a2 4A F0 08                		cmp	r8, #8
 959 00a5 61 E8                   		 skz
 960 00a7 EC B3 00 00             		 br	!!.L71
 961                             	.L70:
 962                             	.LBB13:
 229:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 963                             		.loc 1 229 0 is_stmt 1
 964 00ab FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 965                             	.LBE13:
 228:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 966                             		.loc 1 228 0
 967 00af EC BB 00 00             		br	!!.L69
 968                             	.L71:
 969                             	.LBB14:
 233:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 970                             		.loc 1 233 0
 971 00b3 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 972                             	.LBE14:
 235:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 973                             		.loc 1 235 0
 974 00b7 EC E6 00 00             		br	!!.L60
 975                             	.L69:
 235:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 976                             		.loc 1 235 0 is_stmt 0 discriminator 1
 977 00bb EC E6 00 00             		br	!!.L60
 978                             	.L62:
 979                             	.LBB15:
 239:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 980                             		.loc 1 239 0 is_stmt 1
 981 00bf 51 06                   		mov	a, #6
 982 00c1 9F 00 00                		mov	!_Leaf_No1_State, a
 240:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 983                             		.loc 1 240 0
 984 00c4 51 06                   		mov	a, #6
 985 00c6 9F 00 00                		mov	!_Leaf_No2_State, a
 241:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 986                             		.loc 1 241 0
 987 00c9 F6                      		clrw	ax
 988 00ca B8 00                   		movw	[sp], ax
 989 00cc FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 990                             	.LBE15:
 242:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 991                             		.loc 1 242 0
 992 00d0 EC E6 00 00             		br	!!.L60
 993                             	.L63:
 994                             	.LBB16:
 246:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 995                             		.loc 1 246 0
 996 00d4 51 07                   		mov	a, #7
 997 00d6 9F 00 00                		mov	!_Leaf_No1_State, a
 247:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 998                             		.loc 1 247 0
 999 00d9 51 07                   		mov	a, #7
 1000 00db 9F 00 00                		mov	!_Leaf_No2_State, a
 248:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 1001                             		.loc 1 248 0
 1002 00de E6                      		onew	ax
 1003 00df B8 00                   		movw	[sp], ax
 1004 00e1 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 1005                             	.LBE16:
 249:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1006                             		.loc 1 249 0
 1007 00e5 00                      		nop
 1008                             	.L60:
 254:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 255:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1009                             		.loc 1 255 0
 1010 00e6 10 02                   		addw	sp, #2
 1011 00e8 D7                      		ret
 1012                             	.LFE4:
 1014                             		.section	.text.Step_Command_Process_Mode_1,"ax",@progbits
 1015                             		.global	_Step_Command_Process_Mode_1
 1017                             	_Step_Command_Process_Mode_1:
 1018                             	.LFB5:
 256:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 257:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process_Mode_1 (void)
 258:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1019                             		.loc 1 258 0
 1020                             		; start of function
 1021                             		; outgoing: 2 bytes
 1022                             		; uses ES register
 1023 0000 20 02                   		subw	sp, #2
 1024                             	.LCFI3:
 259:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 1025                             		.loc 1 259 0
 1026 0002 8F 00 00                		mov	a, !_Machine_State
 1027 0005 9D F0                   		mov	r8, a
 1028 0007 F4 F1                   		clrb	r9
 1029 0009 AD F0                   		movw	ax, r8
 1030 000b 44 01 00                		cmpw	ax, #1
 1031 000e 61 F8                   		 sknz
 1032 0010 EC D4 00 00             		 br	!!.L86
 1033 0014 AD F0                   		movw	ax, r8
 1034 0016 44 02 00                		cmpw	ax, #2
 1035 0019 61 F8                   		 sknz
 1036 001b EC BF 00 00             		 br	!!.L76
 1037 001f AD F0                   		movw	ax, r8
 1038 0021 44 00 00                		cmpw	ax, #0
 1039 0024 61 F8                   		 sknz
 1040 0026 EC 2E 00 00             		 br	!!.L77
 260:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 261:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 262:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 263:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 264:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 266:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 267:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 268:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 269:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 270:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if ((Leaf_No1_State == GATE_STATE_CLOSING_PAUSE) || (Leaf_No1_State == GATE_STATE_PATIAL_OPE
 271:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 272:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 273:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 274:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 275:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 276:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Close_Gate();
 277:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 278:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 279:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 280:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 281:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 282:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 283:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 284:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 285:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 286:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 287:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 288:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 289:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 290:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 291:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 292:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 293:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 1041                             		.loc 1 293 0
 1042 002a EC D5 00 00             		br	!!.L73
 1043                             	.L77:
 263:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1044                             		.loc 1 263 0
 1045 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 1046 0031 9D F0                   		mov	r8, a
 1047 0033 4A F0 01                		cmp	r8, #1
 1048 0036 61 E8                   		 skz
 1049 0038 EC 8F 00 00             		 br	!!.L78
 265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1050                             		.loc 1 265 0
 1051 003c C9 F0 07 FF             		movw	r8, #-249
 1052 0040 AD F0                   		movw	ax, r8
 1053 0042 BD F2                   		movw	r10, ax
 1054 0044 FA F2                   		movw	hl, r10
 1055 0046 8B                      		mov	a, [hl]
 1056 0047 9D F0                   		mov	r8, a
 1057 0049 31 1A                   		shr	a, 1
 1058 004b 9D F0                   		mov	r8, a
 1059 004d 5A F0 01                		and	r8, #1
 1060 0050 61 F8                   		sknz
 1061 0052 EC 63 00 00             		 br	!!.L79
 1062                             		 # zero-comparison eliminated
 265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1063                             		.loc 1 265 0 is_stmt 0 discriminator 2
 1064 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 1065 0059 9D F0                   		mov	r8, a
 1066 005b D4 F0                   		cmp0	r8
 1067 005d 61 F8                   		 sknz
 1068 005f EC BB 00 00             		 br	!!.L82
 1069                             	.L79:
 265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1070                             		.loc 1 265 0 discriminator 3
 1071 0063 C9 F0 07 FF             		movw	r8, #-249
 1072 0067 AD F0                   		movw	ax, r8
 1073 0069 BD F2                   		movw	r10, ax
 1074 006b EA F2                   		movw	de, r10
 1075 006d 89                      		mov	a, [de]
 1076 006e 5C 01                   		and	a, #1
 1077 0070 9D F0                   		mov	r8, a
 1078 0072 D4 F0                   		cmp0	r8
 1079 0074 61 F8                   		 sknz
 1080 0076 EC 87 00 00             		 br	!!.L81
 265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1081                             		.loc 1 265 0 discriminator 4
 1082 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 1083 007d 9D F0                   		mov	r8, a
 1084 007f D4 F0                   		cmp0	r8
 1085 0081 61 F8                   		 sknz
 1086 0083 EC BB 00 00             		 br	!!.L82
 1087                             	.L81:
 1088                             	.LBB17:
 267:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1089                             		.loc 1 267 0 is_stmt 1
 1090 0087 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1091                             	.LBE17:
 278:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1092                             		.loc 1 278 0
 1093 008b EC D5 00 00             		br	!!.L73
 1094                             	.L78:
 270:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1095                             		.loc 1 270 0
 1096 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 1097 0092 9D F0                   		mov	r8, a
 1098 0094 4A F0 07                		cmp	r8, #7
 1099 0097 61 F8                   		 sknz
 1100 0099 EC AB 00 00             		 br	!!.L83
 270:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1101                             		.loc 1 270 0 is_stmt 0 discriminator 1
 1102 009d 8F 00 00                		mov	a, !_Leaf_No1_State
 1103 00a0 9D F0                   		mov	r8, a
 1104 00a2 4A F0 08                		cmp	r8, #8
 1105 00a5 61 E8                   		 skz
 1106 00a7 EC B3 00 00             		 br	!!.L84
 1107                             	.L83:
 1108                             	.LBB18:
 272:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1109                             		.loc 1 272 0 is_stmt 1
 1110 00ab FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1111                             	.LBE18:
 271:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 1112                             		.loc 1 271 0
 1113 00af EC BB 00 00             		br	!!.L82
 1114                             	.L84:
 1115                             	.LBB19:
 276:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1116                             		.loc 1 276 0
 1117 00b3 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1118                             	.LBE19:
 278:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1119                             		.loc 1 278 0
 1120 00b7 EC D5 00 00             		br	!!.L73
 1121                             	.L82:
 278:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1122                             		.loc 1 278 0 is_stmt 0 discriminator 1
 1123 00bb EC D5 00 00             		br	!!.L73
 1124                             	.L76:
 1125                             	.LBB20:
 286:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1126                             		.loc 1 286 0 is_stmt 1
 1127 00bf 51 07                   		mov	a, #7
 1128 00c1 9F 00 00                		mov	!_Leaf_No1_State, a
 287:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 1129                             		.loc 1 287 0
 1130 00c4 51 07                   		mov	a, #7
 1131 00c6 9F 00 00                		mov	!_Leaf_No2_State, a
 288:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 1132                             		.loc 1 288 0
 1133 00c9 E6                      		onew	ax
 1134 00ca B8 00                   		movw	[sp], ax
 1135 00cc FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 1136                             	.LBE20:
 289:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1137                             		.loc 1 289 0
 1138 00d0 EC D5 00 00             		br	!!.L73
 1139                             	.L86:
 282:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1140                             		.loc 1 282 0
 1141 00d4 00                      		nop
 1142                             	.L73:
 294:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 295:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 296:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1143                             		.loc 1 296 0
 1144 00d5 10 02                   		addw	sp, #2
 1145 00d7 D7                      		ret
 1146                             	.LFE5:
 1148                             		.section	.text.Step_Command_Process_Mode_2,"ax",@progbits
 1149                             		.global	_Step_Command_Process_Mode_2
 1151                             	_Step_Command_Process_Mode_2:
 1152                             	.LFB6:
 297:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 298:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process_Mode_2 (void)
 299:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1153                             		.loc 1 299 0
 1154                             		; start of function
 1155                             		; outgoing: 2 bytes
 1156                             		; uses ES register
 1157 0000 20 02                   		subw	sp, #2
 1158                             	.LCFI4:
 300:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 1159                             		.loc 1 300 0
 1160 0002 8F 00 00                		mov	a, !_Machine_State
 1161 0005 9D F0                   		mov	r8, a
 1162 0007 F4 F1                   		clrb	r9
 1163 0009 AD F0                   		movw	ax, r8
 1164 000b 44 01 00                		cmpw	ax, #1
 1165 000e 61 F8                   		 sknz
 1166 0010 EC D4 00 00             		 br	!!.L100
 1167 0014 AD F0                   		movw	ax, r8
 1168 0016 44 02 00                		cmpw	ax, #2
 1169 0019 61 F8                   		 sknz
 1170 001b EC BF 00 00             		 br	!!.L90
 1171 001f AD F0                   		movw	ax, r8
 1172 0021 44 00 00                		cmpw	ax, #0
 1173 0024 61 F8                   		 sknz
 1174 0026 EC 2E 00 00             		 br	!!.L91
 301:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 302:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 303:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 304:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 305:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 307:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 308:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 309:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 310:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 311:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if ((Leaf_No1_State == GATE_STATE_CLOSING_PAUSE) || (Leaf_No1_State == GATE_STATE_PATIAL_OPE
 312:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 313:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 314:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 315:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 316:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 317:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Close_Gate();
 318:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 319:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 320:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 321:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 322:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 323:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 324:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 325:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 326:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 327:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 328:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 329:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 330:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 331:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 332:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 333:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 334:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 1175                             		.loc 1 334 0
 1176 002a EC D5 00 00             		br	!!.L87
 1177                             	.L91:
 304:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1178                             		.loc 1 304 0
 1179 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 1180 0031 9D F0                   		mov	r8, a
 1181 0033 4A F0 01                		cmp	r8, #1
 1182 0036 61 E8                   		 skz
 1183 0038 EC 8F 00 00             		 br	!!.L92
 306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1184                             		.loc 1 306 0
 1185 003c C9 F0 07 FF             		movw	r8, #-249
 1186 0040 AD F0                   		movw	ax, r8
 1187 0042 BD F2                   		movw	r10, ax
 1188 0044 FA F2                   		movw	hl, r10
 1189 0046 8B                      		mov	a, [hl]
 1190 0047 9D F0                   		mov	r8, a
 1191 0049 31 1A                   		shr	a, 1
 1192 004b 9D F0                   		mov	r8, a
 1193 004d 5A F0 01                		and	r8, #1
 1194 0050 61 F8                   		sknz
 1195 0052 EC 63 00 00             		 br	!!.L93
 1196                             		 # zero-comparison eliminated
 306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1197                             		.loc 1 306 0 is_stmt 0 discriminator 2
 1198 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 1199 0059 9D F0                   		mov	r8, a
 1200 005b D4 F0                   		cmp0	r8
 1201 005d 61 F8                   		 sknz
 1202 005f EC BB 00 00             		 br	!!.L96
 1203                             	.L93:
 306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1204                             		.loc 1 306 0 discriminator 3
 1205 0063 C9 F0 07 FF             		movw	r8, #-249
 1206 0067 AD F0                   		movw	ax, r8
 1207 0069 BD F2                   		movw	r10, ax
 1208 006b EA F2                   		movw	de, r10
 1209 006d 89                      		mov	a, [de]
 1210 006e 5C 01                   		and	a, #1
 1211 0070 9D F0                   		mov	r8, a
 1212 0072 D4 F0                   		cmp0	r8
 1213 0074 61 F8                   		 sknz
 1214 0076 EC 87 00 00             		 br	!!.L95
 306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1215                             		.loc 1 306 0 discriminator 4
 1216 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 1217 007d 9D F0                   		mov	r8, a
 1218 007f D4 F0                   		cmp0	r8
 1219 0081 61 F8                   		 sknz
 1220 0083 EC BB 00 00             		 br	!!.L96
 1221                             	.L95:
 1222                             	.LBB21:
 308:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1223                             		.loc 1 308 0 is_stmt 1
 1224 0087 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1225                             	.LBE21:
 319:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1226                             		.loc 1 319 0
 1227 008b EC D5 00 00             		br	!!.L87
 1228                             	.L92:
 311:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1229                             		.loc 1 311 0
 1230 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 1231 0092 9D F0                   		mov	r8, a
 1232 0094 4A F0 07                		cmp	r8, #7
 1233 0097 61 F8                   		 sknz
 1234 0099 EC AB 00 00             		 br	!!.L97
 311:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1235                             		.loc 1 311 0 is_stmt 0 discriminator 1
 1236 009d 8F 00 00                		mov	a, !_Leaf_No1_State
 1237 00a0 9D F0                   		mov	r8, a
 1238 00a2 4A F0 08                		cmp	r8, #8
 1239 00a5 61 E8                   		 skz
 1240 00a7 EC B3 00 00             		 br	!!.L98
 1241                             	.L97:
 1242                             	.LBB22:
 313:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1243                             		.loc 1 313 0 is_stmt 1
 1244 00ab FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1245                             	.LBE22:
 312:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 1246                             		.loc 1 312 0
 1247 00af EC BB 00 00             		br	!!.L96
 1248                             	.L98:
 1249                             	.LBB23:
 317:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1250                             		.loc 1 317 0
 1251 00b3 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1252                             	.LBE23:
 319:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1253                             		.loc 1 319 0
 1254 00b7 EC D5 00 00             		br	!!.L87
 1255                             	.L96:
 319:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1256                             		.loc 1 319 0 is_stmt 0 discriminator 1
 1257 00bb EC D5 00 00             		br	!!.L87
 1258                             	.L90:
 1259                             	.LBB24:
 327:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1260                             		.loc 1 327 0 is_stmt 1
 1261 00bf 51 07                   		mov	a, #7
 1262 00c1 9F 00 00                		mov	!_Leaf_No1_State, a
 328:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 1263                             		.loc 1 328 0
 1264 00c4 51 07                   		mov	a, #7
 1265 00c6 9F 00 00                		mov	!_Leaf_No2_State, a
 329:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 1266                             		.loc 1 329 0
 1267 00c9 E6                      		onew	ax
 1268 00ca B8 00                   		movw	[sp], ax
 1269 00cc FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 1270                             	.LBE24:
 330:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1271                             		.loc 1 330 0
 1272 00d0 EC D5 00 00             		br	!!.L87
 1273                             	.L100:
 323:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1274                             		.loc 1 323 0
 1275 00d4 00                      		nop
 1276                             	.L87:
 335:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 336:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1277                             		.loc 1 336 0
 1278 00d5 10 02                   		addw	sp, #2
 1279 00d7 D7                      		ret
 1280                             	.LFE6:
 1282                             		.section	.text.Step_Command_Process_Mode_3,"ax",@progbits
 1283                             		.global	_Step_Command_Process_Mode_3
 1285                             	_Step_Command_Process_Mode_3:
 1286                             	.LFB7:
 337:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 338:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process_Mode_3 (void)
 339:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1287                             		.loc 1 339 0
 1288                             		; start of function
 1289                             		; outgoing: 2 bytes
 1290                             		; uses ES register
 1291 0000 20 02                   		subw	sp, #2
 1292                             	.LCFI5:
 340:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 1293                             		.loc 1 340 0
 1294 0002 8F 00 00                		mov	a, !_Machine_State
 1295 0005 9D F0                   		mov	r8, a
 1296 0007 F4 F1                   		clrb	r9
 1297 0009 AD F0                   		movw	ax, r8
 1298 000b 44 01 00                		cmpw	ax, #1
 1299 000e 61 F8                   		 sknz
 1300 0010 EC BF 00 00             		 br	!!.L103
 1301 0014 AD F0                   		movw	ax, r8
 1302 0016 44 02 00                		cmpw	ax, #2
 1303 0019 61 F8                   		 sknz
 1304 001b EC 06 01 00             		 br	!!.L104
 1305 001f AD F0                   		movw	ax, r8
 1306 0021 44 00 00                		cmpw	ax, #0
 1307 0024 61 F8                   		 sknz
 1308 0026 EC 2E 00 00             		 br	!!.L105
 341:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 342:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 343:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 344:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 345:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 347:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 348:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 349:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 350:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 351:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if ((Leaf_No1_State == GATE_STATE_CLOSING_PAUSE) || (Leaf_No1_State == GATE_STATE_PATIAL_OPE
 352:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 353:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 354:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 355:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 356:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 357:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Close_Gate();
 358:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 359:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 360:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 361:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 362:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 363:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 364:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 365:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 366:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 367:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 368:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)
 369:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 370:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 371:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 372:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 373:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 374:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Close_Gate();
 375:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 376:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 377:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 378:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 379:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 380:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 381:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 382:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 383:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 384:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)
 385:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 386:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 387:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 388:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 389:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 390:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 391:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Open_Gate();
 392:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 393:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 394:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 395:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 396:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 1309                             		.loc 1 396 0
 1310 002a EC 4A 01 00             		br	!!.L101
 1311                             	.L105:
 344:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1312                             		.loc 1 344 0
 1313 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 1314 0031 9D F0                   		mov	r8, a
 1315 0033 4A F0 01                		cmp	r8, #1
 1316 0036 61 E8                   		 skz
 1317 0038 EC 8F 00 00             		 br	!!.L106
 346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1318                             		.loc 1 346 0
 1319 003c C9 F0 07 FF             		movw	r8, #-249
 1320 0040 AD F0                   		movw	ax, r8
 1321 0042 BD F2                   		movw	r10, ax
 1322 0044 FA F2                   		movw	hl, r10
 1323 0046 8B                      		mov	a, [hl]
 1324 0047 9D F0                   		mov	r8, a
 1325 0049 31 1A                   		shr	a, 1
 1326 004b 9D F0                   		mov	r8, a
 1327 004d 5A F0 01                		and	r8, #1
 1328 0050 61 F8                   		sknz
 1329 0052 EC 63 00 00             		 br	!!.L107
 1330                             		 # zero-comparison eliminated
 346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1331                             		.loc 1 346 0 is_stmt 0 discriminator 2
 1332 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 1333 0059 9D F0                   		mov	r8, a
 1334 005b D4 F0                   		cmp0	r8
 1335 005d 61 F8                   		 sknz
 1336 005f EC BB 00 00             		 br	!!.L110
 1337                             	.L107:
 346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1338                             		.loc 1 346 0 discriminator 3
 1339 0063 C9 F0 07 FF             		movw	r8, #-249
 1340 0067 AD F0                   		movw	ax, r8
 1341 0069 BD F2                   		movw	r10, ax
 1342 006b EA F2                   		movw	de, r10
 1343 006d 89                      		mov	a, [de]
 1344 006e 5C 01                   		and	a, #1
 1345 0070 9D F0                   		mov	r8, a
 1346 0072 D4 F0                   		cmp0	r8
 1347 0074 61 F8                   		 sknz
 1348 0076 EC 87 00 00             		 br	!!.L109
 346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1349                             		.loc 1 346 0 discriminator 4
 1350 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 1351 007d 9D F0                   		mov	r8, a
 1352 007f D4 F0                   		cmp0	r8
 1353 0081 61 F8                   		 sknz
 1354 0083 EC BB 00 00             		 br	!!.L110
 1355                             	.L109:
 1356                             	.LBB25:
 348:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1357                             		.loc 1 348 0 is_stmt 1
 1358 0087 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1359                             	.LBE25:
 359:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1360                             		.loc 1 359 0
 1361 008b EC 4A 01 00             		br	!!.L101
 1362                             	.L106:
 351:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1363                             		.loc 1 351 0
 1364 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 1365 0092 9D F0                   		mov	r8, a
 1366 0094 4A F0 07                		cmp	r8, #7
 1367 0097 61 F8                   		 sknz
 1368 0099 EC AB 00 00             		 br	!!.L111
 351:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1369                             		.loc 1 351 0 is_stmt 0 discriminator 1
 1370 009d 8F 00 00                		mov	a, !_Leaf_No1_State
 1371 00a0 9D F0                   		mov	r8, a
 1372 00a2 4A F0 08                		cmp	r8, #8
 1373 00a5 61 E8                   		 skz
 1374 00a7 EC B3 00 00             		 br	!!.L112
 1375                             	.L111:
 1376                             	.LBB26:
 353:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1377                             		.loc 1 353 0 is_stmt 1
 1378 00ab FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1379                             	.LBE26:
 352:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 1380                             		.loc 1 352 0
 1381 00af EC BB 00 00             		br	!!.L110
 1382                             	.L112:
 1383                             	.LBB27:
 357:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1384                             		.loc 1 357 0
 1385 00b3 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1386                             	.LBE27:
 359:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1387                             		.loc 1 359 0
 1388 00b7 EC 4A 01 00             		br	!!.L101
 1389                             	.L110:
 359:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1390                             		.loc 1 359 0 is_stmt 0 discriminator 1
 1391 00bb EC 4A 01 00             		br	!!.L101
 1392                             	.L103:
 1393                             	.LBB28:
 363:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 1394                             		.loc 1 363 0 is_stmt 1
 1395 00bf 51 06                   		mov	a, #6
 1396 00c1 9F 00 00                		mov	!_Leaf_No1_State, a
 364:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1397                             		.loc 1 364 0
 1398 00c4 51 06                   		mov	a, #6
 1399 00c6 9F 00 00                		mov	!_Leaf_No2_State, a
 366:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1400                             		.loc 1 366 0
 1401 00c9 8F 00 00                		mov	a, !_CFG_parameter+68
 1402 00cc 9D F0                   		mov	r8, a
 1403 00ce 4A F0 01                		cmp	r8, #1
 1404 00d1 61 E8                   		 skz
 1405 00d3 EC F7 00 00             		 br	!!.L114
 1406                             	.LBB29:
 368:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 1407                             		.loc 1 368 0
 1408 00d7 8F 00 00                		mov	a, !_CFG_parameter+1
 1409 00da 9D F0                   		mov	r8, a
 1410 00dc 4A F0 02                		cmp	r8, #2
 1411 00df 61 E8                   		 skz
 1412 00e1 EC F0 00 00             		 br	!!.L115
 369:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 1413                             		.loc 1 369 0
 1414 00e5 F6                      		clrw	ax
 1415 00e6 B8 00                   		movw	[sp], ax
 1416 00e8 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 1417 00ec EC F7 00 00             		br	!!.L114
 1418                             	.L115:
 371:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1419                             		.loc 1 371 0
 1420 00f0 F6                      		clrw	ax
 1421 00f1 B8 00                   		movw	[sp], ax
 1422 00f3 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 1423                             	.L114:
 1424                             	.LBE29:
 373:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Close_Gate();
 1425                             		.loc 1 373 0
 1426 00f7 F6                      		clrw	ax
 1427 00f8 B8 00                   		movw	[sp], ax
 1428 00fa FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 374:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1429                             		.loc 1 374 0
 1430 00fe FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1431                             	.LBE28:
 376:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1432                             		.loc 1 376 0
 1433 0102 EC 4A 01 00             		br	!!.L101
 1434                             	.L104:
 1435                             	.LBB30:
 380:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1436                             		.loc 1 380 0
 1437 0106 51 07                   		mov	a, #7
 1438 0108 9F 00 00                		mov	!_Leaf_No1_State, a
 381:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 1439                             		.loc 1 381 0
 1440 010b 51 07                   		mov	a, #7
 1441 010d 9F 00 00                		mov	!_Leaf_No2_State, a
 382:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1442                             		.loc 1 382 0
 1443 0110 8F 00 00                		mov	a, !_CFG_parameter+68
 1444 0113 9D F0                   		mov	r8, a
 1445 0115 4A F0 01                		cmp	r8, #1
 1446 0118 61 E8                   		 skz
 1447 011a EC 3E 01 00             		 br	!!.L116
 1448                             	.LBB31:
 384:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 1449                             		.loc 1 384 0
 1450 011e 8F 00 00                		mov	a, !_CFG_parameter+1
 1451 0121 9D F0                   		mov	r8, a
 1452 0123 4A F0 02                		cmp	r8, #2
 1453 0126 61 E8                   		 skz
 1454 0128 EC 37 01 00             		 br	!!.L117
 385:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 1455                             		.loc 1 385 0
 1456 012c E6                      		onew	ax
 1457 012d B8 00                   		movw	[sp], ax
 1458 012f FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 1459 0133 EC 3E 01 00             		br	!!.L116
 1460                             	.L117:
 387:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1461                             		.loc 1 387 0
 1462 0137 E6                      		onew	ax
 1463 0138 B8 00                   		movw	[sp], ax
 1464 013a FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 1465                             	.L116:
 1466                             	.LBE31:
 390:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Open_Gate();
 1467                             		.loc 1 390 0
 1468 013e E6                      		onew	ax
 1469 013f B8 00                   		movw	[sp], ax
 1470 0141 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 391:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 1471                             		.loc 1 391 0
 1472 0145 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1473                             	.LBE30:
 392:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1474                             		.loc 1 392 0
 1475 0149 00                      		nop
 1476                             	.L101:
 397:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 398:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 399:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1477                             		.loc 1 399 0
 1478 014a 10 02                   		addw	sp, #2
 1479 014c D7                      		ret
 1480                             	.LFE7:
 1482                             		.section	.text.Step_Command_Process_Mode_4,"ax",@progbits
 1483                             		.global	_Step_Command_Process_Mode_4
 1485                             	_Step_Command_Process_Mode_4:
 1486                             	.LFB8:
 400:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 401:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process_Mode_4 (void)
 402:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1487                             		.loc 1 402 0
 1488                             		; start of function
 1489                             		; outgoing: 2 bytes
 1490                             		; uses ES register
 1491 0000 20 02                   		subw	sp, #2
 1492                             	.LCFI6:
 403:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 1493                             		.loc 1 403 0
 1494 0002 8F 00 00                		mov	a, !_Machine_State
 1495 0005 9D F0                   		mov	r8, a
 1496 0007 F4 F1                   		clrb	r9
 1497 0009 AD F0                   		movw	ax, r8
 1498 000b 44 01 00                		cmpw	ax, #1
 1499 000e 61 F8                   		 sknz
 1500 0010 EC BF 00 00             		 br	!!.L120
 1501 0014 AD F0                   		movw	ax, r8
 1502 0016 44 02 00                		cmpw	ax, #2
 1503 0019 61 F8                   		 sknz
 1504 001b EC 06 01 00             		 br	!!.L121
 1505 001f AD F0                   		movw	ax, r8
 1506 0021 44 00 00                		cmpw	ax, #0
 1507 0024 61 F8                   		 sknz
 1508 0026 EC 2E 00 00             		 br	!!.L122
 404:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 405:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_STOP:
 406:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 407:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 408:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Photo
 410:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 411:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 412:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 413:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 414:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else if ((Leaf_No1_State == GATE_STATE_CLOSING_PAUSE) || (Leaf_No1_State == GATE_STATE_PATIAL_OPE
 415:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 416:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 417:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 418:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else		// Step Close
 419:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 420:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Close_Gate();
 421:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 422:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 423:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 424:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_OPENING:
 425:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 426:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 427:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 428:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 429:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 430:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 431:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Number_Of_Motors == 0x02)
 432:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 433:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 434:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 435:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 436:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 437:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 438:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Close_Gate();
 439:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 440:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 441:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 442:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_NORMAL_CLOSING:
 443:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 444:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 445:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 446:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 447:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 448:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 449:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_OPENING:
 450:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case MACHINE_STATE_PARTIAL_CLOSING:
 451:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: break;
 1509                             		.loc 1 451 0
 1510 002a EC 18 01 00             		br	!!.L118
 1511                             	.L122:
 407:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1512                             		.loc 1 407 0
 1513 002e 8F 00 00                		mov	a, !_Leaf_No1_State
 1514 0031 9D F0                   		mov	r8, a
 1515 0033 4A F0 01                		cmp	r8, #1
 1516 0036 61 E8                   		 skz
 1517 0038 EC 8F 00 00             		 br	!!.L123
 409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1518                             		.loc 1 409 0
 1519 003c C9 F0 07 FF             		movw	r8, #-249
 1520 0040 AD F0                   		movw	ax, r8
 1521 0042 BD F2                   		movw	r10, ax
 1522 0044 FA F2                   		movw	hl, r10
 1523 0046 8B                      		mov	a, [hl]
 1524 0047 9D F0                   		mov	r8, a
 1525 0049 31 1A                   		shr	a, 1
 1526 004b 9D F0                   		mov	r8, a
 1527 004d 5A F0 01                		and	r8, #1
 1528 0050 61 F8                   		sknz
 1529 0052 EC 63 00 00             		 br	!!.L124
 1530                             		 # zero-comparison eliminated
 409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1531                             		.loc 1 409 0 is_stmt 0 discriminator 2
 1532 0056 8F 00 00                		mov	a, !_CFG_parameter+60
 1533 0059 9D F0                   		mov	r8, a
 1534 005b D4 F0                   		cmp0	r8
 1535 005d 61 F8                   		 sknz
 1536 005f EC BB 00 00             		 br	!!.L127
 1537                             	.L124:
 409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1538                             		.loc 1 409 0 discriminator 3
 1539 0063 C9 F0 07 FF             		movw	r8, #-249
 1540 0067 AD F0                   		movw	ax, r8
 1541 0069 BD F2                   		movw	r10, ax
 1542 006b EA F2                   		movw	de, r10
 1543 006d 89                      		mov	a, [de]
 1544 006e 5C 01                   		and	a, #1
 1545 0070 9D F0                   		mov	r8, a
 1546 0072 D4 F0                   		cmp0	r8
 1547 0074 61 F8                   		 sknz
 1548 0076 EC 87 00 00             		 br	!!.L126
 409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1549                             		.loc 1 409 0 discriminator 4
 1550 007a 8F 00 00                		mov	a, !_CFG_parameter+63
 1551 007d 9D F0                   		mov	r8, a
 1552 007f D4 F0                   		cmp0	r8
 1553 0081 61 F8                   		 sknz
 1554 0083 EC BB 00 00             		 br	!!.L127
 1555                             	.L126:
 1556                             	.LBB32:
 411:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1557                             		.loc 1 411 0 is_stmt 1
 1558 0087 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1559                             	.LBE32:
 422:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1560                             		.loc 1 422 0
 1561 008b EC 18 01 00             		br	!!.L118
 1562                             	.L123:
 414:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1563                             		.loc 1 414 0
 1564 008f 8F 00 00                		mov	a, !_Leaf_No1_State
 1565 0092 9D F0                   		mov	r8, a
 1566 0094 4A F0 07                		cmp	r8, #7
 1567 0097 61 F8                   		 sknz
 1568 0099 EC AB 00 00             		 br	!!.L128
 414:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1569                             		.loc 1 414 0 is_stmt 0 discriminator 1
 1570 009d 8F 00 00                		mov	a, !_Leaf_No1_State
 1571 00a0 9D F0                   		mov	r8, a
 1572 00a2 4A F0 08                		cmp	r8, #8
 1573 00a5 61 E8                   		 skz
 1574 00a7 EC B3 00 00             		 br	!!.L129
 1575                             	.L128:
 1576                             	.LBB33:
 416:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1577                             		.loc 1 416 0 is_stmt 1
 1578 00ab FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1579                             	.LBE33:
 415:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 1580                             		.loc 1 415 0
 1581 00af EC BB 00 00             		br	!!.L127
 1582                             	.L129:
 1583                             	.LBB34:
 420:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1584                             		.loc 1 420 0
 1585 00b3 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1586                             	.LBE34:
 422:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1587                             		.loc 1 422 0
 1588 00b7 EC 18 01 00             		br	!!.L118
 1589                             	.L127:
 422:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1590                             		.loc 1 422 0 is_stmt 0 discriminator 1
 1591 00bb EC 18 01 00             		br	!!.L118
 1592                             	.L120:
 1593                             	.LBB35:
 426:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 1594                             		.loc 1 426 0 is_stmt 1
 1595 00bf 51 06                   		mov	a, #6
 1596 00c1 9F 00 00                		mov	!_Leaf_No1_State, a
 427:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1597                             		.loc 1 427 0
 1598 00c4 51 06                   		mov	a, #6
 1599 00c6 9F 00 00                		mov	!_Leaf_No2_State, a
 429:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 1600                             		.loc 1 429 0
 1601 00c9 8F 00 00                		mov	a, !_CFG_parameter+68
 1602 00cc 9D F0                   		mov	r8, a
 1603 00ce 4A F0 01                		cmp	r8, #1
 1604 00d1 61 E8                   		 skz
 1605 00d3 EC F7 00 00             		 br	!!.L131
 1606                             	.LBB36:
 431:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 1607                             		.loc 1 431 0
 1608 00d7 8F 00 00                		mov	a, !_CFG_parameter+1
 1609 00da 9D F0                   		mov	r8, a
 1610 00dc 4A F0 02                		cmp	r8, #2
 1611 00df 61 E8                   		 skz
 1612 00e1 EC F0 00 00             		 br	!!.L132
 432:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
 1613                             		.loc 1 432 0
 1614 00e5 F6                      		clrw	ax
 1615 00e6 B8 00                   		movw	[sp], ax
 1616 00e8 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 1617 00ec EC F7 00 00             		br	!!.L131
 1618                             	.L132:
 434:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 1619                             		.loc 1 434 0
 1620 00f0 F6                      		clrw	ax
 1621 00f1 B8 00                   		movw	[sp], ax
 1622 00f3 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 1623                             	.L131:
 1624                             	.LBE36:
 437:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Close_Gate();
 1625                             		.loc 1 437 0
 1626 00f7 F6                      		clrw	ax
 1627 00f8 B8 00                   		movw	[sp], ax
 1628 00fa FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 438:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1629                             		.loc 1 438 0
 1630 00fe FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 1631                             	.LBE35:
 440:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1632                             		.loc 1 440 0
 1633 0102 EC 18 01 00             		br	!!.L118
 1634                             	.L121:
 1635                             	.LBB37:
 444:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1636                             		.loc 1 444 0
 1637 0106 51 07                   		mov	a, #7
 1638 0108 9F 00 00                		mov	!_Leaf_No1_State, a
 445:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 1639                             		.loc 1 445 0
 1640 010b 51 07                   		mov	a, #7
 1641 010d 9F 00 00                		mov	!_Leaf_No2_State, a
 446:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	} break;
 1642                             		.loc 1 446 0
 1643 0110 E6                      		onew	ax
 1644 0111 B8 00                   		movw	[sp], ax
 1645 0113 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 1646                             	.LBE37:
 447:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1647                             		.loc 1 447 0
 1648 0117 00                      		nop
 1649                             	.L118:
 452:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 453:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1650                             		.loc 1 453 0
 1651 0118 10 02                   		addw	sp, #2
 1652 011a D7                      		ret
 1653                             	.LFE8:
 1655                             		.section	.text.Step_Command_Process,"ax",@progbits
 1656                             		.global	_Step_Command_Process
 1658                             	_Step_Command_Process:
 1659                             	.LFB9:
 454:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 455:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Step_Command_Process ()
 456:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1660                             		.loc 1 456 0
 457:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(CFG_parameter.Step_Mode)
 1661                             		.loc 1 457 0
 1662 0000 8F 00 00                		mov	a, !_CFG_parameter+35
 1663 0003 9D F0                   		mov	r8, a
 1664 0005 F4 F1                   		clrb	r9
 1665 0007 AD F0                   		movw	ax, r8
 1666 0009 44 02 00                		cmpw	ax, #2
 1667 000c 61 F8                   		 sknz
 1668 000e EC 63 00 00             		 br	!!.L135
 1669 0012 AD F0                   		movw	ax, r8
 1670 0014 44 02 00                		cmpw	ax, #2
 1671 0017 71 FF                   		 xor1	CY, a.7
 1672 0019 61 F3                   		 sknh
 1673 001b EC 39 00 00             		 br	!!.L136
 1674 001f AD F0                   		movw	ax, r8
 1675 0021 44 00 00                		cmpw	ax, #0
 1676 0024 61 F8                   		 sknz
 1677 0026 EC 53 00 00             		 br	!!.L137
 1678 002a AD F0                   		movw	ax, r8
 1679 002c 44 01 00                		cmpw	ax, #1
 1680 002f 61 F8                   		 sknz
 1681 0031 EC 5B 00 00             		 br	!!.L138
 1682 0035 EC 7B 00 00             		br	!!.L134
 1683                             	.L136:
 1684 0039 AD F0                   		movw	ax, r8
 1685 003b 44 03 00                		cmpw	ax, #3
 1686 003e 61 F8                   		 sknz
 1687 0040 EC 6B 00 00             		 br	!!.L139
 1688 0044 AD F0                   		movw	ax, r8
 1689 0046 44 04 00                		cmpw	ax, #4
 1690 0049 61 F8                   		 sknz
 1691 004b EC 73 00 00             		 br	!!.L140
 1692 004f EC 7B 00 00             		br	!!.L134
 1693                             	.L137:
 458:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 459:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case 0x00:	Step_Command_Process_Mode_0(); break;
 1694                             		.loc 1 459 0
 1695 0053 FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_0)
 1696 0057 EC 80 00 00             		br	!!.L133
 1697                             	.L138:
 460:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case 0x01: 	Step_Command_Process_Mode_1(); break;
 1698                             		.loc 1 460 0
 1699 005b FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_1)
 1700 005f EC 80 00 00             		br	!!.L133
 1701                             	.L135:
 461:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case 0x02: 	Step_Command_Process_Mode_2(); break;
 1702                             		.loc 1 461 0
 1703 0063 FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_2)
 1704 0067 EC 80 00 00             		br	!!.L133
 1705                             	.L139:
 462:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case 0x03: 	Step_Command_Process_Mode_3(); break;
 1706                             		.loc 1 462 0
 1707 006b FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_3)
 1708 006f EC 80 00 00             		br	!!.L133
 1709                             	.L140:
 463:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	case 0x04: 	Step_Command_Process_Mode_4(); break;
 1710                             		.loc 1 463 0
 1711 0073 FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_4)
 1712 0077 EC 80 00 00             		br	!!.L133
 1713                             	.L134:
 464:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	default: 	Step_Command_Process_Mode_0(); break;
 1714                             		.loc 1 464 0
 1715 007b FC 00 00 00             		call	!!%code(_Step_Command_Process_Mode_0)
 1716 007f 00                      		nop
 1717                             	.L133:
 465:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 466:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 1718                             		.loc 1 466 0
 1719 0080 D7                      		ret
 1720                             	.LFE9:
 1722                             		.section	.text.Open_Command_Process,"ax",@progbits
 1723                             		.global	_Open_Command_Process
 1725                             	_Open_Command_Process:
 1726                             	.LFB10:
 467:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 468:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Open_Command_Process ()
 469:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 1727                             		.loc 1 469 0
 1728                             		; start of function
 1729                             		; outgoing: 2 bytes
 1730                             		; uses ES register
 1731 0000 20 02                   		subw	sp, #2
 1732                             	.LCFI7:
 470:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (CFG_parameter.Manual_Function == 0x00)
 1733                             		.loc 1 470 0
 1734 0002 8F 00 00                		mov	a, !_CFG_parameter+42
 1735 0005 9D F0                   		mov	r8, a
 1736 0007 D4 F0                   		cmp0	r8
 1737 0009 61 E8                   		 skz
 1738 000b EC 1D 01 00             		 br	!!.L143
 471:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 472:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		while(!AP_IN);
 1739                             		.loc 1 472 0
 1740 000f 00                      		nop
 1741                             	.L144:
 1742                             		.loc 1 472 0 is_stmt 0 discriminator 1
 1743 0010 C9 F0 06 FF             		movw	r8, #-250
 1744 0014 AD F0                   		movw	ax, r8
 1745 0016 BD F2                   		movw	r10, ax
 1746 0018 FA F2                   		movw	hl, r10
 1747 001a 8B                      		mov	a, [hl]
 1748 001b 9D F0                   		mov	r8, a
 1749 001d 31 3A                   		shr	a, 3
 1750 001f 9D F0                   		mov	r8, a
 1751 0021 5A F0 01                		and	r8, #1
 1752 0024 61 F8                   		sknz
 1753 0026 EC 10 00 00             		 br	!!.L144
 1754                             		 # zero-comparison eliminated
 473:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		switch(Machine_State)
 1755                             		.loc 1 473 0 is_stmt 1
 1756 002a 8F 00 00                		mov	a, !_Machine_State
 1757 002d 9D F0                   		mov	r8, a
 1758 002f F4 F1                   		clrb	r9
 1759 0031 AD F0                   		movw	ax, r8
 1760 0033 44 01 00                		cmpw	ax, #1
 1761 0036 61 F8                   		 sknz
 1762 0038 EC 18 01 00             		 br	!!.L169
 1763 003c AD F0                   		movw	ax, r8
 1764 003e 44 02 00                		cmpw	ax, #2
 1765 0041 61 F8                   		 sknz
 1766 0043 EC D1 00 00             		 br	!!.L147
 1767 0047 AD F0                   		movw	ax, r8
 1768 0049 44 00 00                		cmpw	ax, #0
 1769 004c 61 F8                   		 sknz
 1770 004e EC 56 00 00             		 br	!!.L148
 474:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 475:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_STOP:
 476:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 477:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 478:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 479:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Phot
 480:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 481:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Open_Gate();
 482:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 483:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 484:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else if (Leaf_No1_State != GATE_STATE_OPENED)
 485:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 486:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 487:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 488:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 489:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 490:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
 491:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 492:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			// Do nothing
 493:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 494:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 495:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 496:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 497:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 498:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 499:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 500:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 501:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Number_Of_Motors == 0x02)
 502:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 503:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 504:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 505:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 506:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 507:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 508:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Open_Gate();
 509:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 510:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 511:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
 512:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
 513:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 1771                             		.loc 1 513 0
 1772 0052 EC 19 01 00             		br	!!.L154
 1773                             	.L148:
 477:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1774                             		.loc 1 477 0
 1775 0056 8F 00 00                		mov	a, !_Leaf_No1_State
 1776 0059 9D F0                   		mov	r8, a
 1777 005b 4A F0 01                		cmp	r8, #1
 1778 005e 61 E8                   		 skz
 1779 0060 EC B7 00 00             		 br	!!.L149
 479:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1780                             		.loc 1 479 0
 1781 0064 C9 F0 07 FF             		movw	r8, #-249
 1782 0068 AD F0                   		movw	ax, r8
 1783 006a BD F2                   		movw	r10, ax
 1784 006c FA F2                   		movw	hl, r10
 1785 006e 8B                      		mov	a, [hl]
 1786 006f 9D F0                   		mov	r8, a
 1787 0071 31 1A                   		shr	a, 1
 1788 0073 9D F0                   		mov	r8, a
 1789 0075 5A F0 01                		and	r8, #1
 1790 0078 61 F8                   		sknz
 1791 007a EC 8B 00 00             		 br	!!.L150
 1792                             		 # zero-comparison eliminated
 479:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1793                             		.loc 1 479 0 is_stmt 0 discriminator 2
 1794 007e 8F 00 00                		mov	a, !_CFG_parameter+60
 1795 0081 9D F0                   		mov	r8, a
 1796 0083 D4 F0                   		cmp0	r8
 1797 0085 61 F8                   		 sknz
 1798 0087 EC CD 00 00             		 br	!!.L153
 1799                             	.L150:
 479:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1800                             		.loc 1 479 0 discriminator 3
 1801 008b C9 F0 07 FF             		movw	r8, #-249
 1802 008f AD F0                   		movw	ax, r8
 1803 0091 BD F2                   		movw	r10, ax
 1804 0093 EA F2                   		movw	de, r10
 1805 0095 89                      		mov	a, [de]
 1806 0096 5C 01                   		and	a, #1
 1807 0098 9D F0                   		mov	r8, a
 1808 009a D4 F0                   		cmp0	r8
 1809 009c 61 F8                   		 sknz
 1810 009e EC AF 00 00             		 br	!!.L152
 479:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1811                             		.loc 1 479 0 discriminator 4
 1812 00a2 8F 00 00                		mov	a, !_CFG_parameter+63
 1813 00a5 9D F0                   		mov	r8, a
 1814 00a7 D4 F0                   		cmp0	r8
 1815 00a9 61 F8                   		 sknz
 1816 00ab EC CD 00 00             		 br	!!.L153
 1817                             	.L152:
 1818                             	.LBB38:
 481:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 1819                             		.loc 1 481 0 is_stmt 1
 1820 00af FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1821                             	.LBE38:
 488:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1822                             		.loc 1 488 0
 1823 00b3 EC 19 01 00             		br	!!.L154
 1824                             	.L149:
 484:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1825                             		.loc 1 484 0
 1826 00b7 8F 00 00                		mov	a, !_Leaf_No1_State
 1827 00ba 9D F0                   		mov	r8, a
 1828 00bc 4A F0 03                		cmp	r8, #3
 1829 00bf 61 F8                   		 sknz
 1830 00c1 EC CD 00 00             		 br	!!.L153
 1831                             	.LBB39:
 486:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1832                             		.loc 1 486 0
 1833 00c5 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1834                             	.LBE39:
 488:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1835                             		.loc 1 488 0
 1836 00c9 EC 19 01 00             		br	!!.L154
 1837                             	.L153:
 488:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1838                             		.loc 1 488 0 is_stmt 0 discriminator 1
 1839 00cd EC 19 01 00             		br	!!.L154
 1840                             	.L147:
 1841                             	.LBB40:
 497:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1842                             		.loc 1 497 0 is_stmt 1
 1843 00d1 51 07                   		mov	a, #7
 1844 00d3 9F 00 00                		mov	!_Leaf_No1_State, a
 498:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 1845                             		.loc 1 498 0
 1846 00d6 51 07                   		mov	a, #7
 1847 00d8 9F 00 00                		mov	!_Leaf_No2_State, a
 499:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 1848                             		.loc 1 499 0
 1849 00db 8F 00 00                		mov	a, !_CFG_parameter+68
 1850 00de 9D F0                   		mov	r8, a
 1851 00e0 4A F0 01                		cmp	r8, #1
 1852 00e3 61 E8                   		 skz
 1853 00e5 EC 09 01 00             		 br	!!.L155
 1854                             	.LBB41:
 501:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 1855                             		.loc 1 501 0
 1856 00e9 8F 00 00                		mov	a, !_CFG_parameter+1
 1857 00ec 9D F0                   		mov	r8, a
 1858 00ee 4A F0 02                		cmp	r8, #2
 1859 00f1 61 E8                   		 skz
 1860 00f3 EC 02 01 00             		 br	!!.L156
 502:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 1861                             		.loc 1 502 0
 1862 00f7 E6                      		onew	ax
 1863 00f8 B8 00                   		movw	[sp], ax
 1864 00fa FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 1865 00fe EC 09 01 00             		br	!!.L155
 1866                             	.L156:
 504:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 1867                             		.loc 1 504 0
 1868 0102 E6                      		onew	ax
 1869 0103 B8 00                   		movw	[sp], ax
 1870 0105 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 1871                             	.L155:
 1872                             	.LBE41:
 506:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1873                             		.loc 1 506 0
 1874 0109 E6                      		onew	ax
 1875 010a B8 00                   		movw	[sp], ax
 1876 010c FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 508:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 1877                             		.loc 1 508 0
 1878 0110 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1879                             	.LBE40:
 509:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1880                             		.loc 1 509 0
 1881 0114 EC 19 01 00             		br	!!.L154
 1882                             	.L169:
 493:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1883                             		.loc 1 493 0
 1884 0118 00                      		nop
 1885                             	.L154:
 1886 0119 EC 1D 02 00             		br	!!.L142
 1887                             	.L143:
 514:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 515:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 516:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else
 517:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 518:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Last_Open_Command_State == COMMAND_RELEASE_STATE)
 1888                             		.loc 1 518 0
 1889 011d 8F 00 00                		mov	a, !_Last_Open_Command_State
 1890 0120 9D F0                   		mov	r8, a
 1891 0122 4A F0 01                		cmp	r8, #1
 1892 0125 61 E8                   		 skz
 1893 0127 EC 1D 02 00             		 br	!!.L142
 519:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 520:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Last_Open_Command_State = COMMAND_PRESSED_STATE;
 1894                             		.loc 1 520 0
 1895 012b F5 00 00                		clrb	!_Last_Open_Command_State
 521:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			switch(Machine_State)
 1896                             		.loc 1 521 0
 1897 012e 8F 00 00                		mov	a, !_Machine_State
 1898 0131 9D F0                   		mov	r8, a
 1899 0133 F4 F1                   		clrb	r9
 1900 0135 AD F0                   		movw	ax, r8
 1901 0137 44 01 00                		cmpw	ax, #1
 1902 013a 61 F8                   		 sknz
 1903 013c EC 1C 02 00             		 br	!!.L170
 1904 0140 AD F0                   		movw	ax, r8
 1905 0142 44 02 00                		cmpw	ax, #2
 1906 0145 61 F8                   		 sknz
 1907 0147 EC D5 01 00             		 br	!!.L160
 1908 014b AD F0                   		movw	ax, r8
 1909 014d 44 00 00                		cmpw	ax, #0
 1910 0150 61 F8                   		 sknz
 1911 0152 EC 5A 01 00             		 br	!!.L161
 522:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 523:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_STOP:
 524:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 525:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (Leaf_No1_State == GATE_STATE_CLOSED) // Step OPen
 526:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 527:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (!((FT1 && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x00)) || (FT2 && (CFG_parameter.Pho
 528:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 529:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Open_Gate();
 530:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 531:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 532:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (Leaf_No1_State != GATE_STATE_OPENED)
 533:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 534:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Open_Gate();
 535:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 536:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 537:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 538:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_OPENING:
 539:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 540:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// Do nothing
 541:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 542:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 543:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 544:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 545:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 546:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 547:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 548:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 549:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 550:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 551:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 552:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 553:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 554:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 555:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 556:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 557:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 558:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 559:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 560:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 561:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 562:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
 563:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			default: break;
 1912                             		.loc 1 563 0
 1913 0156 EC 1D 02 00             		br	!!.L142
 1914                             	.L161:
 525:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1915                             		.loc 1 525 0
 1916 015a 8F 00 00                		mov	a, !_Leaf_No1_State
 1917 015d 9D F0                   		mov	r8, a
 1918 015f 4A F0 01                		cmp	r8, #1
 1919 0162 61 E8                   		 skz
 1920 0164 EC BB 01 00             		 br	!!.L162
 527:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 1921                             		.loc 1 527 0
 1922 0168 C9 F0 07 FF             		movw	r8, #-249
 1923 016c AD F0                   		movw	ax, r8
 1924 016e BD F2                   		movw	r10, ax
 1925 0170 FA F2                   		movw	hl, r10
 1926 0172 8B                      		mov	a, [hl]
 1927 0173 9D F0                   		mov	r8, a
 1928 0175 31 1A                   		shr	a, 1
 1929 0177 9D F0                   		mov	r8, a
 1930 0179 5A F0 01                		and	r8, #1
 1931 017c 61 F8                   		sknz
 1932 017e EC 8F 01 00             		 br	!!.L163
 1933                             		 # zero-comparison eliminated
 527:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 1934                             		.loc 1 527 0 is_stmt 0 discriminator 2
 1935 0182 8F 00 00                		mov	a, !_CFG_parameter+60
 1936 0185 9D F0                   		mov	r8, a
 1937 0187 D4 F0                   		cmp0	r8
 1938 0189 61 F8                   		 sknz
 1939 018b EC D1 01 00             		 br	!!.L166
 1940                             	.L163:
 527:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 1941                             		.loc 1 527 0 discriminator 3
 1942 018f C9 F0 07 FF             		movw	r8, #-249
 1943 0193 AD F0                   		movw	ax, r8
 1944 0195 BD F2                   		movw	r10, ax
 1945 0197 EA F2                   		movw	de, r10
 1946 0199 89                      		mov	a, [de]
 1947 019a 5C 01                   		and	a, #1
 1948 019c 9D F0                   		mov	r8, a
 1949 019e D4 F0                   		cmp0	r8
 1950 01a0 61 F8                   		 sknz
 1951 01a2 EC B3 01 00             		 br	!!.L165
 527:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 1952                             		.loc 1 527 0 discriminator 4
 1953 01a6 8F 00 00                		mov	a, !_CFG_parameter+63
 1954 01a9 9D F0                   		mov	r8, a
 1955 01ab D4 F0                   		cmp0	r8
 1956 01ad 61 F8                   		 sknz
 1957 01af EC D1 01 00             		 br	!!.L166
 1958                             	.L165:
 1959                             	.LBB42:
 529:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 1960                             		.loc 1 529 0 is_stmt 1
 1961 01b3 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1962                             	.LBE42:
 536:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1963                             		.loc 1 536 0
 1964 01b7 EC 1D 02 00             		br	!!.L142
 1965                             	.L162:
 532:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1966                             		.loc 1 532 0
 1967 01bb 8F 00 00                		mov	a, !_Leaf_No1_State
 1968 01be 9D F0                   		mov	r8, a
 1969 01c0 4A F0 03                		cmp	r8, #3
 1970 01c3 61 F8                   		 sknz
 1971 01c5 EC D1 01 00             		 br	!!.L166
 1972                             	.LBB43:
 534:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 1973                             		.loc 1 534 0
 1974 01c9 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 1975                             	.LBE43:
 536:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1976                             		.loc 1 536 0
 1977 01cd EC 1D 02 00             		br	!!.L142
 1978                             	.L166:
 536:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 1979                             		.loc 1 536 0 is_stmt 0 discriminator 5
 1980 01d1 EC 1D 02 00             		br	!!.L142
 1981                             	.L160:
 1982                             	.LBB44:
 545:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 1983                             		.loc 1 545 0 is_stmt 1
 1984 01d5 51 07                   		mov	a, #7
 1985 01d7 9F 00 00                		mov	!_Leaf_No1_State, a
 546:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 1986                             		.loc 1 546 0
 1987 01da 51 07                   		mov	a, #7
 1988 01dc 9F 00 00                		mov	!_Leaf_No2_State, a
 547:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 1989                             		.loc 1 547 0
 1990 01df 8F 00 00                		mov	a, !_CFG_parameter+68
 1991 01e2 9D F0                   		mov	r8, a
 1992 01e4 4A F0 01                		cmp	r8, #1
 1993 01e7 61 E8                   		 skz
 1994 01e9 EC 0D 02 00             		 br	!!.L167
 1995                             	.LBB45:
 549:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 1996                             		.loc 1 549 0
 1997 01ed 8F 00 00                		mov	a, !_CFG_parameter+1
 1998 01f0 9D F0                   		mov	r8, a
 1999 01f2 4A F0 02                		cmp	r8, #2
 2000 01f5 61 E8                   		 skz
 2001 01f7 EC 06 02 00             		 br	!!.L168
 550:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2002                             		.loc 1 550 0
 2003 01fb E6                      		onew	ax
 2004 01fc B8 00                   		movw	[sp], ax
 2005 01fe FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2006 0202 EC 0D 02 00             		br	!!.L167
 2007                             	.L168:
 552:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2008                             		.loc 1 552 0
 2009 0206 E6                      		onew	ax
 2010 0207 B8 00                   		movw	[sp], ax
 2011 0209 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2012                             	.L167:
 2013                             	.LBE45:
 555:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2014                             		.loc 1 555 0
 2015 020d E6                      		onew	ax
 2016 020e B8 00                   		movw	[sp], ax
 2017 0210 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 557:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2018                             		.loc 1 557 0
 2019 0214 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2020                             	.LBE44:
 559:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2021                             		.loc 1 559 0
 2022 0218 EC 1D 02 00             		br	!!.L142
 2023                             	.L170:
 541:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2024                             		.loc 1 541 0
 2025 021c 00                      		nop
 2026                             	.L142:
 564:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 565:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 566:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 567:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 2027                             		.loc 1 567 0
 2028 021d 10 02                   		addw	sp, #2
 2029 021f D7                      		ret
 2030                             	.LFE10:
 2032                             		.section	.text.Close_Command_Process,"ax",@progbits
 2033                             		.global	_Close_Command_Process
 2035                             	_Close_Command_Process:
 2036                             	.LFB11:
 568:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 569:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Close_Command_Process ()
 570:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 2037                             		.loc 1 570 0
 2038                             		; start of function
 2039                             		; outgoing: 2 bytes
 2040                             		; uses ES register
 2041 0000 20 02                   		subw	sp, #2
 2042                             	.LCFI8:
 571:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (CFG_parameter.Manual_Function == 0x00)
 2043                             		.loc 1 571 0
 2044 0002 8F 00 00                		mov	a, !_CFG_parameter+42
 2045 0005 9D F0                   		mov	r8, a
 2046 0007 D4 F0                   		cmp0	r8
 2047 0009 61 E8                   		 skz
 2048 000b EC 9B 00 00             		 br	!!.L172
 572:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 573:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		while(!CH_IN);
 2049                             		.loc 1 573 0
 2050 000f 00                      		nop
 2051                             	.L173:
 2052                             		.loc 1 573 0 is_stmt 0 discriminator 1
 2053 0010 C9 F0 06 FF             		movw	r8, #-250
 2054 0014 AD F0                   		movw	ax, r8
 2055 0016 BD F2                   		movw	r10, ax
 2056 0018 FA F2                   		movw	hl, r10
 2057 001a 8B                      		mov	a, [hl]
 2058 001b 9D F0                   		mov	r8, a
 2059 001d 31 2A                   		shr	a, 2
 2060 001f 9D F0                   		mov	r8, a
 2061 0021 5A F0 01                		and	r8, #1
 2062 0024 61 F8                   		sknz
 2063 0026 EC 10 00 00             		 br	!!.L173
 2064                             		 # zero-comparison eliminated
 574:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		switch(Machine_State)
 2065                             		.loc 1 574 0 is_stmt 1
 2066 002a 8F 00 00                		mov	a, !_Machine_State
 2067 002d 9D F0                   		mov	r8, a
 2068 002f F4 F1                   		clrb	r9
 2069 0031 AD F0                   		movw	ax, r8
 2070 0033 44 00 00                		cmpw	ax, #0
 2071 0036 61 F8                   		 sknz
 2072 0038 EC 4B 00 00             		 br	!!.L175
 2073 003c AD F0                   		movw	ax, r8
 2074 003e 44 01 00                		cmpw	ax, #1
 2075 0041 61 F8                   		 sknz
 2076 0043 EC 53 00 00             		 br	!!.L176
 575:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 576:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_STOP:
 577:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 578:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Close_Gate();
 579:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 580:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 581:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_OPENING:
 582:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 583:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 584:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 585:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 586:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 587:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 588:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 589:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 590:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 591:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 592:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 593:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 594:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Close_Gate();
 595:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 596:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 597:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 598:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 599:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
 600:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			default: break;
 2077                             		.loc 1 600 0
 2078 0047 EC 97 00 00             		br	!!.L177
 2079                             	.L175:
 2080                             	.LBB46:
 578:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 2081                             		.loc 1 578 0
 2082 004b FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2083                             	.LBE46:
 579:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2084                             		.loc 1 579 0
 2085 004f EC 97 00 00             		br	!!.L177
 2086                             	.L176:
 2087                             	.LBB47:
 583:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 2088                             		.loc 1 583 0
 2089 0053 51 06                   		mov	a, #6
 2090 0055 9F 00 00                		mov	!_Leaf_No1_State, a
 584:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 2091                             		.loc 1 584 0
 2092 0058 51 06                   		mov	a, #6
 2093 005a 9F 00 00                		mov	!_Leaf_No2_State, a
 585:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2094                             		.loc 1 585 0
 2095 005d 8F 00 00                		mov	a, !_CFG_parameter+68
 2096 0060 9D F0                   		mov	r8, a
 2097 0062 4A F0 01                		cmp	r8, #1
 2098 0065 61 E8                   		 skz
 2099 0067 EC 8B 00 00             		 br	!!.L178
 2100                             	.LBB48:
 587:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 2101                             		.loc 1 587 0
 2102 006b 8F 00 00                		mov	a, !_CFG_parameter+1
 2103 006e 9D F0                   		mov	r8, a
 2104 0070 4A F0 02                		cmp	r8, #2
 2105 0073 61 E8                   		 skz
 2106 0075 EC 84 00 00             		 br	!!.L179
 588:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2107                             		.loc 1 588 0
 2108 0079 F6                      		clrw	ax
 2109 007a B8 00                   		movw	[sp], ax
 2110 007c FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2111 0080 EC 8B 00 00             		br	!!.L178
 2112                             	.L179:
 590:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2113                             		.loc 1 590 0
 2114 0084 F6                      		clrw	ax
 2115 0085 B8 00                   		movw	[sp], ax
 2116 0087 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2117                             	.L178:
 2118                             	.LBE48:
 592:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2119                             		.loc 1 592 0
 2120 008b F6                      		clrw	ax
 2121 008c B8 00                   		movw	[sp], ax
 2122 008e FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 594:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 2123                             		.loc 1 594 0
 2124 0092 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2125                             	.LBE47:
 595:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2126                             		.loc 1 595 0
 2127 0096 00                      		nop
 2128                             	.L177:
 2129 0097 EC 19 01 00             		br	!!.L171
 2130                             	.L172:
 601:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 602:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 603:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	else
 604:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 605:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Last_Close_Command_State == COMMAND_RELEASE_STATE)
 2131                             		.loc 1 605 0
 2132 009b 8F 00 00                		mov	a, !_Last_Close_Command_State
 2133 009e 9D F0                   		mov	r8, a
 2134 00a0 4A F0 01                		cmp	r8, #1
 2135 00a3 61 E8                   		 skz
 2136 00a5 EC 19 01 00             		 br	!!.L171
 606:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 607:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Last_Close_Command_State = COMMAND_PRESSED_STATE;
 2137                             		.loc 1 607 0
 2138 00a9 F5 00 00                		clrb	!_Last_Close_Command_State
 608:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 609:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			switch(Machine_State)
 2139                             		.loc 1 609 0
 2140 00ac 8F 00 00                		mov	a, !_Machine_State
 2141 00af 9D F0                   		mov	r8, a
 2142 00b1 F4 F1                   		clrb	r9
 2143 00b3 AD F0                   		movw	ax, r8
 2144 00b5 44 00 00                		cmpw	ax, #0
 2145 00b8 61 F8                   		 sknz
 2146 00ba EC CD 00 00             		 br	!!.L182
 2147 00be AD F0                   		movw	ax, r8
 2148 00c0 44 01 00                		cmpw	ax, #1
 2149 00c3 61 F8                   		 sknz
 2150 00c5 EC D5 00 00             		 br	!!.L183
 610:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 611:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				case MACHINE_STATE_STOP:
 612:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 613:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Close_Gate();
 614:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				} break;
 615:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 616:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				case MACHINE_STATE_NORMAL_OPENING:
 617:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 618:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 619:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 620:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 621:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 622:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						if (CFG_parameter.Number_Of_Motors == 0x02)
 623:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 							__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 624:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						else
 625:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 							__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 626:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 627:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 628:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 629:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 630:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Close_Gate();
 631:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				} break;
 632:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 633:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				case MACHINE_STATE_NORMAL_CLOSING:
 634:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				case MACHINE_STATE_PARTIAL_OPENING:
 635:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				case MACHINE_STATE_PARTIAL_CLOSING:
 636:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				default: break;
 2151                             		.loc 1 636 0
 2152 00c9 EC 19 01 00             		br	!!.L171
 2153                             	.L182:
 2154                             	.LBB49:
 613:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				} break;
 2155                             		.loc 1 613 0
 2156 00cd FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2157                             	.LBE49:
 614:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2158                             		.loc 1 614 0
 2159 00d1 EC 19 01 00             		br	!!.L171
 2160                             	.L183:
 2161                             	.LBB50:
 618:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 2162                             		.loc 1 618 0
 2163 00d5 51 06                   		mov	a, #6
 2164 00d7 9F 00 00                		mov	!_Leaf_No1_State, a
 619:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Reverse_Command_Enable_Braking == 0x01)
 2165                             		.loc 1 619 0
 2166 00da 51 06                   		mov	a, #6
 2167 00dc 9F 00 00                		mov	!_Leaf_No2_State, a
 620:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2168                             		.loc 1 620 0
 2169 00df 8F 00 00                		mov	a, !_CFG_parameter+68
 2170 00e2 9D F0                   		mov	r8, a
 2171 00e4 4A F0 01                		cmp	r8, #1
 2172 00e7 61 E8                   		 skz
 2173 00e9 EC 0D 01 00             		 br	!!.L184
 2174                             	.LBB51:
 622:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 							__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 2175                             		.loc 1 622 0
 2176 00ed 8F 00 00                		mov	a, !_CFG_parameter+1
 2177 00f0 9D F0                   		mov	r8, a
 2178 00f2 4A F0 02                		cmp	r8, #2
 2179 00f5 61 E8                   		 skz
 2180 00f7 EC 06 01 00             		 br	!!.L185
 623:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						else
 2181                             		.loc 1 623 0
 2182 00fb F6                      		clrw	ax
 2183 00fc B8 00                   		movw	[sp], ax
 2184 00fe FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2185 0102 EC 0D 01 00             		br	!!.L184
 2186                             	.L185:
 625:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2187                             		.loc 1 625 0
 2188 0106 F6                      		clrw	ax
 2189 0107 B8 00                   		movw	[sp], ax
 2190 0109 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2191                             	.L184:
 2192                             	.LBE51:
 628:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2193                             		.loc 1 628 0
 2194 010d F6                      		clrw	ax
 2195 010e B8 00                   		movw	[sp], ax
 2196 0110 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 630:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				} break;
 2197                             		.loc 1 630 0
 2198 0114 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2199                             	.LBE50:
 631:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2200                             		.loc 1 631 0
 2201 0118 00                      		nop
 2202                             	.L171:
 637:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 638:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 639:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 640:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 641:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 2203                             		.loc 1 641 0
 2204 0119 10 02                   		addw	sp, #2
 2205 011b D7                      		ret
 2206                             	.LFE11:
 2208                             		.section	.text.Clock_Command_Process,"ax",@progbits
 2209                             		.global	_Clock_Command_Process
 2211                             	_Clock_Command_Process:
 2212                             	.LFB12:
 642:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 643:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Clock_Command_Process ()
 644:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 2213                             		.loc 1 644 0
 645:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 646:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 2214                             		.loc 1 646 0
 2215 0000 D7                      		ret
 2216                             	.LFE12:
 2218                             		.section	.text.Photocell_FT1_Process,"ax",@progbits
 2219                             		.global	_Photocell_FT1_Process
 2221                             	_Photocell_FT1_Process:
 2222                             	.LFB13:
 647:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 648:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Photocell_FT1_Process (void)
 649:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 2223                             		.loc 1 649 0
 2224                             		; start of function
 2225                             		; outgoing: 2 bytes
 2226                             		; uses ES register
 2227 0000 20 02                   		subw	sp, #2
 2228                             	.LCFI9:
 650:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 2229                             		.loc 1 650 0
 2230 0002 8F 00 00                		mov	a, !_Machine_State
 2231 0005 9D F0                   		mov	r8, a
 2232 0007 F4 F1                   		clrb	r9
 2233 0009 AD F0                   		movw	ax, r8
 2234 000b 44 02 00                		cmpw	ax, #2
 2235 000e 61 F8                   		 sknz
 2236 0010 EC 61 01 00             		 br	!!.L189
 2237 0014 AD F0                   		movw	ax, r8
 2238 0016 44 02 00                		cmpw	ax, #2
 2239 0019 71 FF                   		 xor1	CY, a.7
 2240 001b 61 F3                   		 sknh
 2241 001d EC 3B 00 00             		 br	!!.L190
 2242 0021 AD F0                   		movw	ax, r8
 2243 0023 44 00 00                		cmpw	ax, #0
 2244 0026 61 F8                   		 sknz
 2245 0028 EC 55 00 00             		 br	!!.L191
 2246 002c AD F0                   		movw	ax, r8
 2247 002e 44 01 00                		cmpw	ax, #1
 2248 0031 61 F8                   		 sknz
 2249 0033 EC B4 00 00             		 br	!!.L192
 651:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 652:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_STOP:
 653:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 654:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if ((Leaf_No1_State == GATE_STATE_CLOSED) && (CFG_parameter.Photocell_FT1_Mode_Closed == 0x02))
 655:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 656:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 657:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 658:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else if ((Leaf_No1_State != GATE_STATE_CLOSED) && (CFG_parameter.Close_Command_Enable_Photocell 
 659:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 660:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				while(FT1);
 661:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 662:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 663:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 664:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 665:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
 666:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 667:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT1_Mode_Opening != 0x00)
 668:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 669:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 670:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 671:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 672:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 673:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 674:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 675:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 676:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 677:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 678:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 679:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 680:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT1_Mode_Opening > 0x02)
 681:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 682:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT1);
 683:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 684:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 685:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Open_Gate();
 686:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 687:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else														//	Delayed Reverse
 688:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 689:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Close_Gate();
 690:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 691:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 692:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x02)		// Immediate Reverse
 693:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 694:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Close_Gate();
 695:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 696:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 697:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 698:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 699:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 700:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 701:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT1_Mode_Closing != 0x00)
 702:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 703:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 704:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 705:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 706:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 707:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 708:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 709:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 710:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 711:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 712:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 713:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 714:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT1_Mode_Closing > 0x02)
 715:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 716:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT1);
 717:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 718:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 719:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Close_Gate();
 720:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 721:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else	//Delayed Reverse
 722:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 723:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Open_Gate();
 724:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 725:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 726:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x02)	// Immediate Reverse
 727:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 728:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Open_Gate();
 729:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 730:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 731:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 732:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 733:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
 734:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 735:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT1_Mode_Opening != 0x00)
 736:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 737:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_PATIAL_OPENING_PAUSE;
 738:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 739:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 740:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 741:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 742:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 743:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 744:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT1_Mode_Opening > 0x02)
 745:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 746:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT1);
 747:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 748:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 749:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Open_Gate();
 750:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 751:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else														//	Delayed Reverse
 752:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 753:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Close_Gate();
 754:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 755:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 756:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x02)		// Immediate Reverse
 757:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 758:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Partial_Close_Gate();
 759:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 760:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 761:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 762:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 763:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
 764:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 765:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT1_Mode_Closing != 0x00)
 766:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 767:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 768:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 769:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 770:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 771:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 772:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 773:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 774:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT1_Mode_Closing > 0x02)
 775:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 776:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT1);
 777:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 778:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 779:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Close_Gate();
 780:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 781:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else	//Delayed Reverse
 782:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 783:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Open_Gate();
 784:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 785:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 786:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x02)	// Immediate Reverse
 787:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 788:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Partial_Open_Gate();
 789:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 790:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 791:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 792:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 793:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 2250                             		.loc 1 793 0
 2251 0037 EC 29 03 00             		br	!!.L187
 2252                             	.L190:
 650:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 2253                             		.loc 1 650 0
 2254 003b AD F0                   		movw	ax, r8
 2255 003d 44 03 00                		cmpw	ax, #3
 2256 0040 61 F8                   		 sknz
 2257 0042 EC 0E 02 00             		 br	!!.L193
 2258 0046 AD F0                   		movw	ax, r8
 2259 0048 44 04 00                		cmpw	ax, #4
 2260 004b 61 F8                   		 sknz
 2261 004d EC 9D 02 00             		 br	!!.L194
 2262                             		.loc 1 793 0
 2263 0051 EC 29 03 00             		br	!!.L187
 2264                             	.L191:
 654:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2265                             		.loc 1 654 0
 2266 0055 8F 00 00                		mov	a, !_Leaf_No1_State
 2267 0058 9D F0                   		mov	r8, a
 2268 005a 4A F0 01                		cmp	r8, #1
 2269 005d 61 E8                   		 skz
 2270 005f EC 79 00 00             		 br	!!.L195
 654:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2271                             		.loc 1 654 0 is_stmt 0 discriminator 1
 2272 0063 8F 00 00                		mov	a, !_CFG_parameter+60
 2273 0066 9D F0                   		mov	r8, a
 2274 0068 4A F0 02                		cmp	r8, #2
 2275 006b 61 E8                   		 skz
 2276 006d EC 79 00 00             		 br	!!.L195
 2277                             	.LBB52:
 656:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 2278                             		.loc 1 656 0 is_stmt 1
 2279 0071 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2280                             	.LBE52:
 655:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 2281                             		.loc 1 655 0
 2282 0075 EC B0 00 00             		br	!!.L196
 2283                             	.L195:
 658:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2284                             		.loc 1 658 0
 2285 0079 8F 00 00                		mov	a, !_Leaf_No1_State
 2286 007c 9D F0                   		mov	r8, a
 2287 007e 4A F0 01                		cmp	r8, #1
 2288 0081 61 F8                   		 sknz
 2289 0083 EC B0 00 00             		 br	!!.L196
 658:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2290                             		.loc 1 658 0 is_stmt 0 discriminator 1
 2291 0087 8F 00 00                		mov	a, !_CFG_parameter+64
 2292 008a 9D F0                   		mov	r8, a
 2293 008c 4A F0 01                		cmp	r8, #1
 2294 008f 61 E8                   		 skz
 2295 0091 EC B0 00 00             		 br	!!.L196
 660:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 2296                             		.loc 1 660 0 is_stmt 1
 2297 0095 00                      		nop
 2298                             	.L197:
 660:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 2299                             		.loc 1 660 0 is_stmt 0 discriminator 1
 2300 0096 C9 F0 07 FF             		movw	r8, #-249
 2301 009a AD F0                   		movw	ax, r8
 2302 009c BD F2                   		movw	r10, ax
 2303 009e FA F2                   		movw	hl, r10
 2304 00a0 8B                      		mov	a, [hl]
 2305 00a1 9D F0                   		mov	r8, a
 2306 00a3 31 1A                   		shr	a, 1
 2307 00a5 9D F0                   		mov	r8, a
 2308 00a7 5A F0 01                		and	r8, #1
 2309 00aa 61 E8                   		skz
 2310 00ac EC 96 00 00             		 br	!!.L197
 2311                             		 # zero-comparison eliminated
 2312                             	.L196:
 663:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2313                             		.loc 1 663 0 is_stmt 1
 2314 00b0 EC 29 03 00             		br	!!.L187
 2315                             	.L192:
 667:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2316                             		.loc 1 667 0
 2317 00b4 8F 00 00                		mov	a, !_CFG_parameter+58
 2318 00b7 9D F0                   		mov	r8, a
 2319 00b9 D4 F0                   		cmp0	r8
 2320 00bb 61 F8                   		 sknz
 2321 00bd EC 5D 01 00             		 br	!!.L199
 2322                             	.LBB53:
 669:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 2323                             		.loc 1 669 0
 2324 00c1 51 06                   		mov	a, #6
 2325 00c3 9F 00 00                		mov	!_Leaf_No1_State, a
 670:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2326                             		.loc 1 670 0
 2327 00c6 51 06                   		mov	a, #6
 2328 00c8 9F 00 00                		mov	!_Leaf_No2_State, a
 671:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2329                             		.loc 1 671 0
 2330 00cb 8F 00 00                		mov	a, !_CFG_parameter+66
 2331 00ce 9D F0                   		mov	r8, a
 2332 00d0 4A F0 01                		cmp	r8, #1
 2333 00d3 61 E8                   		 skz
 2334 00d5 EC F9 00 00             		 br	!!.L200
 2335                             	.LBB54:
 673:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 2336                             		.loc 1 673 0
 2337 00d9 8F 00 00                		mov	a, !_CFG_parameter+1
 2338 00dc 9D F0                   		mov	r8, a
 2339 00de 4A F0 02                		cmp	r8, #2
 2340 00e1 61 E8                   		 skz
 2341 00e3 EC F2 00 00             		 br	!!.L201
 674:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2342                             		.loc 1 674 0
 2343 00e7 F6                      		clrw	ax
 2344 00e8 B8 00                   		movw	[sp], ax
 2345 00ea FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2346 00ee EC F9 00 00             		br	!!.L200
 2347                             	.L201:
 676:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2348                             		.loc 1 676 0
 2349 00f2 F6                      		clrw	ax
 2350 00f3 B8 00                   		movw	[sp], ax
 2351 00f5 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2352                             	.L200:
 2353                             	.LBE54:
 678:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2354                             		.loc 1 678 0
 2355 00f9 F6                      		clrw	ax
 2356 00fa B8 00                   		movw	[sp], ax
 2357 00fc FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 680:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2358                             		.loc 1 680 0
 2359 0100 8F 00 00                		mov	a, !_CFG_parameter+58
 2360 0103 9D F0                   		mov	r8, a
 2361 0105 4A F0 02                		cmp	r8, #2
 2362 0108 61 E3                   		 skh
 2363 010a EC 47 01 00             		 br	!!.L202
 682:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 2364                             		.loc 1 682 0
 2365 010e 00                      		nop
 2366                             	.L203:
 682:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 2367                             		.loc 1 682 0 is_stmt 0 discriminator 1
 2368 010f C9 F0 07 FF             		movw	r8, #-249
 2369 0113 AD F0                   		movw	ax, r8
 2370 0115 BD F2                   		movw	r10, ax
 2371 0117 FA F2                   		movw	hl, r10
 2372 0119 8B                      		mov	a, [hl]
 2373 011a 9D F0                   		mov	r8, a
 2374 011c 31 1A                   		shr	a, 1
 2375 011e 9D F0                   		mov	r8, a
 2376 0120 5A F0 01                		and	r8, #1
 2377 0123 61 E8                   		skz
 2378 0125 EC 0F 01 00             		 br	!!.L203
 2379                             		 # zero-comparison eliminated
 683:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2380                             		.loc 1 683 0 is_stmt 1
 2381 0129 8F 00 00                		mov	a, !_CFG_parameter+58
 2382 012c 9D F0                   		mov	r8, a
 2383 012e 4A F0 03                		cmp	r8, #3
 2384 0131 61 E8                   		 skz
 2385 0133 EC 3F 01 00             		 br	!!.L204
 2386                             	.LBB55:
 685:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2387                             		.loc 1 685 0
 2388 0137 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2389                             	.LBE55:
 2390 013b EC 5D 01 00             		br	!!.L199
 2391                             	.L204:
 2392                             	.LBB56:
 689:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2393                             		.loc 1 689 0
 2394 013f FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2395                             	.LBE56:
 2396                             	.LBE53:
 697:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2397                             		.loc 1 697 0
 2398 0143 EC 29 03 00             		br	!!.L187
 2399                             	.L202:
 2400                             	.LBB58:
 692:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2401                             		.loc 1 692 0
 2402 0147 8F 00 00                		mov	a, !_CFG_parameter+58
 2403 014a 9D F0                   		mov	r8, a
 2404 014c 4A F0 02                		cmp	r8, #2
 2405 014f 61 E8                   		 skz
 2406 0151 EC 5D 01 00             		 br	!!.L199
 2407                             	.LBB57:
 694:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2408                             		.loc 1 694 0
 2409 0155 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2410                             	.LBE57:
 2411                             	.LBE58:
 697:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2412                             		.loc 1 697 0
 2413 0159 EC 29 03 00             		br	!!.L187
 2414                             	.L199:
 697:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2415                             		.loc 1 697 0 is_stmt 0 discriminator 1
 2416 015d EC 29 03 00             		br	!!.L187
 2417                             	.L189:
 701:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2418                             		.loc 1 701 0 is_stmt 1
 2419 0161 8F 00 00                		mov	a, !_CFG_parameter+59
 2420 0164 9D F0                   		mov	r8, a
 2421 0166 D4 F0                   		cmp0	r8
 2422 0168 61 F8                   		 sknz
 2423 016a EC 0A 02 00             		 br	!!.L206
 2424                             	.LBB59:
 703:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 2425                             		.loc 1 703 0
 2426 016e 51 07                   		mov	a, #7
 2427 0170 9F 00 00                		mov	!_Leaf_No1_State, a
 704:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2428                             		.loc 1 704 0
 2429 0173 51 07                   		mov	a, #7
 2430 0175 9F 00 00                		mov	!_Leaf_No2_State, a
 705:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2431                             		.loc 1 705 0
 2432 0178 8F 00 00                		mov	a, !_CFG_parameter+66
 2433 017b 9D F0                   		mov	r8, a
 2434 017d 4A F0 01                		cmp	r8, #1
 2435 0180 61 E8                   		 skz
 2436 0182 EC A6 01 00             		 br	!!.L207
 2437                             	.LBB60:
 707:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 2438                             		.loc 1 707 0
 2439 0186 8F 00 00                		mov	a, !_CFG_parameter+1
 2440 0189 9D F0                   		mov	r8, a
 2441 018b 4A F0 02                		cmp	r8, #2
 2442 018e 61 E8                   		 skz
 2443 0190 EC 9F 01 00             		 br	!!.L208
 708:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2444                             		.loc 1 708 0
 2445 0194 E6                      		onew	ax
 2446 0195 B8 00                   		movw	[sp], ax
 2447 0197 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2448 019b EC A6 01 00             		br	!!.L207
 2449                             	.L208:
 710:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2450                             		.loc 1 710 0
 2451 019f E6                      		onew	ax
 2452 01a0 B8 00                   		movw	[sp], ax
 2453 01a2 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2454                             	.L207:
 2455                             	.LBE60:
 712:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2456                             		.loc 1 712 0
 2457 01a6 E6                      		onew	ax
 2458 01a7 B8 00                   		movw	[sp], ax
 2459 01a9 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 714:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2460                             		.loc 1 714 0
 2461 01ad 8F 00 00                		mov	a, !_CFG_parameter+59
 2462 01b0 9D F0                   		mov	r8, a
 2463 01b2 4A F0 02                		cmp	r8, #2
 2464 01b5 61 E3                   		 skh
 2465 01b7 EC F4 01 00             		 br	!!.L209
 716:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 2466                             		.loc 1 716 0
 2467 01bb 00                      		nop
 2468                             	.L210:
 716:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 2469                             		.loc 1 716 0 is_stmt 0 discriminator 1
 2470 01bc C9 F0 07 FF             		movw	r8, #-249
 2471 01c0 AD F0                   		movw	ax, r8
 2472 01c2 BD F2                   		movw	r10, ax
 2473 01c4 FA F2                   		movw	hl, r10
 2474 01c6 8B                      		mov	a, [hl]
 2475 01c7 9D F0                   		mov	r8, a
 2476 01c9 31 1A                   		shr	a, 1
 2477 01cb 9D F0                   		mov	r8, a
 2478 01cd 5A F0 01                		and	r8, #1
 2479 01d0 61 E8                   		skz
 2480 01d2 EC BC 01 00             		 br	!!.L210
 2481                             		 # zero-comparison eliminated
 717:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2482                             		.loc 1 717 0 is_stmt 1
 2483 01d6 8F 00 00                		mov	a, !_CFG_parameter+59
 2484 01d9 9D F0                   		mov	r8, a
 2485 01db 4A F0 03                		cmp	r8, #3
 2486 01de 61 E8                   		 skz
 2487 01e0 EC EC 01 00             		 br	!!.L211
 2488                             	.LBB61:
 719:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2489                             		.loc 1 719 0
 2490 01e4 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2491                             	.LBE61:
 2492 01e8 EC 0A 02 00             		br	!!.L206
 2493                             	.L211:
 2494                             	.LBB62:
 723:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2495                             		.loc 1 723 0
 2496 01ec FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2497                             	.LBE62:
 2498                             	.LBE59:
 731:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2499                             		.loc 1 731 0
 2500 01f0 EC 29 03 00             		br	!!.L187
 2501                             	.L209:
 2502                             	.LBB64:
 726:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2503                             		.loc 1 726 0
 2504 01f4 8F 00 00                		mov	a, !_CFG_parameter+59
 2505 01f7 9D F0                   		mov	r8, a
 2506 01f9 4A F0 02                		cmp	r8, #2
 2507 01fc 61 E8                   		 skz
 2508 01fe EC 0A 02 00             		 br	!!.L206
 2509                             	.LBB63:
 728:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2510                             		.loc 1 728 0
 2511 0202 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2512                             	.LBE63:
 2513                             	.LBE64:
 731:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2514                             		.loc 1 731 0
 2515 0206 EC 29 03 00             		br	!!.L187
 2516                             	.L206:
 731:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2517                             		.loc 1 731 0 is_stmt 0 discriminator 2
 2518 020a EC 29 03 00             		br	!!.L187
 2519                             	.L193:
 735:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2520                             		.loc 1 735 0 is_stmt 1
 2521 020e 8F 00 00                		mov	a, !_CFG_parameter+58
 2522 0211 9D F0                   		mov	r8, a
 2523 0213 D4 F0                   		cmp0	r8
 2524 0215 61 F8                   		 sknz
 2525 0217 EC 99 02 00             		 br	!!.L213
 2526                             	.LBB65:
 737:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2527                             		.loc 1 737 0
 2528 021b 51 08                   		mov	a, #8
 2529 021d 9F 00 00                		mov	!_Leaf_No1_State, a
 738:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2530                             		.loc 1 738 0
 2531 0220 8F 00 00                		mov	a, !_CFG_parameter+66
 2532 0223 9D F0                   		mov	r8, a
 2533 0225 4A F0 01                		cmp	r8, #1
 2534 0228 61 E8                   		 skz
 2535 022a EC 35 02 00             		 br	!!.L214
 2536                             	.LBB66:
 740:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2537                             		.loc 1 740 0
 2538 022e F6                      		clrw	ax
 2539 022f B8 00                   		movw	[sp], ax
 2540 0231 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2541                             	.L214:
 2542                             	.LBE66:
 742:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2543                             		.loc 1 742 0
 2544 0235 F6                      		clrw	ax
 2545 0236 B8 00                   		movw	[sp], ax
 2546 0238 FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 744:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2547                             		.loc 1 744 0
 2548 023c 8F 00 00                		mov	a, !_CFG_parameter+58
 2549 023f 9D F0                   		mov	r8, a
 2550 0241 4A F0 02                		cmp	r8, #2
 2551 0244 61 E3                   		 skh
 2552 0246 EC 83 02 00             		 br	!!.L215
 746:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 2553                             		.loc 1 746 0
 2554 024a 00                      		nop
 2555                             	.L216:
 746:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Opening == 0x03)		// Temporary Stop
 2556                             		.loc 1 746 0 is_stmt 0 discriminator 1
 2557 024b C9 F0 07 FF             		movw	r8, #-249
 2558 024f AD F0                   		movw	ax, r8
 2559 0251 BD F2                   		movw	r10, ax
 2560 0253 FA F2                   		movw	hl, r10
 2561 0255 8B                      		mov	a, [hl]
 2562 0256 9D F0                   		mov	r8, a
 2563 0258 31 1A                   		shr	a, 1
 2564 025a 9D F0                   		mov	r8, a
 2565 025c 5A F0 01                		and	r8, #1
 2566 025f 61 E8                   		skz
 2567 0261 EC 4B 02 00             		 br	!!.L216
 2568                             		 # zero-comparison eliminated
 747:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2569                             		.loc 1 747 0 is_stmt 1
 2570 0265 8F 00 00                		mov	a, !_CFG_parameter+58
 2571 0268 9D F0                   		mov	r8, a
 2572 026a 4A F0 03                		cmp	r8, #3
 2573 026d 61 E8                   		 skz
 2574 026f EC 7B 02 00             		 br	!!.L217
 2575                             	.LBB67:
 749:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2576                             		.loc 1 749 0
 2577 0273 FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 2578                             	.LBE67:
 2579 0277 EC 99 02 00             		br	!!.L213
 2580                             	.L217:
 2581                             	.LBB68:
 753:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2582                             		.loc 1 753 0
 2583 027b FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 2584                             	.LBE68:
 2585                             	.LBE65:
 761:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2586                             		.loc 1 761 0
 2587 027f EC 29 03 00             		br	!!.L187
 2588                             	.L215:
 2589                             	.LBB70:
 756:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2590                             		.loc 1 756 0
 2591 0283 8F 00 00                		mov	a, !_CFG_parameter+58
 2592 0286 9D F0                   		mov	r8, a
 2593 0288 4A F0 02                		cmp	r8, #2
 2594 028b 61 E8                   		 skz
 2595 028d EC 99 02 00             		 br	!!.L213
 2596                             	.LBB69:
 758:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2597                             		.loc 1 758 0
 2598 0291 FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 2599                             	.LBE69:
 2600                             	.LBE70:
 761:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2601                             		.loc 1 761 0
 2602 0295 EC 29 03 00             		br	!!.L187
 2603                             	.L213:
 761:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2604                             		.loc 1 761 0 is_stmt 0 discriminator 3
 2605 0299 EC 29 03 00             		br	!!.L187
 2606                             	.L194:
 765:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2607                             		.loc 1 765 0 is_stmt 1
 2608 029d 8F 00 00                		mov	a, !_CFG_parameter+59
 2609 02a0 9D F0                   		mov	r8, a
 2610 02a2 D4 F0                   		cmp0	r8
 2611 02a4 61 F8                   		 sknz
 2612 02a6 EC 28 03 00             		 br	!!.L219
 2613                             	.LBB71:
 767:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2614                             		.loc 1 767 0
 2615 02aa 51 07                   		mov	a, #7
 2616 02ac 9F 00 00                		mov	!_Leaf_No1_State, a
 768:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2617                             		.loc 1 768 0
 2618 02af 8F 00 00                		mov	a, !_CFG_parameter+66
 2619 02b2 9D F0                   		mov	r8, a
 2620 02b4 4A F0 01                		cmp	r8, #1
 2621 02b7 61 E8                   		 skz
 2622 02b9 EC C4 02 00             		 br	!!.L220
 2623                             	.LBB72:
 770:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2624                             		.loc 1 770 0
 2625 02bd E6                      		onew	ax
 2626 02be B8 00                   		movw	[sp], ax
 2627 02c0 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2628                             	.L220:
 2629                             	.LBE72:
 772:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2630                             		.loc 1 772 0
 2631 02c4 E6                      		onew	ax
 2632 02c5 B8 00                   		movw	[sp], ax
 2633 02c7 FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 774:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2634                             		.loc 1 774 0
 2635 02cb 8F 00 00                		mov	a, !_CFG_parameter+59
 2636 02ce 9D F0                   		mov	r8, a
 2637 02d0 4A F0 02                		cmp	r8, #2
 2638 02d3 61 E3                   		 skh
 2639 02d5 EC 12 03 00             		 br	!!.L221
 776:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 2640                             		.loc 1 776 0
 2641 02d9 00                      		nop
 2642                             	.L222:
 776:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT1_Mode_Closing == 0x03)	// Temporary Stop
 2643                             		.loc 1 776 0 is_stmt 0 discriminator 1
 2644 02da C9 F0 07 FF             		movw	r8, #-249
 2645 02de AD F0                   		movw	ax, r8
 2646 02e0 BD F2                   		movw	r10, ax
 2647 02e2 FA F2                   		movw	hl, r10
 2648 02e4 8B                      		mov	a, [hl]
 2649 02e5 9D F0                   		mov	r8, a
 2650 02e7 31 1A                   		shr	a, 1
 2651 02e9 9D F0                   		mov	r8, a
 2652 02eb 5A F0 01                		and	r8, #1
 2653 02ee 61 E8                   		skz
 2654 02f0 EC DA 02 00             		 br	!!.L222
 2655                             		 # zero-comparison eliminated
 777:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2656                             		.loc 1 777 0 is_stmt 1
 2657 02f4 8F 00 00                		mov	a, !_CFG_parameter+59
 2658 02f7 9D F0                   		mov	r8, a
 2659 02f9 4A F0 03                		cmp	r8, #3
 2660 02fc 61 E8                   		 skz
 2661 02fe EC 0A 03 00             		 br	!!.L223
 2662                             	.LBB73:
 779:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2663                             		.loc 1 779 0
 2664 0302 FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 2665                             	.LBE73:
 2666 0306 EC 28 03 00             		br	!!.L219
 2667                             	.L223:
 2668                             	.LBB74:
 783:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2669                             		.loc 1 783 0
 2670 030a FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 2671                             	.LBE74:
 2672                             	.LBE71:
 791:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2673                             		.loc 1 791 0
 2674 030e EC 28 03 00             		br	!!.L225
 2675                             	.L221:
 2676                             	.LBB76:
 786:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2677                             		.loc 1 786 0
 2678 0312 8F 00 00                		mov	a, !_CFG_parameter+59
 2679 0315 9D F0                   		mov	r8, a
 2680 0317 4A F0 02                		cmp	r8, #2
 2681 031a 61 E8                   		 skz
 2682 031c EC 28 03 00             		 br	!!.L219
 2683                             	.LBB75:
 788:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2684                             		.loc 1 788 0
 2685 0320 FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 2686                             	.LBE75:
 2687                             	.LBE76:
 791:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2688                             		.loc 1 791 0
 2689 0324 EC 28 03 00             		br	!!.L225
 2690                             	.L219:
 2691                             	.L225:
 2692 0328 00                      		nop
 2693                             	.L187:
 794:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 795:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 796:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 2694                             		.loc 1 796 0
 2695 0329 10 02                   		addw	sp, #2
 2696 032b D7                      		ret
 2697                             	.LFE13:
 2699                             		.section	.text.Photocell_FT2_Process,"ax",@progbits
 2700                             		.global	_Photocell_FT2_Process
 2702                             	_Photocell_FT2_Process:
 2703                             	.LFB14:
 797:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 798:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Photocell_FT2_Process (void)
 799:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 2704                             		.loc 1 799 0
 2705                             		; start of function
 2706                             		; outgoing: 2 bytes
 2707                             		; uses ES register
 2708 0000 20 02                   		subw	sp, #2
 2709                             	.LCFI10:
 800:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 2710                             		.loc 1 800 0
 2711 0002 8F 00 00                		mov	a, !_Machine_State
 2712 0005 9D F0                   		mov	r8, a
 2713 0007 F4 F1                   		clrb	r9
 2714 0009 AD F0                   		movw	ax, r8
 2715 000b 44 02 00                		cmpw	ax, #2
 2716 000e 61 F8                   		 sknz
 2717 0010 EC 5B 01 00             		 br	!!.L228
 2718 0014 AD F0                   		movw	ax, r8
 2719 0016 44 02 00                		cmpw	ax, #2
 2720 0019 71 FF                   		 xor1	CY, a.7
 2721 001b 61 F3                   		 sknh
 2722 001d EC 3B 00 00             		 br	!!.L229
 2723 0021 AD F0                   		movw	ax, r8
 2724 0023 44 00 00                		cmpw	ax, #0
 2725 0026 61 F8                   		 sknz
 2726 0028 EC 55 00 00             		 br	!!.L230
 2727 002c AD F0                   		movw	ax, r8
 2728 002e 44 01 00                		cmpw	ax, #1
 2729 0031 61 F8                   		 sknz
 2730 0033 EC B1 00 00             		 br	!!.L231
 801:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 802:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_STOP:
 803:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 804:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if ((Leaf_No1_State == GATE_STATE_CLOSED) && (CFG_parameter.Photocell_FT2_Mode_Closed == 0x02))
 805:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 806:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 807:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 808:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else if ((Leaf_No1_State != GATE_STATE_CLOSED) && (CFG_parameter.Close_Command_Enable_Photocell 
 809:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 810:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				while(FT2);
 811:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 812:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 813:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 814:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 815:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
 816:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 817:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT2_Mode_Opening != 0x00)
 818:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 819:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 820:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 821:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 822:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 823:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 824:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 825:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 826:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 827:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 828:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 829:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 830:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT2_Mode_Opening > 0x02)
 831:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 832:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT2);
 833:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 834:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 835:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Open_Gate();
 836:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 837:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else														//	Delayed Reverse
 838:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 839:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Close_Gate();
 840:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 841:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 842:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x02)		// Immediate Reverse
 843:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 844:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Close_Gate();
 845:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 846:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 847:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 848:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 849:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 850:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 851:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT2_Mode_Closing != 0x00)
 852:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 853:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 854:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 855:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 856:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 857:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Number_Of_Motors == 0x02)
 858:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 859:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 860:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 861:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 862:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 863:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 864:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT2_Mode_Closing > 0x02)
 865:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 866:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT2);
 867:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 868:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 869:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Close_Gate();
 870:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 871:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else	//Delayed Reverse
 872:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 873:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Open_Gate();
 874:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 875:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 876:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x02)	// Immediate Reverse
 877:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 878:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Open_Gate();
 879:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 880:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 881:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 882:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 883:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
 884:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 885:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT2_Mode_Opening != 0x00)
 886:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 887:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_PATIAL_OPENING_PAUSE;
 888:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 889:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 890:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 891:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 892:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 893:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 894:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT2_Mode_Opening > 0x02)
 895:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 896:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT2);
 897:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 898:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 899:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Open_Gate();
 900:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 901:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else														//	Delayed Reverse
 902:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 903:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Close_Gate();
 904:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 905:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 906:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x02)		// Immediate Reverse
 907:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 908:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Partial_Close_Gate();
 909:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 910:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 911:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 912:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 913:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
 914:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 915:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Photocell_FT2_Mode_Closing != 0x00)
 916:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 917:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 918:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 919:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 920:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 921:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 922:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 923:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 924:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_FT2_Mode_Closing > 0x02)
 925:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 926:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					while(FT2);
 927:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 928:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 929:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Close_Gate();
 930:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 931:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else	//Delayed Reverse
 932:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 933:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Partial_Open_Gate();
 934:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 935:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 936:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x02)	// Immediate Reverse
 937:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 938:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Partial_Open_Gate();
 939:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 940:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 941:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 942:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 943:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 2731                             		.loc 1 943 0
 2732 0037 EC 1A 03 00             		br	!!.L226
 2733                             	.L229:
 800:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch(Machine_State)
 2734                             		.loc 1 800 0
 2735 003b AD F0                   		movw	ax, r8
 2736 003d 44 03 00                		cmpw	ax, #3
 2737 0040 61 F8                   		 sknz
 2738 0042 EC 05 02 00             		 br	!!.L232
 2739 0046 AD F0                   		movw	ax, r8
 2740 0048 44 04 00                		cmpw	ax, #4
 2741 004b 61 F8                   		 sknz
 2742 004d EC 91 02 00             		 br	!!.L233
 2743                             		.loc 1 943 0
 2744 0051 EC 1A 03 00             		br	!!.L226
 2745                             	.L230:
 804:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2746                             		.loc 1 804 0
 2747 0055 8F 00 00                		mov	a, !_Leaf_No1_State
 2748 0058 9D F0                   		mov	r8, a
 2749 005a 4A F0 01                		cmp	r8, #1
 2750 005d 61 E8                   		 skz
 2751 005f EC 79 00 00             		 br	!!.L234
 804:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2752                             		.loc 1 804 0 is_stmt 0 discriminator 1
 2753 0063 8F 00 00                		mov	a, !_CFG_parameter+63
 2754 0066 9D F0                   		mov	r8, a
 2755 0068 4A F0 02                		cmp	r8, #2
 2756 006b 61 E8                   		 skz
 2757 006d EC 79 00 00             		 br	!!.L234
 2758                             	.LBB77:
 806:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 2759                             		.loc 1 806 0 is_stmt 1
 2760 0071 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2761                             	.LBE77:
 805:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Open_Gate();
 2762                             		.loc 1 805 0
 2763 0075 EC AD 00 00             		br	!!.L235
 2764                             	.L234:
 808:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2765                             		.loc 1 808 0
 2766 0079 8F 00 00                		mov	a, !_Leaf_No1_State
 2767 007c 9D F0                   		mov	r8, a
 2768 007e 4A F0 01                		cmp	r8, #1
 2769 0081 61 F8                   		 sknz
 2770 0083 EC AD 00 00             		 br	!!.L235
 808:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2771                             		.loc 1 808 0 is_stmt 0 discriminator 1
 2772 0087 8F 00 00                		mov	a, !_CFG_parameter+64
 2773 008a 9D F0                   		mov	r8, a
 2774 008c 4A F0 02                		cmp	r8, #2
 2775 008f 61 E8                   		 skz
 2776 0091 EC AD 00 00             		 br	!!.L235
 810:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 2777                             		.loc 1 810 0 is_stmt 1
 2778 0095 00                      		nop
 2779                             	.L236:
 810:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				// When the photocell gate FT1 is crossed, a close command is sent 6 seconds later.
 2780                             		.loc 1 810 0 is_stmt 0 discriminator 1
 2781 0096 C9 F0 07 FF             		movw	r8, #-249
 2782 009a AD F0                   		movw	ax, r8
 2783 009c BD F2                   		movw	r10, ax
 2784 009e EA F2                   		movw	de, r10
 2785 00a0 89                      		mov	a, [de]
 2786 00a1 5C 01                   		and	a, #1
 2787 00a3 9D F0                   		mov	r8, a
 2788 00a5 D4 F0                   		cmp0	r8
 2789 00a7 61 E8                   		 skz
 2790 00a9 EC 96 00 00             		 br	!!.L236
 2791                             	.L235:
 813:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2792                             		.loc 1 813 0 is_stmt 1
 2793 00ad EC 1A 03 00             		br	!!.L226
 2794                             	.L231:
 817:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2795                             		.loc 1 817 0
 2796 00b1 8F 00 00                		mov	a, !_CFG_parameter+61
 2797 00b4 9D F0                   		mov	r8, a
 2798 00b6 D4 F0                   		cmp0	r8
 2799 00b8 61 F8                   		 sknz
 2800 00ba EC 57 01 00             		 br	!!.L238
 2801                             	.LBB78:
 819:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 2802                             		.loc 1 819 0
 2803 00be 51 06                   		mov	a, #6
 2804 00c0 9F 00 00                		mov	!_Leaf_No1_State, a
 820:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2805                             		.loc 1 820 0
 2806 00c3 51 06                   		mov	a, #6
 2807 00c5 9F 00 00                		mov	!_Leaf_No2_State, a
 821:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2808                             		.loc 1 821 0
 2809 00c8 8F 00 00                		mov	a, !_CFG_parameter+66
 2810 00cb 9D F0                   		mov	r8, a
 2811 00cd 4A F0 01                		cmp	r8, #1
 2812 00d0 61 E8                   		 skz
 2813 00d2 EC F6 00 00             		 br	!!.L239
 2814                             	.LBB79:
 823:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 2815                             		.loc 1 823 0
 2816 00d6 8F 00 00                		mov	a, !_CFG_parameter+1
 2817 00d9 9D F0                   		mov	r8, a
 2818 00db 4A F0 02                		cmp	r8, #2
 2819 00de 61 E8                   		 skz
 2820 00e0 EC EF 00 00             		 br	!!.L240
 824:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2821                             		.loc 1 824 0
 2822 00e4 F6                      		clrw	ax
 2823 00e5 B8 00                   		movw	[sp], ax
 2824 00e7 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2825 00eb EC F6 00 00             		br	!!.L239
 2826                             	.L240:
 826:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2827                             		.loc 1 826 0
 2828 00ef F6                      		clrw	ax
 2829 00f0 B8 00                   		movw	[sp], ax
 2830 00f2 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2831                             	.L239:
 2832                             	.LBE79:
 828:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2833                             		.loc 1 828 0
 2834 00f6 F6                      		clrw	ax
 2835 00f7 B8 00                   		movw	[sp], ax
 2836 00f9 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 830:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2837                             		.loc 1 830 0
 2838 00fd 8F 00 00                		mov	a, !_CFG_parameter+61
 2839 0100 9D F0                   		mov	r8, a
 2840 0102 4A F0 02                		cmp	r8, #2
 2841 0105 61 E3                   		 skh
 2842 0107 EC 41 01 00             		 br	!!.L241
 832:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 2843                             		.loc 1 832 0
 2844 010b 00                      		nop
 2845                             	.L242:
 832:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 2846                             		.loc 1 832 0 is_stmt 0 discriminator 1
 2847 010c C9 F0 07 FF             		movw	r8, #-249
 2848 0110 AD F0                   		movw	ax, r8
 2849 0112 BD F2                   		movw	r10, ax
 2850 0114 EA F2                   		movw	de, r10
 2851 0116 89                      		mov	a, [de]
 2852 0117 5C 01                   		and	a, #1
 2853 0119 9D F0                   		mov	r8, a
 2854 011b D4 F0                   		cmp0	r8
 2855 011d 61 E8                   		 skz
 2856 011f EC 0C 01 00             		 br	!!.L242
 833:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2857                             		.loc 1 833 0 is_stmt 1
 2858 0123 8F 00 00                		mov	a, !_CFG_parameter+61
 2859 0126 9D F0                   		mov	r8, a
 2860 0128 4A F0 03                		cmp	r8, #3
 2861 012b 61 E8                   		 skz
 2862 012d EC 39 01 00             		 br	!!.L243
 2863                             	.LBB80:
 835:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2864                             		.loc 1 835 0
 2865 0131 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2866                             	.LBE80:
 2867 0135 EC 57 01 00             		br	!!.L238
 2868                             	.L243:
 2869                             	.LBB81:
 839:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2870                             		.loc 1 839 0
 2871 0139 FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2872                             	.LBE81:
 2873                             	.LBE78:
 847:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2874                             		.loc 1 847 0
 2875 013d EC 1A 03 00             		br	!!.L226
 2876                             	.L241:
 2877                             	.LBB83:
 842:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2878                             		.loc 1 842 0
 2879 0141 8F 00 00                		mov	a, !_CFG_parameter+61
 2880 0144 9D F0                   		mov	r8, a
 2881 0146 4A F0 02                		cmp	r8, #2
 2882 0149 61 E8                   		 skz
 2883 014b EC 57 01 00             		 br	!!.L238
 2884                             	.LBB82:
 844:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2885                             		.loc 1 844 0
 2886 014f FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2887                             	.LBE82:
 2888                             	.LBE83:
 847:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2889                             		.loc 1 847 0
 2890 0153 EC 1A 03 00             		br	!!.L226
 2891                             	.L238:
 847:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2892                             		.loc 1 847 0 is_stmt 0 discriminator 1
 2893 0157 EC 1A 03 00             		br	!!.L226
 2894                             	.L228:
 851:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2895                             		.loc 1 851 0 is_stmt 1
 2896 015b 8F 00 00                		mov	a, !_CFG_parameter+62
 2897 015e 9D F0                   		mov	r8, a
 2898 0160 D4 F0                   		cmp0	r8
 2899 0162 61 F8                   		 sknz
 2900 0164 EC 01 02 00             		 br	!!.L245
 2901                             	.LBB84:
 853:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 2902                             		.loc 1 853 0
 2903 0168 51 07                   		mov	a, #7
 2904 016a 9F 00 00                		mov	!_Leaf_No1_State, a
 854:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 2905                             		.loc 1 854 0
 2906 016d 51 07                   		mov	a, #7
 2907 016f 9F 00 00                		mov	!_Leaf_No2_State, a
 855:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2908                             		.loc 1 855 0
 2909 0172 8F 00 00                		mov	a, !_CFG_parameter+66
 2910 0175 9D F0                   		mov	r8, a
 2911 0177 4A F0 01                		cmp	r8, #1
 2912 017a 61 E8                   		 skz
 2913 017c EC A0 01 00             		 br	!!.L246
 2914                             	.LBB85:
 857:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 						__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 2915                             		.loc 1 857 0
 2916 0180 8F 00 00                		mov	a, !_CFG_parameter+1
 2917 0183 9D F0                   		mov	r8, a
 2918 0185 4A F0 02                		cmp	r8, #2
 2919 0188 61 E8                   		 skz
 2920 018a EC 99 01 00             		 br	!!.L247
 858:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					else
 2921                             		.loc 1 858 0
 2922 018e E6                      		onew	ax
 2923 018f B8 00                   		movw	[sp], ax
 2924 0191 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 2925 0195 EC A0 01 00             		br	!!.L246
 2926                             	.L247:
 860:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2927                             		.loc 1 860 0
 2928 0199 E6                      		onew	ax
 2929 019a B8 00                   		movw	[sp], ax
 2930 019c FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 2931                             	.L246:
 2932                             	.LBE85:
 862:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2933                             		.loc 1 862 0
 2934 01a0 E6                      		onew	ax
 2935 01a1 B8 00                   		movw	[sp], ax
 2936 01a3 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 864:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2937                             		.loc 1 864 0
 2938 01a7 8F 00 00                		mov	a, !_CFG_parameter+62
 2939 01aa 9D F0                   		mov	r8, a
 2940 01ac 4A F0 02                		cmp	r8, #2
 2941 01af 61 E3                   		 skh
 2942 01b1 EC EB 01 00             		 br	!!.L248
 866:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 2943                             		.loc 1 866 0
 2944 01b5 00                      		nop
 2945                             	.L249:
 866:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 2946                             		.loc 1 866 0 is_stmt 0 discriminator 1
 2947 01b6 C9 F0 07 FF             		movw	r8, #-249
 2948 01ba AD F0                   		movw	ax, r8
 2949 01bc BD F2                   		movw	r10, ax
 2950 01be EA F2                   		movw	de, r10
 2951 01c0 89                      		mov	a, [de]
 2952 01c1 5C 01                   		and	a, #1
 2953 01c3 9D F0                   		mov	r8, a
 2954 01c5 D4 F0                   		cmp0	r8
 2955 01c7 61 E8                   		 skz
 2956 01c9 EC B6 01 00             		 br	!!.L249
 867:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 2957                             		.loc 1 867 0 is_stmt 1
 2958 01cd 8F 00 00                		mov	a, !_CFG_parameter+62
 2959 01d0 9D F0                   		mov	r8, a
 2960 01d2 4A F0 03                		cmp	r8, #3
 2961 01d5 61 E8                   		 skz
 2962 01d7 EC E3 01 00             		 br	!!.L250
 2963                             	.LBB86:
 869:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2964                             		.loc 1 869 0
 2965 01db FC 00 00 00             		call	!!%code(___Do_Close_Gate)
 2966                             	.LBE86:
 2967 01df EC 01 02 00             		br	!!.L245
 2968                             	.L250:
 2969                             	.LBB87:
 873:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 2970                             		.loc 1 873 0
 2971 01e3 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2972                             	.LBE87:
 2973                             	.LBE84:
 881:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2974                             		.loc 1 881 0
 2975 01e7 EC 1A 03 00             		br	!!.L226
 2976                             	.L248:
 2977                             	.LBB89:
 876:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 2978                             		.loc 1 876 0
 2979 01eb 8F 00 00                		mov	a, !_CFG_parameter+62
 2980 01ee 9D F0                   		mov	r8, a
 2981 01f0 4A F0 02                		cmp	r8, #2
 2982 01f3 61 E8                   		 skz
 2983 01f5 EC 01 02 00             		 br	!!.L245
 2984                             	.LBB88:
 878:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 2985                             		.loc 1 878 0
 2986 01f9 FC 00 00 00             		call	!!%code(___Do_Open_Gate)
 2987                             	.LBE88:
 2988                             	.LBE89:
 881:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2989                             		.loc 1 881 0
 2990 01fd EC 1A 03 00             		br	!!.L226
 2991                             	.L245:
 881:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 2992                             		.loc 1 881 0 is_stmt 0 discriminator 2
 2993 0201 EC 1A 03 00             		br	!!.L226
 2994                             	.L232:
 885:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 2995                             		.loc 1 885 0 is_stmt 1
 2996 0205 8F 00 00                		mov	a, !_CFG_parameter+61
 2997 0208 9D F0                   		mov	r8, a
 2998 020a D4 F0                   		cmp0	r8
 2999 020c 61 F8                   		 sknz
 3000 020e EC 8D 02 00             		 br	!!.L252
 3001                             	.LBB90:
 887:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 3002                             		.loc 1 887 0
 3003 0212 51 08                   		mov	a, #8
 3004 0214 9F 00 00                		mov	!_Leaf_No1_State, a
 888:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3005                             		.loc 1 888 0
 3006 0217 8F 00 00                		mov	a, !_CFG_parameter+66
 3007 021a 9D F0                   		mov	r8, a
 3008 021c 4A F0 01                		cmp	r8, #1
 3009 021f 61 E8                   		 skz
 3010 0221 EC 2C 02 00             		 br	!!.L253
 3011                             	.LBB91:
 890:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 3012                             		.loc 1 890 0
 3013 0225 F6                      		clrw	ax
 3014 0226 B8 00                   		movw	[sp], ax
 3015 0228 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3016                             	.L253:
 3017                             	.LBE91:
 892:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3018                             		.loc 1 892 0
 3019 022c F6                      		clrw	ax
 3020 022d B8 00                   		movw	[sp], ax
 3021 022f FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 894:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3022                             		.loc 1 894 0
 3023 0233 8F 00 00                		mov	a, !_CFG_parameter+61
 3024 0236 9D F0                   		mov	r8, a
 3025 0238 4A F0 02                		cmp	r8, #2
 3026 023b 61 E3                   		 skh
 3027 023d EC 77 02 00             		 br	!!.L254
 896:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 3028                             		.loc 1 896 0
 3029 0241 00                      		nop
 3030                             	.L255:
 896:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Opening == 0x03)		// Temporary Stop
 3031                             		.loc 1 896 0 is_stmt 0 discriminator 1
 3032 0242 C9 F0 07 FF             		movw	r8, #-249
 3033 0246 AD F0                   		movw	ax, r8
 3034 0248 BD F2                   		movw	r10, ax
 3035 024a EA F2                   		movw	de, r10
 3036 024c 89                      		mov	a, [de]
 3037 024d 5C 01                   		and	a, #1
 3038 024f 9D F0                   		mov	r8, a
 3039 0251 D4 F0                   		cmp0	r8
 3040 0253 61 E8                   		 skz
 3041 0255 EC 42 02 00             		 br	!!.L255
 897:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 3042                             		.loc 1 897 0 is_stmt 1
 3043 0259 8F 00 00                		mov	a, !_CFG_parameter+61
 3044 025c 9D F0                   		mov	r8, a
 3045 025e 4A F0 03                		cmp	r8, #3
 3046 0261 61 E8                   		 skz
 3047 0263 EC 6F 02 00             		 br	!!.L256
 3048                             	.LBB92:
 899:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 3049                             		.loc 1 899 0
 3050 0267 FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 3051                             	.LBE92:
 3052 026b EC 8D 02 00             		br	!!.L252
 3053                             	.L256:
 3054                             	.LBB93:
 903:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 3055                             		.loc 1 903 0
 3056 026f FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 3057                             	.LBE93:
 3058                             	.LBE90:
 911:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3059                             		.loc 1 911 0
 3060 0273 EC 1A 03 00             		br	!!.L226
 3061                             	.L254:
 3062                             	.LBB95:
 906:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3063                             		.loc 1 906 0
 3064 0277 8F 00 00                		mov	a, !_CFG_parameter+61
 3065 027a 9D F0                   		mov	r8, a
 3066 027c 4A F0 02                		cmp	r8, #2
 3067 027f 61 E8                   		 skz
 3068 0281 EC 8D 02 00             		 br	!!.L252
 3069                             	.LBB94:
 908:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 3070                             		.loc 1 908 0
 3071 0285 FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 3072                             	.LBE94:
 3073                             	.LBE95:
 911:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3074                             		.loc 1 911 0
 3075 0289 EC 1A 03 00             		br	!!.L226
 3076                             	.L252:
 911:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3077                             		.loc 1 911 0 is_stmt 0 discriminator 3
 3078 028d EC 1A 03 00             		br	!!.L226
 3079                             	.L233:
 915:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3080                             		.loc 1 915 0 is_stmt 1
 3081 0291 8F 00 00                		mov	a, !_CFG_parameter+62
 3082 0294 9D F0                   		mov	r8, a
 3083 0296 D4 F0                   		cmp0	r8
 3084 0298 61 F8                   		 sknz
 3085 029a EC 19 03 00             		 br	!!.L258
 3086                             	.LBB96:
 917:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Photocell_Enable_Braking == 0x01)
 3087                             		.loc 1 917 0
 3088 029e 51 07                   		mov	a, #7
 3089 02a0 9F 00 00                		mov	!_Leaf_No1_State, a
 918:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3090                             		.loc 1 918 0
 3091 02a3 8F 00 00                		mov	a, !_CFG_parameter+66
 3092 02a6 9D F0                   		mov	r8, a
 3093 02a8 4A F0 01                		cmp	r8, #1
 3094 02ab 61 E8                   		 skz
 3095 02ad EC B8 02 00             		 br	!!.L259
 3096                             	.LBB97:
 920:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 3097                             		.loc 1 920 0
 3098 02b1 E6                      		onew	ax
 3099 02b2 B8 00                   		movw	[sp], ax
 3100 02b4 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3101                             	.L259:
 3102                             	.LBE97:
 922:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3103                             		.loc 1 922 0
 3104 02b8 E6                      		onew	ax
 3105 02b9 B8 00                   		movw	[sp], ax
 3106 02bb FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 924:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3107                             		.loc 1 924 0
 3108 02bf 8F 00 00                		mov	a, !_CFG_parameter+62
 3109 02c2 9D F0                   		mov	r8, a
 3110 02c4 4A F0 02                		cmp	r8, #2
 3111 02c7 61 E3                   		 skh
 3112 02c9 EC 03 03 00             		 br	!!.L260
 926:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 3113                             		.loc 1 926 0
 3114 02cd 00                      		nop
 3115                             	.L261:
 926:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					if (CFG_parameter.Photocell_FT2_Mode_Closing == 0x03)	// Temporary Stop
 3116                             		.loc 1 926 0 is_stmt 0 discriminator 1
 3117 02ce C9 F0 07 FF             		movw	r8, #-249
 3118 02d2 AD F0                   		movw	ax, r8
 3119 02d4 BD F2                   		movw	r10, ax
 3120 02d6 EA F2                   		movw	de, r10
 3121 02d8 89                      		mov	a, [de]
 3122 02d9 5C 01                   		and	a, #1
 3123 02db 9D F0                   		mov	r8, a
 3124 02dd D4 F0                   		cmp0	r8
 3125 02df 61 E8                   		 skz
 3126 02e1 EC CE 02 00             		 br	!!.L261
 927:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					{
 3127                             		.loc 1 927 0 is_stmt 1
 3128 02e5 8F 00 00                		mov	a, !_CFG_parameter+62
 3129 02e8 9D F0                   		mov	r8, a
 3130 02ea 4A F0 03                		cmp	r8, #3
 3131 02ed 61 E8                   		 skz
 3132 02ef EC FB 02 00             		 br	!!.L262
 3133                             	.LBB98:
 929:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 3134                             		.loc 1 929 0
 3135 02f3 FC 00 00 00             		call	!!%code(___Do_Partial_Close_Gate)
 3136                             	.LBE98:
 3137 02f7 EC 19 03 00             		br	!!.L258
 3138                             	.L262:
 3139                             	.LBB99:
 933:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					}
 3140                             		.loc 1 933 0
 3141 02fb FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 3142                             	.LBE99:
 3143                             	.LBE96:
 941:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3144                             		.loc 1 941 0
 3145 02ff EC 19 03 00             		br	!!.L264
 3146                             	.L260:
 3147                             	.LBB101:
 936:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
 3148                             		.loc 1 936 0
 3149 0303 8F 00 00                		mov	a, !_CFG_parameter+62
 3150 0306 9D F0                   		mov	r8, a
 3151 0308 4A F0 02                		cmp	r8, #2
 3152 030b 61 E8                   		 skz
 3153 030d EC 19 03 00             		 br	!!.L258
 3154                             	.LBB100:
 938:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
 3155                             		.loc 1 938 0
 3156 0311 FC 00 00 00             		call	!!%code(___Do_Partial_Open_Gate)
 3157                             	.LBE100:
 3158                             	.LBE101:
 941:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3159                             		.loc 1 941 0
 3160 0315 EC 19 03 00             		br	!!.L264
 3161                             	.L258:
 3162                             	.L264:
 3163 0319 00                      		nop
 3164                             	.L226:
 944:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 945:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3165                             		.loc 1 945 0
 3166 031a 10 02                   		addw	sp, #2
 3167 031c D7                      		ret
 3168                             	.LFE14:
 3170                             		.section	.text.Sensing_Edge_COS1_Process,"ax",@progbits
 3171                             		.global	_Sensing_Edge_COS1_Process
 3173                             	_Sensing_Edge_COS1_Process:
 3174                             	.LFB15:
 946:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 947:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Sensing_Edge_COS1_Process (void)
 948:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3175                             		.loc 1 948 0
 949:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 950:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3176                             		.loc 1 950 0
 3177 0000 D7                      		ret
 3178                             	.LFE15:
 3180                             		.section	.text.Sensing_Edge_COS2_Process,"ax",@progbits
 3181                             		.global	_Sensing_Edge_COS2_Process
 3183                             	_Sensing_Edge_COS2_Process:
 3184                             	.LFB16:
 951:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 952:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Sensing_Edge_COS2_Process (void)
 953:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3185                             		.loc 1 953 0
 954:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 955:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3186                             		.loc 1 955 0
 3187 0000 D7                      		ret
 3188                             	.LFE16:
 3190                             		.section	.text.Emergency_Stop_Process,"ax",@progbits
 3191                             		.global	_Emergency_Stop_Process
 3193                             	_Emergency_Stop_Process:
 3194                             	.LFB17:
 956:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 957:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Emergency_Stop_Process (void)
 958:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3195                             		.loc 1 958 0
 3196                             		; start of function
 3197                             		; outgoing: 2 bytes
 3198                             		; uses ES register
 3199 0000 20 02                   		subw	sp, #2
 3200                             	.LCFI11:
 959:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	if (CFG_parameter.Stop_Command_Enable_Braking == 0x01)
 3201                             		.loc 1 959 0
 3202 0002 8F 00 00                		mov	a, !_CFG_parameter+67
 3203 0005 9D F0                   		mov	r8, a
 3204 0007 4A F0 01                		cmp	r8, #1
 3205 000a 61 E8                   		 skz
 3206 000c EC B3 00 00             		 br	!!.L268
 960:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 961:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		switch (Machine_State)
 3207                             		.loc 1 961 0
 3208 0010 8F 00 00                		mov	a, !_Machine_State
 3209 0013 9D F0                   		mov	r8, a
 3210 0015 F4 F1                   		clrb	r9
 3211 0017 AD F0                   		movw	ax, r8
 3212 0019 44 02 00                		cmpw	ax, #2
 3213 001c 61 F8                   		 sknz
 3214 001e EC 7C 00 00             		 br	!!.L270
 3215 0022 AD F0                   		movw	ax, r8
 3216 0024 44 02 00                		cmpw	ax, #2
 3217 0027 71 FF                   		 xor1	CY, a.7
 3218 0029 61 F3                   		 sknh
 3219 002b EC 3E 00 00             		 br	!!.L271
 3220 002f AD F0                   		movw	ax, r8
 3221 0031 44 01 00                		cmpw	ax, #1
 3222 0034 61 F8                   		 sknz
 3223 0036 EC 58 00 00             		 br	!!.L272
 962:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 963:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_OPENING:
 964:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 965:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Number_Of_Motors == 0x02)
 966:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 967:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 968:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 969:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 970:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 971:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 972:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (CFG_parameter.Number_Of_Motors == 0x02)
 973:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 974:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 975:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 976:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 977:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 978:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 979:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
 980:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 981:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
 982:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 983:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
 984:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 985:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			default: break;
 3224                             		.loc 1 985 0
 3225 003a EC B3 00 00             		br	!!.L268
 3226                             	.L271:
 961:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 3227                             		.loc 1 961 0
 3228 003e AD F0                   		movw	ax, r8
 3229 0040 44 03 00                		cmpw	ax, #3
 3230 0043 61 F8                   		 sknz
 3231 0045 EC A0 00 00             		 br	!!.L273
 3232 0049 AD F0                   		movw	ax, r8
 3233 004b 44 04 00                		cmpw	ax, #4
 3234 004e 61 F8                   		 sknz
 3235 0050 EC AB 00 00             		 br	!!.L274
 3236                             		.loc 1 985 0
 3237 0054 EC B3 00 00             		br	!!.L268
 3238                             	.L272:
 3239                             	.LBB102:
 965:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(OPEN_MOVING_DIRECTION);
 3240                             		.loc 1 965 0
 3241 0058 8F 00 00                		mov	a, !_CFG_parameter+1
 3242 005b 9D F0                   		mov	r8, a
 3243 005d 4A F0 02                		cmp	r8, #2
 3244 0060 61 E8                   		 skz
 3245 0062 EC 71 00 00             		 br	!!.L275
 966:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 3246                             		.loc 1 966 0
 3247 0066 F6                      		clrw	ax
 3248 0067 B8 00                   		movw	[sp], ax
 3249 0069 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 3250                             	.LBE102:
 969:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 3251                             		.loc 1 969 0
 3252 006d EC B3 00 00             		br	!!.L268
 3253                             	.L275:
 3254                             	.LBB103:
 968:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 3255                             		.loc 1 968 0
 3256 0071 F6                      		clrw	ax
 3257 0072 B8 00                   		movw	[sp], ax
 3258 0074 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3259                             	.LBE103:
 969:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_NORMAL_CLOSING:
 3260                             		.loc 1 969 0
 3261 0078 EC B3 00 00             		br	!!.L268
 3262                             	.L270:
 3263                             	.LBB104:
 972:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					__Do_Brake_Motor_Type_2(CLOSE_MOVING_DIRECTION);
 3264                             		.loc 1 972 0
 3265 007c 8F 00 00                		mov	a, !_CFG_parameter+1
 3266 007f 9D F0                   		mov	r8, a
 3267 0081 4A F0 02                		cmp	r8, #2
 3268 0084 61 E8                   		 skz
 3269 0086 EC 95 00 00             		 br	!!.L277
 973:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
 3270                             		.loc 1 973 0
 3271 008a E6                      		onew	ax
 3272 008b B8 00                   		movw	[sp], ax
 3273 008d FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_2)
 3274                             	.LBE104:
 976:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 3275                             		.loc 1 976 0
 3276 0091 EC B3 00 00             		br	!!.L268
 3277                             	.L277:
 3278                             	.LBB105:
 975:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 3279                             		.loc 1 975 0
 3280 0095 E6                      		onew	ax
 3281 0096 B8 00                   		movw	[sp], ax
 3282 0098 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3283                             	.LBE105:
 976:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_OPENING:
 3284                             		.loc 1 976 0
 3285 009c EC B3 00 00             		br	!!.L268
 3286                             	.L273:
 3287                             	.LBB106:
 979:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 3288                             		.loc 1 979 0
 3289 00a0 F6                      		clrw	ax
 3290 00a1 B8 00                   		movw	[sp], ax
 3291 00a3 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3292                             	.LBE106:
 980:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			case MACHINE_STATE_PARTIAL_CLOSING:
 3293                             		.loc 1 980 0
 3294 00a7 EC B3 00 00             		br	!!.L268
 3295                             	.L274:
 3296                             	.LBB107:
 983:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			} break;
 3297                             		.loc 1 983 0
 3298 00ab E6                      		onew	ax
 3299 00ac B8 00                   		movw	[sp], ax
 3300 00ae FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3301                             	.LBE107:
 984:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			default: break;
 3302                             		.loc 1 984 0
 3303 00b2 00                      		nop
 3304                             	.L268:
 986:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
 987:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 988:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 989:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3305                             		.loc 1 989 0
 3306 00b3 8F 00 00                		mov	a, !_Machine_State
 3307 00b6 9D F0                   		mov	r8, a
 3308 00b8 F4 F1                   		clrb	r9
 3309 00ba AD F0                   		movw	ax, r8
 3310 00bc 44 02 00                		cmpw	ax, #2
 3311 00bf 61 F8                   		 sknz
 3312 00c1 EC 10 01 00             		 br	!!.L280
 3313 00c5 AD F0                   		movw	ax, r8
 3314 00c7 44 02 00                		cmpw	ax, #2
 3315 00ca 71 FF                   		 xor1	CY, a.7
 3316 00cc 61 F3                   		 sknh
 3317 00ce EC E1 00 00             		 br	!!.L281
 3318 00d2 AD F0                   		movw	ax, r8
 3319 00d4 44 01 00                		cmpw	ax, #1
 3320 00d7 61 F8                   		 sknz
 3321 00d9 EC FB 00 00             		 br	!!.L282
 990:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 991:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
 992:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 993:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 994:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 995:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 996:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 997:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 998:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
 999:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1000:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
1001:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
1002:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1003:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
1004:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1005:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
1006:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
1007:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1008:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
1009:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1010:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
1011:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
1012:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1013:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3322                             		.loc 1 1013 0
 3323 00dd EC 42 01 00             		br	!!.L267
 3324                             	.L281:
 989:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
 3325                             		.loc 1 989 0
 3326 00e1 AD F0                   		movw	ax, r8
 3327 00e3 44 03 00                		cmpw	ax, #3
 3328 00e6 61 F8                   		 sknz
 3329 00e8 EC 25 01 00             		 br	!!.L283
 3330 00ec AD F0                   		movw	ax, r8
 3331 00ee 44 04 00                		cmpw	ax, #4
 3332 00f1 61 F8                   		 sknz
 3333 00f3 EC 35 01 00             		 br	!!.L284
 3334                             		.loc 1 1013 0
 3335 00f7 EC 42 01 00             		br	!!.L267
 3336                             	.L282:
 3337                             	.LBB108:
 993:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 3338                             		.loc 1 993 0
 3339 00fb 51 06                   		mov	a, #6
 3340 00fd 9F 00 00                		mov	!_Leaf_No1_State, a
 994:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 3341                             		.loc 1 994 0
 3342 0100 51 06                   		mov	a, #6
 3343 0102 9F 00 00                		mov	!_Leaf_No2_State, a
 995:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 3344                             		.loc 1 995 0
 3345 0105 F6                      		clrw	ax
 3346 0106 B8 00                   		movw	[sp], ax
 3347 0108 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 3348                             	.LBE108:
 996:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
 3349                             		.loc 1 996 0
 3350 010c EC 42 01 00             		br	!!.L267
 3351                             	.L280:
 3352                             	.LBB109:
 999:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 3353                             		.loc 1 999 0
 3354 0110 51 07                   		mov	a, #7
 3355 0112 9F 00 00                		mov	!_Leaf_No1_State, a
1000:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 3356                             		.loc 1 1000 0
 3357 0115 51 07                   		mov	a, #7
 3358 0117 9F 00 00                		mov	!_Leaf_No2_State, a
1001:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 3359                             		.loc 1 1001 0
 3360 011a E6                      		onew	ax
 3361 011b B8 00                   		movw	[sp], ax
 3362 011d FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 3363                             	.LBE109:
1002:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
 3364                             		.loc 1 1002 0
 3365 0121 EC 42 01 00             		br	!!.L267
 3366                             	.L283:
 3367                             	.LBB110:
1005:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 3368                             		.loc 1 1005 0
 3369 0125 51 06                   		mov	a, #6
 3370 0127 9F 00 00                		mov	!_Leaf_No1_State, a
1006:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 3371                             		.loc 1 1006 0
 3372 012a F6                      		clrw	ax
 3373 012b B8 00                   		movw	[sp], ax
 3374 012d FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 3375                             	.LBE110:
1007:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
 3376                             		.loc 1 1007 0
 3377 0131 EC 42 01 00             		br	!!.L267
 3378                             	.L284:
 3379                             	.LBB111:
1010:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 3380                             		.loc 1 1010 0
 3381 0135 51 07                   		mov	a, #7
 3382 0137 9F 00 00                		mov	!_Leaf_No1_State, a
1011:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
 3383                             		.loc 1 1011 0
 3384 013a E6                      		onew	ax
 3385 013b B8 00                   		movw	[sp], ax
 3386 013d FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 3387                             	.LBE111:
1012:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3388                             		.loc 1 1012 0
 3389 0141 00                      		nop
 3390                             	.L267:
1014:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
1015:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3391                             		.loc 1 1015 0
 3392 0142 10 02                   		addw	sp, #2
 3393 0144 D7                      		ret
 3394                             	.LFE17:
 3396                             		.section	.text.Open_Limit_Switch_No1_Process,"ax",@progbits
 3397                             		.global	_Open_Limit_Switch_No1_Process
 3399                             	_Open_Limit_Switch_No1_Process:
 3400                             	.LFB18:
1016:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1017:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Open_Limit_Switch_No1_Process (void)
1018:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3401                             		.loc 1 1018 0
 3402                             		; start of function
 3403                             		; outgoing: 2 bytes
 3404                             		; uses ES register
 3405 0000 20 02                   		subw	sp, #2
 3406                             	.LCFI12:
1019:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3407                             		.loc 1 1019 0
 3408 0002 8F 00 00                		mov	a, !_Machine_State
 3409 0005 9D F0                   		mov	r8, a
 3410 0007 F4 F1                   		clrb	r9
 3411 0009 AD F0                   		movw	ax, r8
 3412 000b 44 02 00                		cmpw	ax, #2
 3413 000e 61 F8                   		 sknz
 3414 0010 EC 9C 00 00             		 br	!!.L296
 3415 0014 AD F0                   		movw	ax, r8
 3416 0016 44 02 00                		cmpw	ax, #2
 3417 0019 71 FF                   		 xor1	CY, a.7
 3418 001b 61 F3                   		 sknh
 3419 001d EC 30 00 00             		 br	!!.L289
 3420 0021 AD F0                   		movw	ax, r8
 3421 0023 44 01 00                		cmpw	ax, #1
 3422 0026 61 F8                   		 sknz
 3423 0028 EC 4A 00 00             		 br	!!.L290
1020:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
1021:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
1022:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1023:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M1_Timestamp = UNDEFINE_TIMESTAMP;
1024:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
1025:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENED;
1026:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1027:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1028:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1029:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
1030:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1031:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1032:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1033:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
1034:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1035:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			// Do Nothing
1036:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1037:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1038:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
1039:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1040:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M1_Timestamp = UNDEFINE_TIMESTAMP;
1041:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
1042:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_PARTIAL;
1043:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1044:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1045:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1046:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(OPEN_MOVING_DIRECTION);
1047:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1048:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1049:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1050:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
1051:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1052:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			// Do Nothing
1053:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1054:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3424                             		.loc 1 1054 0
 3425 002c EC A2 00 00             		br	!!.L286
 3426                             	.L289:
1019:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3427                             		.loc 1 1019 0
 3428 0030 AD F0                   		movw	ax, r8
 3429 0032 44 03 00                		cmpw	ax, #3
 3430 0035 61 F8                   		 sknz
 3431 0037 EC 73 00 00             		 br	!!.L291
 3432 003b AD F0                   		movw	ax, r8
 3433 003d 44 04 00                		cmpw	ax, #4
 3434 0040 61 F8                   		 sknz
 3435 0042 EC A1 00 00             		 br	!!.L297
 3436                             		.loc 1 1054 0
 3437 0046 EC A2 00 00             		br	!!.L286
 3438                             	.L290:
 3439                             	.LBB112:
1023:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
 3440                             		.loc 1 1023 0
 3441 004a F5 00 00                		clrb	!_M1_Timestamp
1024:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_OPENED;
 3442                             		.loc 1 1024 0
 3443 004d FC 00 00 00             		call	!!%code(_Motor1_Disable)
1025:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3444                             		.loc 1 1025 0
 3445 0051 51 03                   		mov	a, #3
 3446 0053 9F 00 00                		mov	!_Leaf_No1_State, a
1027:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3447                             		.loc 1 1027 0
 3448 0056 8F 00 00                		mov	a, !_CFG_parameter+65
 3449 0059 9D F0                   		mov	r8, a
 3450 005b 4A F0 01                		cmp	r8, #1
 3451 005e 61 E8                   		 skz
 3452 0060 EC 6F 00 00             		 br	!!.L293
 3453                             	.LBB113:
1029:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3454                             		.loc 1 1029 0
 3455 0064 F6                      		clrw	ax
 3456 0065 B8 00                   		movw	[sp], ax
 3457 0067 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3458                             	.LBE113:
 3459                             	.LBE112:
1031:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3460                             		.loc 1 1031 0
 3461 006b EC A2 00 00             		br	!!.L286
 3462                             	.L293:
 3463 006f EC A2 00 00             		br	!!.L286
 3464                             	.L291:
 3465                             	.LBB114:
1040:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
 3466                             		.loc 1 1040 0
 3467 0073 F5 00 00                		clrb	!_M1_Timestamp
1041:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_PARTIAL;
 3468                             		.loc 1 1041 0
 3469 0076 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1042:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3470                             		.loc 1 1042 0
 3471 007a 51 05                   		mov	a, #5
 3472 007c 9F 00 00                		mov	!_Leaf_No1_State, a
1044:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3473                             		.loc 1 1044 0
 3474 007f 8F 00 00                		mov	a, !_CFG_parameter+65
 3475 0082 9D F0                   		mov	r8, a
 3476 0084 4A F0 01                		cmp	r8, #1
 3477 0087 61 E8                   		 skz
 3478 0089 EC 98 00 00             		 br	!!.L295
 3479                             	.LBB115:
1046:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3480                             		.loc 1 1046 0
 3481 008d F6                      		clrw	ax
 3482 008e B8 00                   		movw	[sp], ax
 3483 0090 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3484                             	.LBE115:
 3485                             	.LBE114:
1048:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3486                             		.loc 1 1048 0
 3487 0094 EC A2 00 00             		br	!!.L286
 3488                             	.L295:
 3489 0098 EC A2 00 00             		br	!!.L286
 3490                             	.L296:
1036:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3491                             		.loc 1 1036 0
 3492 009c 00                      		nop
 3493 009d EC A2 00 00             		br	!!.L286
 3494                             	.L297:
1053:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3495                             		.loc 1 1053 0
 3496 00a1 00                      		nop
 3497                             	.L286:
1055:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
1056:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3498                             		.loc 1 1056 0
 3499 00a2 10 02                   		addw	sp, #2
 3500 00a4 D7                      		ret
 3501                             	.LFE18:
 3503                             		.section	.text.Open_Limit_Switch_No2_Process,"ax",@progbits
 3504                             		.global	_Open_Limit_Switch_No2_Process
 3506                             	_Open_Limit_Switch_No2_Process:
 3507                             	.LFB19:
1057:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1058:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Open_Limit_Switch_No2_Process (void)
1059:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3508                             		.loc 1 1059 0
 3509                             		; start of function
 3510                             		; outgoing: 2 bytes
 3511                             		; uses ES register
 3512 0000 20 02                   		subw	sp, #2
 3513                             	.LCFI13:
1060:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3514                             		.loc 1 1060 0
 3515 0002 8F 00 00                		mov	a, !_Machine_State
 3516 0005 9D F0                   		mov	r8, a
 3517 0007 F4 F1                   		clrb	r9
 3518 0009 AD F0                   		movw	ax, r8
 3519 000b 44 01 00                		cmpw	ax, #1
 3520 000e 61 F8                   		 sknz
 3521 0010 EC 18 00 00             		 br	!!.L300
1061:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
1062:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
1063:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1064:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M2_Timestamp = UNDEFINE_TIMESTAMP;
1065:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor2_Disable();
1066:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENED;
1067:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1068:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1069:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1070:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_3(OPEN_MOVING_DIRECTION);
1071:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1072:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1073:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1074:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
1075:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
1076:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
1077:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3522                             		.loc 1 1077 0
 3523 0014 EC 3E 00 00             		br	!!.L298
 3524                             	.L300:
 3525                             	.LBB116:
1064:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor2_Disable();
 3526                             		.loc 1 1064 0
 3527 0018 F5 00 00                		clrb	!_M2_Timestamp
1065:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_OPENED;
 3528                             		.loc 1 1065 0
 3529 001b FC 00 00 00             		call	!!%code(_Motor2_Disable)
1066:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3530                             		.loc 1 1066 0
 3531 001f 51 03                   		mov	a, #3
 3532 0021 9F 00 00                		mov	!_Leaf_No2_State, a
1068:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3533                             		.loc 1 1068 0
 3534 0024 8F 00 00                		mov	a, !_CFG_parameter+65
 3535 0027 9D F0                   		mov	r8, a
 3536 0029 4A F0 01                		cmp	r8, #1
 3537 002c 61 E8                   		 skz
 3538 002e EC 3D 00 00             		 br	!!.L301
 3539                             	.LBB117:
1070:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3540                             		.loc 1 1070 0
 3541 0032 F6                      		clrw	ax
 3542 0033 B8 00                   		movw	[sp], ax
 3543 0035 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_3)
 3544                             	.LBE117:
 3545                             	.LBE116:
1072:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3546                             		.loc 1 1072 0
 3547 0039 EC 3D 00 00             		br	!!.L303
 3548                             	.L301:
 3549                             	.L303:
 3550 003d 00                      		nop
 3551                             	.L298:
1078:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
1079:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1080:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3552                             		.loc 1 1080 0
 3553 003e 10 02                   		addw	sp, #2
 3554 0040 D7                      		ret
 3555                             	.LFE19:
 3557                             		.section	.text.Close_Limit_Switch_No1_Process,"ax",@progbits
 3558                             		.global	_Close_Limit_Switch_No1_Process
 3560                             	_Close_Limit_Switch_No1_Process:
 3561                             	.LFB20:
1081:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1082:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Close_Limit_Switch_No1_Process (void)
1083:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3562                             		.loc 1 1083 0
 3563                             		; start of function
 3564                             		; outgoing: 2 bytes
 3565                             		; uses ES register
 3566 0000 20 02                   		subw	sp, #2
 3567                             	.LCFI14:
1084:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3568                             		.loc 1 1084 0
 3569 0002 8F 00 00                		mov	a, !_Machine_State
 3570 0005 9D F0                   		mov	r8, a
 3571 0007 F4 F1                   		clrb	r9
 3572 0009 AD F0                   		movw	ax, r8
 3573 000b 44 02 00                		cmpw	ax, #2
 3574 000e 61 F8                   		 sknz
 3575 0010 EC 41 00 00             		 br	!!.L306
 3576 0014 AD F0                   		movw	ax, r8
 3577 0016 44 02 00                		cmpw	ax, #2
 3578 0019 71 FF                   		 xor1	CY, a.7
 3579 001b 61 F3                   		 sknh
 3580 001d EC 30 00 00             		 br	!!.L307
 3581 0021 AD F0                   		movw	ax, r8
 3582 0023 44 01 00                		cmpw	ax, #1
 3583 0026 61 F8                   		 sknz
 3584 0028 EC 8F 00 00             		 br	!!.L314
1085:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
1086:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
1087:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1088:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1089:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1090:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
1091:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1092:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M1_Timestamp = UNDEFINE_TIMESTAMP;
1093:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
1094:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSED;
1095:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1096:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1097:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1098:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
1099:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1100:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1101:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1102:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
1103:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1104:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
1105:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1106:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M1_Timestamp = UNDEFINE_TIMESTAMP;
1107:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
1108:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSED;
1109:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1110:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1111:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1112:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_1(CLOSE_MOVING_DIRECTION);
1113:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1114:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1115:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1116:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3585                             		.loc 1 1116 0
 3586 002c EC 94 00 00             		br	!!.L315
 3587                             	.L307:
1084:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3588                             		.loc 1 1084 0
 3589 0030 AD F0                   		movw	ax, r8
 3590 0032 44 04 00                		cmpw	ax, #4
 3591 0035 71 FF                   		 xor1	CY, a.7
 3592 0037 61 F3                   		 sknh
 3593 0039 EC 94 00 00             		 br	!!.L315
 3594 003d EC 68 00 00             		br	!!.L313
 3595                             	.L306:
 3596                             	.LBB118:
1092:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
 3597                             		.loc 1 1092 0
 3598 0041 F5 00 00                		clrb	!_M1_Timestamp
1093:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSED;
 3599                             		.loc 1 1093 0
 3600 0044 FC 00 00 00             		call	!!%code(_Motor1_Disable)
1094:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3601                             		.loc 1 1094 0
 3602 0048 E5 00 00                		oneb	!_Leaf_No1_State
1096:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3603                             		.loc 1 1096 0
 3604 004b 8F 00 00                		mov	a, !_CFG_parameter+65
 3605 004e 9D F0                   		mov	r8, a
 3606 0050 4A F0 01                		cmp	r8, #1
 3607 0053 61 E8                   		 skz
 3608 0055 EC 64 00 00             		 br	!!.L311
 3609                             	.LBB119:
1098:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3610                             		.loc 1 1098 0
 3611 0059 E6                      		onew	ax
 3612 005a B8 00                   		movw	[sp], ax
 3613 005c FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3614                             	.LBE119:
 3615                             	.LBE118:
1100:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3616                             		.loc 1 1100 0
 3617 0060 EC 95 00 00             		br	!!.L304
 3618                             	.L311:
 3619 0064 EC 95 00 00             		br	!!.L304
 3620                             	.L313:
 3621                             	.LBB120:
1106:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor1_Disable();
 3622                             		.loc 1 1106 0
 3623 0068 F5 00 00                		clrb	!_M1_Timestamp
1107:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No1_State = GATE_STATE_CLOSED;
 3624                             		.loc 1 1107 0
 3625 006b FC 00 00 00             		call	!!%code(_Motor1_Disable)
1108:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3626                             		.loc 1 1108 0
 3627 006f E5 00 00                		oneb	!_Leaf_No1_State
1110:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3628                             		.loc 1 1110 0
 3629 0072 8F 00 00                		mov	a, !_CFG_parameter+65
 3630 0075 9D F0                   		mov	r8, a
 3631 0077 4A F0 01                		cmp	r8, #1
 3632 007a 61 E8                   		 skz
 3633 007c EC 8B 00 00             		 br	!!.L312
 3634                             	.LBB121:
1112:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3635                             		.loc 1 1112 0
 3636 0080 E6                      		onew	ax
 3637 0081 B8 00                   		movw	[sp], ax
 3638 0083 FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_1)
 3639                             	.LBE121:
 3640                             	.LBE120:
1114:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3641                             		.loc 1 1114 0
 3642 0087 EC 95 00 00             		br	!!.L304
 3643                             	.L312:
 3644 008b EC 95 00 00             		br	!!.L304
 3645                             	.L314:
1088:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3646                             		.loc 1 1088 0
 3647 008f 00                      		nop
 3648 0090 EC 95 00 00             		br	!!.L304
 3649                             	.L315:
 3650                             		.loc 1 1116 0
 3651 0094 00                      		nop
 3652                             	.L304:
1117:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
1118:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3653                             		.loc 1 1118 0
 3654 0095 10 02                   		addw	sp, #2
 3655 0097 D7                      		ret
 3656                             	.LFE20:
 3658                             		.section	.text.Close_Limit_Switch_No2_Process,"ax",@progbits
 3659                             		.global	_Close_Limit_Switch_No2_Process
 3661                             	_Close_Limit_Switch_No2_Process:
 3662                             	.LFB21:
1119:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1120:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Close_Limit_Switch_No2_Process (void)
1121:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3663                             		.loc 1 1121 0
 3664                             		; start of function
 3665                             		; outgoing: 2 bytes
 3666                             		; uses ES register
 3667 0000 20 02                   		subw	sp, #2
 3668                             	.LCFI15:
1122:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	switch (Machine_State)
 3669                             		.loc 1 1122 0
 3670 0002 8F 00 00                		mov	a, !_Machine_State
 3671 0005 9D F0                   		mov	r8, a
 3672 0007 F4 F1                   		clrb	r9
 3673 0009 AD F0                   		movw	ax, r8
 3674 000b 44 01 00                		cmpw	ax, #1
 3675 000e 61 F8                   		 sknz
 3676 0010 EC 4A 00 00             		 br	!!.L322
 3677 0014 AD F0                   		movw	ax, r8
 3678 0016 44 02 00                		cmpw	ax, #2
 3679 0019 61 F8                   		 sknz
 3680 001b EC 23 00 00             		 br	!!.L319
1123:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
1124:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_OPENING:
1125:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1126:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1127:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1128:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1129:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_NORMAL_CLOSING:
1130:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1131:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			M2_Timestamp = UNDEFINE_TIMESTAMP;
1132:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor2_Disable();
1133:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSED;
1134:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1135:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (CFG_parameter.Limit_Switch_Enable_Braking == 0x01)
1136:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1137:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Brake_Motor_Type_3(CLOSE_MOVING_DIRECTION);
1138:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1139:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		} break;
1140:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1141:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_OPENING:
1142:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		case MACHINE_STATE_PARTIAL_CLOSING:
1143:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		default: break;
 3681                             		.loc 1 1143 0
 3682 001f EC 4B 00 00             		br	!!.L316
 3683                             	.L319:
 3684                             	.LBB122:
1131:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Motor2_Disable();
 3685                             		.loc 1 1131 0
 3686 0023 F5 00 00                		clrb	!_M2_Timestamp
1132:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Leaf_No2_State = GATE_STATE_CLOSED;
 3687                             		.loc 1 1132 0
 3688 0026 FC 00 00 00             		call	!!%code(_Motor2_Disable)
1133:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3689                             		.loc 1 1133 0
 3690 002a E5 00 00                		oneb	!_Leaf_No2_State
1135:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
 3691                             		.loc 1 1135 0
 3692 002d 8F 00 00                		mov	a, !_CFG_parameter+65
 3693 0030 9D F0                   		mov	r8, a
 3694 0032 4A F0 01                		cmp	r8, #1
 3695 0035 61 E8                   		 skz
 3696 0037 EC 46 00 00             		 br	!!.L321
 3697                             	.LBB123:
1137:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
 3698                             		.loc 1 1137 0
 3699 003b E6                      		onew	ax
 3700 003c B8 00                   		movw	[sp], ax
 3701 003e FC 00 00 00             		call	!!%code(___Do_Brake_Motor_Type_3)
 3702                             	.LBE123:
 3703                             	.LBE122:
1139:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3704                             		.loc 1 1139 0
 3705 0042 EC 4B 00 00             		br	!!.L316
 3706                             	.L321:
 3707 0046 EC 4B 00 00             		br	!!.L316
 3708                             	.L322:
1127:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
 3709                             		.loc 1 1127 0
 3710 004a 00                      		nop
 3711                             	.L316:
1144:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
1145:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** }
 3712                             		.loc 1 1145 0
 3713 004b 10 02                   		addw	sp, #2
 3714 004d D7                      		ret
 3715                             	.LFE21:
 3717                             		.section	.text.Normal_Mode,"ax",@progbits
 3718                             		.global	_Normal_Mode
 3720                             	_Normal_Mode:
 3721                             	.LFB22:
1146:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** void Normal_Mode(void)
1147:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** {
 3722                             		.loc 1 1147 0
 3723                             		; start of function
 3724                             		; outgoing: 2 bytes
 3725                             		; uses ES register
 3726 0000 20 02                   		subw	sp, #2
 3727                             	.LCFI16:
 3728                             	.L378:
1148:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1149:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	while (1U)
1150:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	{
1151:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1152:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code test
1153:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//Led SC sang khi cong mo
1154:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (Leaf_No1_State != GATE_STATE_CLOSED)
 3729                             		.loc 1 1154 0
 3730 0002 8F 00 00                		mov	a, !_Leaf_No1_State
 3731 0005 9D F0                   		mov	r8, a
 3732 0007 4A F0 01                		cmp	r8, #1
 3733 000a 61 F8                   		 sknz
 3734 000c EC 2B 00 00             		 br	!!.L324
1155:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1156:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			SC_EN = 1;
 3735                             		.loc 1 1156 0
 3736 0010 C9 F0 02 FF             		movw	r8, #-254
 3737 0014 AD F0                   		movw	ax, r8
 3738 0016 BD F4                   		movw	r12, ax
 3739 0018 FA F4                   		movw	hl, r12
 3740 001a 8B                      		mov	a, [hl]
 3741 001b 9D F2                   		mov	r10, a
 3742 001d 6A F2 80                		or	r10, #-128
 3743 0020 AD F0                   		movw	ax, r8
 3744 0022 EA F4                   		movw	de, r12
 3745 0024 8D F2                   		mov	a, r10
 3746 0026 99                      		mov	[de], a
 3747 0027 EC 42 00 00             		br	!!.L325
 3748                             	.L324:
1157:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1158:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		else
1159:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1160:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			SC_EN = 0;
 3749                             		.loc 1 1160 0
 3750 002b C9 F0 02 FF             		movw	r8, #-254
 3751 002f AD F0                   		movw	ax, r8
 3752 0031 BD F4                   		movw	r12, ax
 3753 0033 FA F4                   		movw	hl, r12
 3754 0035 8B                      		mov	a, [hl]
 3755 0036 9D F2                   		mov	r10, a
 3756 0038 5A F2 7F                		and	r10, #127
 3757 003b AD F0                   		movw	ax, r8
 3758 003d EA F4                   		movw	de, r12
 3759 003f 8D F2                   		mov	a, r10
 3760 0041 99                      		mov	[de], a
 3761                             	.L325:
1161:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1162:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code test
1163:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1164:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1165:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A2]
1166:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//neu 2 cua da mo hoan toan, bat dau kiem tra tham so tu dong dong cua
1167:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if(((Leaf_No1_State == GATE_STATE_OPENED) && (Leaf_No2_State == GATE_STATE_OPENED) && (CFG_parame
 3762                             		.loc 1 1167 0
 3763 0042 8F 00 00                		mov	a, !_Leaf_No1_State
 3764 0045 9D F0                   		mov	r8, a
 3765 0047 4A F0 03                		cmp	r8, #3
 3766 004a 61 E8                   		 skz
 3767 004c EC 6C 00 00             		 br	!!.L326
 3768                             		.loc 1 1167 0 is_stmt 0 discriminator 1
 3769 0050 8F 00 00                		mov	a, !_Leaf_No2_State
 3770 0053 9D F0                   		mov	r8, a
 3771 0055 4A F0 03                		cmp	r8, #3
 3772 0058 61 E8                   		 skz
 3773 005a EC 6C 00 00             		 br	!!.L326
 3774                             		.loc 1 1167 0 discriminator 2
 3775 005e 8F 00 00                		mov	a, !_CFG_parameter+1
 3776 0061 9D F0                   		mov	r8, a
 3777 0063 4A F0 02                		cmp	r8, #2
 3778 0066 61 F8                   		 sknz
 3779 0068 EC 88 00 00             		 br	!!.L327
 3780                             	.L326:
1168:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			|| ((Leaf_No1_State == GATE_STATE_OPENED) && (CFG_parameter.Number_Of_Motors == 0x01) ))
 3781                             		.loc 1 1168 0 is_stmt 1
 3782 006c 8F 00 00                		mov	a, !_Leaf_No1_State
 3783 006f 9D F0                   		mov	r8, a
 3784 0071 4A F0 03                		cmp	r8, #3
 3785 0074 61 E8                   		 skz
 3786 0076 EC F3 00 00             		 br	!!.L328
 3787                             		.loc 1 1168 0 is_stmt 0 discriminator 1
 3788 007a 8F 00 00                		mov	a, !_CFG_parameter+1
 3789 007d 9D F0                   		mov	r8, a
 3790 007f 4A F0 01                		cmp	r8, #1
 3791 0082 61 E8                   		 skz
 3792 0084 EC F3 00 00             		 br	!!.L328
 3793                             	.L327:
1169:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1170:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if(CFG_parameter.Auto_Close_After_OPen != 0x00)
 3794                             		.loc 1 1170 0 is_stmt 1
 3795 0088 8F 00 00                		mov	a, !_CFG_parameter+30
 3796 008b 9D F0                   		mov	r8, a
 3797 008d D4 F0                   		cmp0	r8
 3798 008f 61 F8                   		 sknz
 3799 0091 EC C1 00 00             		 br	!!.L329
1171:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1172:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if(Automatic_Close_Flag != CFG_parameter.Auto_Close_After_OPen)
 3800                             		.loc 1 1172 0
 3801 0095 8F 00 00                		mov	a, !_CFG_parameter+30
 3802 0098 9D F0                   		mov	r8, a
 3803 009a 31 8E                   		shrw	ax, 8
 3804 009c BD F2                   		movw	r10, ax
 3805 009e AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3806 00a1 BD F0                   		movw	r8, ax
 3807 00a3 AD F2                   		movw	ax, r10
 3808 00a5 46 F0                   		cmpw	ax, r8
 3809 00a7 61 F8                   		 sknz
 3810 00a9 EC F3 00 00             		 br	!!.L328
1173:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
1174:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Automatic_Close_Flag = CFG_parameter.Auto_Close_After_OPen;
 3811                             		.loc 1 1174 0
 3812 00ad 8F 00 00                		mov	a, !_CFG_parameter+30
 3813 00b0 9D F0                   		mov	r8, a
 3814 00b2 F4 F1                   		clrb	r9
 3815 00b4 AD F0                   		movw	ax, r8
 3816 00b6 BF 00 00                		movw	!_Automatic_Close_Flag, ax
1175:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Automatic_Close_Count = 0;
 3817                             		.loc 1 1175 0
 3818 00b9 F6                      		clrw	ax
 3819 00ba BF 00 00                		movw	!_Automatic_Close_Count, ax
 3820 00bd EC F3 00 00             		br	!!.L328
 3821                             	.L329:
1176:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
1177:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1178:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else if(((CFG_parameter.Step_Mode == 0x01) || (CFG_parameter.Step_Mode == 0x02)))
 3822                             		.loc 1 1178 0
 3823 00c1 8F 00 00                		mov	a, !_CFG_parameter+35
 3824 00c4 9D F0                   		mov	r8, a
 3825 00c6 4A F0 01                		cmp	r8, #1
 3826 00c9 61 F8                   		 sknz
 3827 00cb EC DD 00 00             		 br	!!.L331
 3828                             		.loc 1 1178 0 is_stmt 0 discriminator 1
 3829 00cf 8F 00 00                		mov	a, !_CFG_parameter+35
 3830 00d2 9D F0                   		mov	r8, a
 3831 00d4 4A F0 02                		cmp	r8, #2
 3832 00d7 61 E8                   		 skz
 3833 00d9 EC F3 00 00             		 br	!!.L328
 3834                             	.L331:
1179:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1180:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if(Automatic_Close_Flag != 0x01)
 3835                             		.loc 1 1180 0 is_stmt 1
 3836 00dd AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3837 00e0 BD F0                   		movw	r8, ax
 3838 00e2 44 01 00                		cmpw	ax, #1
 3839 00e5 61 F8                   		 sknz
 3840 00e7 EC F3 00 00             		 br	!!.L328
1181:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
1182:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Automatic_Close_Flag = 0x01;
 3841                             		.loc 1 1182 0
 3842 00eb E6                      		onew	ax
 3843 00ec BF 00 00                		movw	!_Automatic_Close_Flag, ax
1183:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Automatic_Close_Count = 0;
 3844                             		.loc 1 1183 0
 3845 00ef F6                      		clrw	ax
 3846 00f0 BF 00 00                		movw	!_Automatic_Close_Count, ax
 3847                             	.L328:
1184:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
1185:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1186:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1187:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1188:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [21]
1189:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//kiem tra so lan tu dong dong cua va thoi gian troi qua
1190:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if((Automatic_Close_Flag > 0) && (Automatic_Close_Count > CFG_parameter.Automatic_Closing_Time) &
 3848                             		.loc 1 1190 0
 3849 00f3 AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3850 00f6 BD F0                   		movw	r8, ax
 3851 00f8 44 00 00                		cmpw	ax, #0
 3852 00fb 61 F8                   		 sknz
 3853 00fd EC 66 01 00             		 br	!!.L332
 3854                             		.loc 1 1190 0 is_stmt 0 discriminator 1
 3855 0101 AF 00 00                		movw	ax, !_CFG_parameter+32
 3856 0104 BD F2                   		movw	r10, ax
 3857 0106 AF 00 00                		movw	ax, !_Automatic_Close_Count
 3858 0109 BD F0                   		movw	r8, ax
 3859 010b AD F2                   		movw	ax, r10
 3860 010d 46 F0                   		cmpw	ax, r8
 3861 010f 61 C8                   		 skc
 3862 0111 EC 66 01 00             		 br	!!.L332
 3863                             		.loc 1 1190 0 discriminator 2
 3864 0115 8F 00 00                		mov	a, !_Machine_State
 3865 0118 9D F0                   		mov	r8, a
 3866 011a D4 F0                   		cmp0	r8
 3867 011c 61 E8                   		 skz
 3868 011e EC 66 01 00             		 br	!!.L332
 3869                             		.loc 1 1190 0 discriminator 3
 3870 0122 8F 00 00                		mov	a, !_Leaf_No1_State
 3871 0125 9D F0                   		mov	r8, a
 3872 0127 4A F0 01                		cmp	r8, #1
 3873 012a 61 F8                   		 sknz
 3874 012c EC 66 01 00             		 br	!!.L332
1191:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1192:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if(Automatic_Close_Flag <= 15)
 3875                             		.loc 1 1192 0 is_stmt 1
 3876 0130 AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3877 0133 BD F0                   		movw	r8, ax
 3878 0135 44 0F 00                		cmpw	ax, #15
 3879 0138 61 F3                   		 sknh
 3880 013a EC 4E 01 00             		 br	!!.L333
1193:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1194:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Automatic_Close_Flag--;
 3881                             		.loc 1 1194 0
 3882 013e AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3883 0141 BD F0                   		movw	r8, ax
 3884 0143 B6 F0                   		decw	r8
 3885 0145 AD F0                   		movw	ax, r8
 3886 0147 BF 00 00                		movw	!_Automatic_Close_Flag, ax
 3887 014a EC 62 01 00             		br	!!.L334
 3888                             	.L333:
1195:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1196:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else if(Automatic_Close_Flag == 99)
 3889                             		.loc 1 1196 0
 3890 014e AF 00 00                		movw	ax, !_Automatic_Close_Flag
 3891 0151 BD F0                   		movw	r8, ax
 3892 0153 44 63 00                		cmpw	ax, #99
 3893 0156 61 E8                   		 skz
 3894 0158 EC 62 01 00             		 br	!!.L334
1197:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1198:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Automatic_Close_Flag = 16;
 3895                             		.loc 1 1198 0
 3896 015c 30 10 00                		movw	ax, #16
 3897 015f BF 00 00                		movw	!_Automatic_Close_Flag, ax
 3898                             	.L334:
1199:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1200:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Close_Command_Process();
 3899                             		.loc 1 1200 0
 3900 0162 FC 00 00 00             		call	!!%code(_Close_Command_Process)
 3901                             	.L332:
1201:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1202:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [21] end
1203:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A2] end
1204:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1205:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//  Normally Open Stop
1206:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (((Leaf_No1_State == GATE_STATE_OPENED) && (CFG_parameter.Number_Of_Motors == 0x01) && (Machin
 3902                             		.loc 1 1206 0
 3903 0166 8F 00 00                		mov	a, !_Leaf_No1_State
 3904 0169 9D F0                   		mov	r8, a
 3905 016b 4A F0 03                		cmp	r8, #3
 3906 016e 61 E8                   		 skz
 3907 0170 EC 90 01 00             		 br	!!.L335
 3908                             		.loc 1 1206 0 is_stmt 0 discriminator 1
 3909 0174 8F 00 00                		mov	a, !_CFG_parameter+1
 3910 0177 9D F0                   		mov	r8, a
 3911 0179 4A F0 01                		cmp	r8, #1
 3912 017c 61 E8                   		 skz
 3913 017e EC 90 01 00             		 br	!!.L335
 3914                             		.loc 1 1206 0 discriminator 2
 3915 0182 8F 00 00                		mov	a, !_Machine_State
 3916 0185 9D F0                   		mov	r8, a
 3917 0187 4A F0 01                		cmp	r8, #1
 3918 018a 61 F8                   		 sknz
 3919 018c EC C8 01 00             		 br	!!.L336
 3920                             	.L335:
1207:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			|| ((Leaf_No1_State == GATE_STATE_OPENED) && (Leaf_No2_State == GATE_STATE_OPENED) && (CFG_param
 3921                             		.loc 1 1207 0 is_stmt 1
 3922 0190 8F 00 00                		mov	a, !_Leaf_No1_State
 3923 0193 9D F0                   		mov	r8, a
 3924 0195 4A F0 03                		cmp	r8, #3
 3925 0198 61 E8                   		 skz
 3926 019a EC CF 01 00             		 br	!!.L337
 3927                             		.loc 1 1207 0 is_stmt 0 discriminator 1
 3928 019e 8F 00 00                		mov	a, !_Leaf_No2_State
 3929 01a1 9D F0                   		mov	r8, a
 3930 01a3 4A F0 03                		cmp	r8, #3
 3931 01a6 61 E8                   		 skz
 3932 01a8 EC CF 01 00             		 br	!!.L337
 3933                             		.loc 1 1207 0 discriminator 2
 3934 01ac 8F 00 00                		mov	a, !_CFG_parameter+1
 3935 01af 9D F0                   		mov	r8, a
 3936 01b1 4A F0 02                		cmp	r8, #2
 3937 01b4 61 E8                   		 skz
 3938 01b6 EC CF 01 00             		 br	!!.L337
 3939                             		.loc 1 1207 0 discriminator 3
 3940 01ba 8F 00 00                		mov	a, !_Machine_State
 3941 01bd 9D F0                   		mov	r8, a
 3942 01bf 4A F0 01                		cmp	r8, #1
 3943 01c2 61 E8                   		 skz
 3944 01c4 EC CF 01 00             		 br	!!.L337
 3945                             	.L336:
 3946                             	.LBB124:
1208:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1209:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 3947                             		.loc 1 1209 0 is_stmt 1
 3948 01c8 F6                      		clrw	ax
 3949 01c9 B8 00                   		movw	[sp], ax
 3950 01cb FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 3951                             	.L337:
 3952                             	.LBE124:
1210:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1211:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1212:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//  Normally Close Stop
1213:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (((Leaf_No1_State == GATE_STATE_CLOSED) && (CFG_parameter.Number_Of_Motors == 0x01) && (Machin
 3953                             		.loc 1 1213 0
 3954 01cf 8F 00 00                		mov	a, !_Leaf_No1_State
 3955 01d2 9D F0                   		mov	r8, a
 3956 01d4 4A F0 01                		cmp	r8, #1
 3957 01d7 61 E8                   		 skz
 3958 01d9 EC F9 01 00             		 br	!!.L338
 3959                             		.loc 1 1213 0 is_stmt 0 discriminator 1
 3960 01dd 8F 00 00                		mov	a, !_CFG_parameter+1
 3961 01e0 9D F0                   		mov	r8, a
 3962 01e2 4A F0 01                		cmp	r8, #1
 3963 01e5 61 E8                   		 skz
 3964 01e7 EC F9 01 00             		 br	!!.L338
 3965                             		.loc 1 1213 0 discriminator 2
 3966 01eb 8F 00 00                		mov	a, !_Machine_State
 3967 01ee 9D F0                   		mov	r8, a
 3968 01f0 4A F0 02                		cmp	r8, #2
 3969 01f3 61 F8                   		 sknz
 3970 01f5 EC 31 02 00             		 br	!!.L339
 3971                             	.L338:
1214:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			|| ((Leaf_No1_State == GATE_STATE_CLOSED) && (Leaf_No2_State == GATE_STATE_CLOSED) && (CFG_param
 3972                             		.loc 1 1214 0 is_stmt 1
 3973 01f9 8F 00 00                		mov	a, !_Leaf_No1_State
 3974 01fc 9D F0                   		mov	r8, a
 3975 01fe 4A F0 01                		cmp	r8, #1
 3976 0201 61 E8                   		 skz
 3977 0203 EC 38 02 00             		 br	!!.L340
 3978                             		.loc 1 1214 0 is_stmt 0 discriminator 1
 3979 0207 8F 00 00                		mov	a, !_Leaf_No2_State
 3980 020a 9D F0                   		mov	r8, a
 3981 020c 4A F0 01                		cmp	r8, #1
 3982 020f 61 E8                   		 skz
 3983 0211 EC 38 02 00             		 br	!!.L340
 3984                             		.loc 1 1214 0 discriminator 2
 3985 0215 8F 00 00                		mov	a, !_CFG_parameter+1
 3986 0218 9D F0                   		mov	r8, a
 3987 021a 4A F0 02                		cmp	r8, #2
 3988 021d 61 E8                   		 skz
 3989 021f EC 38 02 00             		 br	!!.L340
 3990                             		.loc 1 1214 0 discriminator 3
 3991 0223 8F 00 00                		mov	a, !_Machine_State
 3992 0226 9D F0                   		mov	r8, a
 3993 0228 4A F0 02                		cmp	r8, #2
 3994 022b 61 E8                   		 skz
 3995 022d EC 38 02 00             		 br	!!.L340
 3996                             	.L339:
 3997                             	.LBB125:
1215:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1216:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 3998                             		.loc 1 1216 0 is_stmt 1
 3999 0231 E6                      		onew	ax
 4000 0232 B8 00                   		movw	[sp], ax
 4001 0234 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 4002                             	.L340:
 4003                             	.LBE125:
1217:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1218:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1219:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//  Normally Partial Open Stop
1220:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if ((Leaf_No1_State == GATE_STATE_PARTIAL) && (Machine_State == MACHINE_STATE_PARTIAL_OPENING))
 4004                             		.loc 1 1220 0
 4005 0238 8F 00 00                		mov	a, !_Leaf_No1_State
 4006 023b 9D F0                   		mov	r8, a
 4007 023d 4A F0 05                		cmp	r8, #5
 4008 0240 61 E8                   		 skz
 4009 0242 EC 5B 02 00             		 br	!!.L341
 4010                             		.loc 1 1220 0 is_stmt 0 discriminator 1
 4011 0246 8F 00 00                		mov	a, !_Machine_State
 4012 0249 9D F0                   		mov	r8, a
 4013 024b 4A F0 03                		cmp	r8, #3
 4014 024e 61 E8                   		 skz
 4015 0250 EC 5B 02 00             		 br	!!.L341
 4016                             	.LBB126:
1221:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1222:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(OPEN_MOVING_DIRECTION);
 4017                             		.loc 1 1222 0 is_stmt 1
 4018 0254 F6                      		clrw	ax
 4019 0255 B8 00                   		movw	[sp], ax
 4020 0257 FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 4021                             	.L341:
 4022                             	.LBE126:
1223:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1224:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1225:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//  Normally Partial Close Stop
1226:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if ((Leaf_No1_State == GATE_STATE_CLOSED) && (Machine_State == MACHINE_STATE_PARTIAL_CLOSING))
 4023                             		.loc 1 1226 0
 4024 025b 8F 00 00                		mov	a, !_Leaf_No1_State
 4025 025e 9D F0                   		mov	r8, a
 4026 0260 4A F0 01                		cmp	r8, #1
 4027 0263 61 E8                   		 skz
 4028 0265 EC 7E 02 00             		 br	!!.L342
 4029                             		.loc 1 1226 0 is_stmt 0 discriminator 1
 4030 0269 8F 00 00                		mov	a, !_Machine_State
 4031 026c 9D F0                   		mov	r8, a
 4032 026e 4A F0 04                		cmp	r8, #4
 4033 0271 61 E8                   		 skz
 4034 0273 EC 7E 02 00             		 br	!!.L342
 4035                             	.LBB127:
1227:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1228:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			__Do_Partial_Stop_Gate(CLOSE_MOVING_DIRECTION);
 4036                             		.loc 1 1228 0 is_stmt 1
 4037 0277 E6                      		onew	ax
 4038 0278 B8 00                   		movw	[sp], ax
 4039 027a FC 00 00 00             		call	!!%code(___Do_Partial_Stop_Gate)
 4040                             	.L342:
 4041                             	.LBE127:
1229:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1230:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1231:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FCA1_IN && (CFG_parameter.Limit_Switch_Config != 0x00))
 4042                             		.loc 1 1231 0
 4043 027e C9 F0 04 FF             		movw	r8, #-252
 4044 0282 AD F0                   		movw	ax, r8
 4045 0284 BD F2                   		movw	r10, ax
 4046 0286 FA F2                   		movw	hl, r10
 4047 0288 8B                      		mov	a, [hl]
 4048 0289 9D F0                   		mov	r8, a
 4049 028b 31 1A                   		shr	a, 1
 4050 028d 9D F0                   		mov	r8, a
 4051 028f 5A F0 01                		and	r8, #1
 4052 0292 61 F8                   		sknz
 4053 0294 EC A9 02 00             		 br	!!.L343
 4054                             		 # zero-comparison eliminated
 4055                             		.loc 1 1231 0 is_stmt 0 discriminator 1
 4056 0298 8F 00 00                		mov	a, !_CFG_parameter+71
 4057 029b 9D F0                   		mov	r8, a
 4058 029d D4 F0                   		cmp0	r8
 4059 029f 61 F8                   		 sknz
 4060 02a1 EC A9 02 00             		 br	!!.L343
1232:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1233:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Open_Limit_Switch_No1_Process();
 4061                             		.loc 1 1233 0 is_stmt 1
 4062 02a5 FC 00 00 00             		call	!!%code(_Open_Limit_Switch_No1_Process)
 4063                             	.L343:
1234:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1235:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1236:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FCA2_IN && (CFG_parameter.Limit_Switch_Config != 0x00))
 4064                             		.loc 1 1236 0
 4065 02a9 C9 F0 04 FF             		movw	r8, #-252
 4066 02ad AD F0                   		movw	ax, r8
 4067 02af BD F4                   		movw	r12, ax
 4068 02b1 FA F4                   		movw	hl, r12
 4069 02b3 8B                      		mov	a, [hl]
 4070 02b4 9D F0                   		mov	r8, a
 4071 02b6 31 3A                   		shr	a, 3
 4072 02b8 9D F0                   		mov	r8, a
 4073 02ba 5A F0 01                		and	r8, #1
 4074 02bd 61 F8                   		sknz
 4075 02bf EC D4 02 00             		 br	!!.L344
 4076                             		 # zero-comparison eliminated
 4077                             		.loc 1 1236 0 is_stmt 0 discriminator 1
 4078 02c3 8F 00 00                		mov	a, !_CFG_parameter+71
 4079 02c6 9D F0                   		mov	r8, a
 4080 02c8 D4 F0                   		cmp0	r8
 4081 02ca 61 F8                   		 sknz
 4082 02cc EC D4 02 00             		 br	!!.L344
1237:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1238:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Open_Limit_Switch_No2_Process();
 4083                             		.loc 1 1238 0 is_stmt 1
 4084 02d0 FC 00 00 00             		call	!!%code(_Open_Limit_Switch_No2_Process)
 4085                             	.L344:
1239:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1240:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1241:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FCC1_IN && (CFG_parameter.Limit_Switch_Config == 0x01))
 4086                             		.loc 1 1241 0
 4087 02d4 C9 F0 04 FF             		movw	r8, #-252
 4088 02d8 AD F0                   		movw	ax, r8
 4089 02da BD F2                   		movw	r10, ax
 4090 02dc FA F2                   		movw	hl, r10
 4091 02de 8B                      		mov	a, [hl]
 4092 02df 9D F0                   		mov	r8, a
 4093 02e1 31 2A                   		shr	a, 2
 4094 02e3 9D F0                   		mov	r8, a
 4095 02e5 5A F0 01                		and	r8, #1
 4096 02e8 61 F8                   		sknz
 4097 02ea EC 00 03 00             		 br	!!.L345
 4098                             		 # zero-comparison eliminated
 4099                             		.loc 1 1241 0 is_stmt 0 discriminator 1
 4100 02ee 8F 00 00                		mov	a, !_CFG_parameter+71
 4101 02f1 9D F0                   		mov	r8, a
 4102 02f3 4A F0 01                		cmp	r8, #1
 4103 02f6 61 E8                   		 skz
 4104 02f8 EC 00 03 00             		 br	!!.L345
1242:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1243:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Close_Limit_Switch_No1_Process();
 4105                             		.loc 1 1243 0 is_stmt 1
 4106 02fc FC 00 00 00             		call	!!%code(_Close_Limit_Switch_No1_Process)
 4107                             	.L345:
1244:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1245:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1246:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FCC2_IN && (CFG_parameter.Limit_Switch_Config == 0x01))
 4108                             		.loc 1 1246 0
 4109 0300 C9 F0 0C FF             		movw	r8, #-244
 4110 0304 AD F0                   		movw	ax, r8
 4111 0306 BD F4                   		movw	r12, ax
 4112 0308 EA F4                   		movw	de, r12
 4113 030a 89                      		mov	a, [de]
 4114 030b 5C 01                   		and	a, #1
 4115 030d 9D F0                   		mov	r8, a
 4116 030f D4 F0                   		cmp0	r8
 4117 0311 61 F8                   		 sknz
 4118 0313 EC 29 03 00             		 br	!!.L346
 4119                             		.loc 1 1246 0 is_stmt 0 discriminator 1
 4120 0317 8F 00 00                		mov	a, !_CFG_parameter+71
 4121 031a 9D F0                   		mov	r8, a
 4122 031c 4A F0 01                		cmp	r8, #1
 4123 031f 61 E8                   		 skz
 4124 0321 EC 29 03 00             		 br	!!.L346
1247:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1248:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Close_Limit_Switch_No2_Process();
 4125                             		.loc 1 1248 0 is_stmt 1
 4126 0325 FC 00 00 00             		call	!!%code(_Close_Limit_Switch_No2_Process)
 4127                             	.L346:
1249:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1250:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1251:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//  Emergency Stop
1252:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (E_STOP)
 4128                             		.loc 1 1252 0
 4129 0329 C9 F0 07 FF             		movw	r8, #-249
 4130 032d AD F0                   		movw	ax, r8
 4131 032f BD F2                   		movw	r10, ax
 4132 0331 FA F2                   		movw	hl, r10
 4133 0333 8B                      		mov	a, [hl]
 4134 0334 9D F0                   		mov	r8, a
 4135 0336 31 4A                   		shr	a, 4
 4136 0338 9D F0                   		mov	r8, a
 4137 033a 5A F0 01                		and	r8, #1
 4138 033d 61 F8                   		sknz
 4139 033f EC 47 03 00             		 br	!!.L347
 4140                             		 # zero-comparison eliminated
1253:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1254:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Emergency_Stop_Process();
 4141                             		.loc 1 1254 0
 4142 0343 FC 00 00 00             		call	!!%code(_Emergency_Stop_Process)
 4143                             	.L347:
1255:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1256:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1257:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FT1)
 4144                             		.loc 1 1257 0
 4145 0347 C9 F0 07 FF             		movw	r8, #-249
 4146 034b AD F0                   		movw	ax, r8
 4147 034d BD F4                   		movw	r12, ax
 4148 034f FA F4                   		movw	hl, r12
 4149 0351 8B                      		mov	a, [hl]
 4150 0352 9D F0                   		mov	r8, a
 4151 0354 31 1A                   		shr	a, 1
 4152 0356 9D F0                   		mov	r8, a
 4153 0358 5A F0 01                		and	r8, #1
 4154 035b 61 F8                   		sknz
 4155 035d EC 65 03 00             		 br	!!.L348
 4156                             		 # zero-comparison eliminated
1258:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1259:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Photocell_FT1_Process();
 4157                             		.loc 1 1259 0
 4158 0361 FC 00 00 00             		call	!!%code(_Photocell_FT1_Process)
 4159                             	.L348:
1260:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1261:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1262:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (FT2)
 4160                             		.loc 1 1262 0
 4161 0365 C9 F0 07 FF             		movw	r8, #-249
 4162 0369 AD F0                   		movw	ax, r8
 4163 036b BD F2                   		movw	r10, ax
 4164 036d EA F2                   		movw	de, r10
 4165 036f 89                      		mov	a, [de]
 4166 0370 5C 01                   		and	a, #1
 4167 0372 9D F0                   		mov	r8, a
 4168 0374 D4 F0                   		cmp0	r8
 4169 0376 61 F8                   		 sknz
 4170 0378 EC 80 03 00             		 br	!!.L349
1263:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1264:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Photocell_FT2_Process();
 4171                             		.loc 1 1264 0
 4172 037c FC 00 00 00             		call	!!%code(_Photocell_FT2_Process)
 4173                             	.L349:
1265:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1266:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1267:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (COS1)
 4174                             		.loc 1 1267 0
 4175 0380 C9 F0 07 FF             		movw	r8, #-249
 4176 0384 AD F0                   		movw	ax, r8
 4177 0386 BD F4                   		movw	r12, ax
 4178 0388 FA F4                   		movw	hl, r12
 4179 038a 8B                      		mov	a, [hl]
 4180 038b 9D F0                   		mov	r8, a
 4181 038d 31 3A                   		shr	a, 3
 4182 038f 9D F0                   		mov	r8, a
 4183 0391 5A F0 01                		and	r8, #1
 4184 0394 61 F8                   		sknz
 4185 0396 EC 9E 03 00             		 br	!!.L350
 4186                             		 # zero-comparison eliminated
1268:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1269:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Sensing_Edge_COS1_Process();
 4187                             		.loc 1 1269 0
 4188 039a FC 00 00 00             		call	!!%code(_Sensing_Edge_COS1_Process)
 4189                             	.L350:
1270:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1271:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1272:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (COS2)
 4190                             		.loc 1 1272 0
 4191 039e C9 F0 07 FF             		movw	r8, #-249
 4192 03a2 AD F0                   		movw	ax, r8
 4193 03a4 BD F2                   		movw	r10, ax
 4194 03a6 FA F2                   		movw	hl, r10
 4195 03a8 8B                      		mov	a, [hl]
 4196 03a9 9D F0                   		mov	r8, a
 4197 03ab 31 2A                   		shr	a, 2
 4198 03ad 9D F0                   		mov	r8, a
 4199 03af 5A F0 01                		and	r8, #1
 4200 03b2 61 F8                   		sknz
 4201 03b4 EC BC 03 00             		 br	!!.L351
 4202                             		 # zero-comparison eliminated
1273:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1274:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Sensing_Edge_COS2_Process();
 4203                             		.loc 1 1274 0
 4204 03b8 FC 00 00 00             		call	!!%code(_Sensing_Edge_COS2_Process)
 4205                             	.L351:
1275:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1276:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1277:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A7] [A6]
1278:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if(Leaf_No1_State == GATE_STATE_CLOSED && Leaf_No2_State == GATE_STATE_CLOSED && flag_PP == 1)
 4206                             		.loc 1 1278 0
 4207 03bc 8F 00 00                		mov	a, !_Leaf_No1_State
 4208 03bf 9D F0                   		mov	r8, a
 4209 03c1 4A F0 01                		cmp	r8, #1
 4210 03c4 61 E8                   		 skz
 4211 03c6 EC E9 03 00             		 br	!!.L352
 4212                             		.loc 1 1278 0 is_stmt 0 discriminator 1
 4213 03ca 8F 00 00                		mov	a, !_Leaf_No2_State
 4214 03cd 9D F0                   		mov	r8, a
 4215 03cf 4A F0 01                		cmp	r8, #1
 4216 03d2 61 E8                   		 skz
 4217 03d4 EC E9 03 00             		 br	!!.L352
 4218                             		.loc 1 1278 0 discriminator 2
 4219 03d8 8F 00 00                		mov	a, !_flag_PP
 4220 03db 9D F0                   		mov	r8, a
 4221 03dd 4A F0 01                		cmp	r8, #1
 4222 03e0 61 E8                   		 skz
 4223 03e2 EC E9 03 00             		 br	!!.L352
1279:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1280:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//neu ca hai cong da dong thi co PP se tat, PE hoat dong binh thuong
1281:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			flag_PP = 0;
 4224                             		.loc 1 1281 0 is_stmt 1
 4225 03e6 F5 00 00                		clrb	!_flag_PP
 4226                             	.L352:
1282:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1283:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!PED_IN)						// Partial Command is activated
 4227                             		.loc 1 1283 0
 4228 03e9 C9 F0 06 FF             		movw	r8, #-250
 4229 03ed AD F0                   		movw	ax, r8
 4230 03ef BD F4                   		movw	r12, ax
 4231 03f1 EA F4                   		movw	de, r12
 4232 03f3 89                      		mov	a, [de]
 4233 03f4 5C 01                   		and	a, #1
 4234 03f6 9D F0                   		mov	r8, a
 4235 03f8 D4 F0                   		cmp0	r8
 4236 03fa 61 E8                   		 skz
 4237 03fc EC 5E 04 00             		 br	!!.L353
1284:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1285:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while(!PED_IN);
 4238                             		.loc 1 1285 0
 4239 0400 00                      		nop
 4240                             	.L354:
 4241                             		.loc 1 1285 0 is_stmt 0 discriminator 1
 4242 0401 C9 F0 06 FF             		movw	r8, #-250
 4243 0405 AD F0                   		movw	ax, r8
 4244 0407 BD F2                   		movw	r10, ax
 4245 0409 EA F2                   		movw	de, r10
 4246 040b 89                      		mov	a, [de]
 4247 040c 5C 01                   		and	a, #1
 4248 040e 9D F0                   		mov	r8, a
 4249 0410 D4 F0                   		cmp0	r8
 4250 0412 61 F8                   		 sknz
 4251 0414 EC 01 04 00             		 br	!!.L354
1286:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code [A4]
1287:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if(CFG_parameter.Step_Mode == 0x01)
 4252                             		.loc 1 1287 0 is_stmt 1
 4253 0418 8F 00 00                		mov	a, !_CFG_parameter+35
 4254 041b 9D F0                   		mov	r8, a
 4255 041d 4A F0 01                		cmp	r8, #1
 4256 0420 61 E8                   		 skz
 4257 0422 EC 2A 04 00             		 br	!!.L355
1288:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1289:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Automatic_Close_Count = 0;
 4258                             		.loc 1 1289 0
 4259 0426 F6                      		clrw	ax
 4260 0427 BF 00 00                		movw	!_Automatic_Close_Count, ax
 4261                             	.L355:
1290:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1291:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code [A4]
1292:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if((CFG_parameter.Manual_Function == 0x00) && (flag_PP == 0))
 4262                             		.loc 1 1292 0
 4263 042a 8F 00 00                		mov	a, !_CFG_parameter+42
 4264 042d 9D F0                   		mov	r8, a
 4265 042f D4 F0                   		cmp0	r8
 4266 0431 61 E8                   		 skz
 4267 0433 EC 5E 04 00             		 br	!!.L353
 4268                             		.loc 1 1292 0 is_stmt 0 discriminator 1
 4269 0437 8F 00 00                		mov	a, !_flag_PP
 4270 043a 9D F0                   		mov	r8, a
 4271 043c D4 F0                   		cmp0	r8
 4272 043e 61 E8                   		 skz
 4273 0440 EC 5E 04 00             		 br	!!.L353
 4274                             	.LBB128:
1293:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1294:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				if (Power_failure == POWER_FAILURE_STATE)
 4275                             		.loc 1 1294 0 is_stmt 1
 4276 0444 8F 00 00                		mov	a, !_Power_failure
 4277 0447 9D F0                   		mov	r8, a
 4278 0449 4A F0 01                		cmp	r8, #1
 4279 044c 61 E8                   		 skz
 4280 044e EC 5A 04 00             		 br	!!.L356
1295:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Power_Failure_Recovery_Process();
 4281                             		.loc 1 1295 0
 4282 0452 FC 00 00 00             		call	!!%code(_Power_Failure_Recovery_Process)
 4283 0456 EC 5E 04 00             		br	!!.L353
 4284                             	.L356:
1296:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				else
1297:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 					Partial_Command_Process();		// Partial Command Procedure
 4285                             		.loc 1 1297 0
 4286 045a FC 00 00 00             		call	!!%code(_Partial_Command_Process)
 4287                             	.L353:
 4288                             	.LBE128:
1298:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1299:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1300:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1301:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A7] [A6]
1302:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1303:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		//admin
1304:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		if (!PED_IN)						// Partial Command is activated
1305:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		{
1306:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			while(!PED_IN);
1307:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			if (Power_failure == POWER_FAILURE_STATE)
1308:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //				Power_Failure_Recovery_Process();
1309:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			else
1310:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //				Partial_Command_Process();		// Partial Command Procedure
1311:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		}
1312:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		//admin
1313:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1314:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A7] [A6]
1315:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if ((!PP_IN) && (CFG_parameter.Manual_Function == 0x00))							// Step Command is activated
 4289                             		.loc 1 1315 0
 4290 045e C9 F0 06 FF             		movw	r8, #-250
 4291 0462 AD F0                   		movw	ax, r8
 4292 0464 BD F4                   		movw	r12, ax
 4293 0466 FA F4                   		movw	hl, r12
 4294 0468 8B                      		mov	a, [hl]
 4295 0469 9D F0                   		mov	r8, a
 4296 046b 31 1A                   		shr	a, 1
 4297 046d 9D F0                   		mov	r8, a
 4298 046f 5A F0 01                		and	r8, #1
 4299 0472 61 E8                   		skz
 4300 0474 EC F8 04 00             		 br	!!.L357
 4301                             		 # zero-comparison eliminated
 4302                             		.loc 1 1315 0 is_stmt 0 discriminator 1
 4303 0478 8F 00 00                		mov	a, !_CFG_parameter+42
 4304 047b 9D F0                   		mov	r8, a
 4305 047d D4 F0                   		cmp0	r8
 4306 047f 61 E8                   		 skz
 4307 0481 EC F8 04 00             		 br	!!.L357
 4308                             	.LBB129:
1316:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1317:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while(!PP_IN);
 4309                             		.loc 1 1317 0 is_stmt 1
 4310 0485 00                      		nop
 4311                             	.L358:
 4312                             		.loc 1 1317 0 is_stmt 0 discriminator 1
 4313 0486 C9 F0 06 FF             		movw	r8, #-250
 4314 048a AD F0                   		movw	ax, r8
 4315 048c BD F2                   		movw	r10, ax
 4316 048e FA F2                   		movw	hl, r10
 4317 0490 8B                      		mov	a, [hl]
 4318 0491 9D F0                   		mov	r8, a
 4319 0493 31 1A                   		shr	a, 1
 4320 0495 9D F0                   		mov	r8, a
 4321 0497 5A F0 01                		and	r8, #1
 4322 049a 61 F8                   		sknz
 4323 049c EC 86 04 00             		 br	!!.L358
 4324                             		 # zero-comparison eliminated
1318:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code
1319:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (flag_PP == 0 && Leaf_No1_State == GATE_STATE_CLOSED && Leaf_No2_State == GATE_STATE_CLOSED)
 4325                             		.loc 1 1319 0 is_stmt 1
 4326 04a0 8F 00 00                		mov	a, !_flag_PP
 4327 04a3 9D F0                   		mov	r8, a
 4328 04a5 D4 F0                   		cmp0	r8
 4329 04a7 61 E8                   		 skz
 4330 04a9 EC CC 04 00             		 br	!!.L359
 4331                             		.loc 1 1319 0 is_stmt 0 discriminator 1
 4332 04ad 8F 00 00                		mov	a, !_Leaf_No1_State
 4333 04b0 9D F0                   		mov	r8, a
 4334 04b2 4A F0 01                		cmp	r8, #1
 4335 04b5 61 E8                   		 skz
 4336 04b7 EC CC 04 00             		 br	!!.L359
 4337                             		.loc 1 1319 0 discriminator 2
 4338 04bb 8F 00 00                		mov	a, !_Leaf_No2_State
 4339 04be 9D F0                   		mov	r8, a
 4340 04c0 4A F0 01                		cmp	r8, #1
 4341 04c3 61 E8                   		 skz
 4342 04c5 EC CC 04 00             		 br	!!.L359
1320:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1321:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				//Neu da nhan PP, thi co PP duoc bat, PE se bi vo hieu hoa
1322:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				flag_PP = 1;
 4343                             		.loc 1 1322 0 is_stmt 1
 4344 04c9 E5 00 00                		oneb	!_flag_PP
 4345                             	.L359:
1323:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1324:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code
1325:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1326:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1327:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code [A4]
1328:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if(CFG_parameter.Step_Mode == 0x01)
 4346                             		.loc 1 1328 0
 4347 04cc 8F 00 00                		mov	a, !_CFG_parameter+35
 4348 04cf 9D F0                   		mov	r8, a
 4349 04d1 4A F0 01                		cmp	r8, #1
 4350 04d4 61 E8                   		 skz
 4351 04d6 EC DE 04 00             		 br	!!.L360
1329:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1330:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Automatic_Close_Count = 0;
 4352                             		.loc 1 1330 0
 4353 04da F6                      		clrw	ax
 4354 04db BF 00 00                		movw	!_Automatic_Close_Count, ax
 4355                             	.L360:
1331:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1332:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			//code [A4]
1333:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1334:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (Power_failure == POWER_FAILURE_STATE)
 4356                             		.loc 1 1334 0
 4357 04de 8F 00 00                		mov	a, !_Power_failure
 4358 04e1 9D F0                   		mov	r8, a
 4359 04e3 4A F0 01                		cmp	r8, #1
 4360 04e6 61 E8                   		 skz
 4361 04e8 EC F4 04 00             		 br	!!.L361
1335:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Power_Failure_Recovery_Process();
 4362                             		.loc 1 1335 0
 4363 04ec FC 00 00 00             		call	!!%code(_Power_Failure_Recovery_Process)
 4364 04f0 EC F8 04 00             		br	!!.L357
 4365                             	.L361:
1336:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			else
1337:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Step_Command_Process();			// Step Command Procedure
 4366                             		.loc 1 1337 0
 4367 04f4 FC 00 00 00             		call	!!%code(_Step_Command_Process)
 4368                             	.L357:
 4369                             	.LBE129:
1338:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1339:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		//code [A7] [A6]
1340:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1341:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		//admin
1342:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		if (!PP_IN)							// Step Command is activated
1343:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		{
1344:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			while(!PP_IN);
1345:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			//code
1346:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			if (flag_PP == 0 && Leaf_No1_State == GATE_STATE_CLOSED && Leaf_No2_State == GATE_STATE_CLOSED
1347:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			{
1348:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //				flag_PP = 1;
1349:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			}
1350:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			//code
1351:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			if (Power_failure == POWER_FAILURE_STATE)
1352:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //				Power_Failure_Recovery_Process();
1353:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			else
1354:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //				Step_Command_Process();			// Step Command Procedure
1355:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		}
1356:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //		//admin
1357:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1358:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!CH_IN)							// Close Command is activated
 4370                             		.loc 1 1358 0
 4371 04f8 C9 F0 06 FF             		movw	r8, #-250
 4372 04fc AD F0                   		movw	ax, r8
 4373 04fe BD F4                   		movw	r12, ax
 4374 0500 FA F4                   		movw	hl, r12
 4375 0502 8B                      		mov	a, [hl]
 4376 0503 9D F0                   		mov	r8, a
 4377 0505 31 2A                   		shr	a, 2
 4378 0507 9D F0                   		mov	r8, a
 4379 0509 5A F0 01                		and	r8, #1
 4380 050c 61 E8                   		skz
 4381 050e EC 16 05 00             		 br	!!.L362
 4382                             		 # zero-comparison eliminated
1359:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1360:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Close_Command_Process();		// Close Command Procedure
 4383                             		.loc 1 1360 0
 4384 0512 FC 00 00 00             		call	!!%code(_Close_Command_Process)
 4385                             	.L362:
1361:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1362:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1363:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (
1364:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			(CH_IN)
 4386                             		.loc 1 1364 0
 4387 0516 C9 F0 06 FF             		movw	r8, #-250
 4388 051a AD F0                   		movw	ax, r8
 4389 051c BD F2                   		movw	r10, ax
 4390 051e FA F2                   		movw	hl, r10
 4391 0520 8B                      		mov	a, [hl]
 4392 0521 9D F0                   		mov	r8, a
 4393 0523 31 2A                   		shr	a, 2
 4394 0525 9D F0                   		mov	r8, a
 4395 0527 5A F0 01                		and	r8, #1
1363:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			(CH_IN)
 4396                             		.loc 1 1363 0
 4397 052a 61 F8                   		sknz
 4398 052c EC 6D 05 00             		 br	!!.L363
 4399                             		 # zero-comparison eliminated
1365:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			&& (Last_Close_Command_State == COMMAND_PRESSED_STATE)
 4400                             		.loc 1 1365 0
 4401 0530 8F 00 00                		mov	a, !_Last_Close_Command_State
 4402 0533 9D F0                   		mov	r8, a
 4403 0535 D4 F0                   		cmp0	r8
 4404 0537 61 E8                   		 skz
 4405 0539 EC 6D 05 00             		 br	!!.L363
1366:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			&& (CFG_parameter.Manual_Function == 0x01)
 4406                             		.loc 1 1366 0
 4407 053d 8F 00 00                		mov	a, !_CFG_parameter+42
 4408 0540 9D F0                   		mov	r8, a
 4409 0542 4A F0 01                		cmp	r8, #1
 4410 0545 61 E8                   		 skz
 4411 0547 EC 6D 05 00             		 br	!!.L363
1367:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			)
1368:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1369:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (Machine_State == MACHINE_STATE_NORMAL_CLOSING)
 4412                             		.loc 1 1369 0
 4413 054b 8F 00 00                		mov	a, !_Machine_State
 4414 054e 9D F0                   		mov	r8, a
 4415 0550 4A F0 02                		cmp	r8, #2
 4416 0553 61 E8                   		 skz
 4417 0555 EC 6A 05 00             		 br	!!.L364
 4418                             	.LBB130:
1370:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1371:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_CLOSING_PAUSE;
 4419                             		.loc 1 1371 0
 4420 0559 51 07                   		mov	a, #7
 4421 055b 9F 00 00                		mov	!_Leaf_No1_State, a
1372:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_CLOSING_PAUSE;
 4422                             		.loc 1 1372 0
 4423 055e 51 07                   		mov	a, #7
 4424 0560 9F 00 00                		mov	!_Leaf_No2_State, a
1373:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(CLOSE_MOVING_DIRECTION);
 4425                             		.loc 1 1373 0
 4426 0563 E6                      		onew	ax
 4427 0564 B8 00                   		movw	[sp], ax
 4428 0566 FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 4429                             	.L364:
 4430                             	.LBE130:
1374:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1375:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1376:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Last_Close_Command_State = COMMAND_RELEASE_STATE;
 4431                             		.loc 1 1376 0
 4432 056a E5 00 00                		oneb	!_Last_Close_Command_State
 4433                             	.L363:
1377:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1378:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1379:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if 	(!AP_IN)
 4434                             		.loc 1 1379 0
 4435 056d C9 F0 06 FF             		movw	r8, #-250
 4436 0571 AD F0                   		movw	ax, r8
 4437 0573 BD F4                   		movw	r12, ax
 4438 0575 FA F4                   		movw	hl, r12
 4439 0577 8B                      		mov	a, [hl]
 4440 0578 9D F0                   		mov	r8, a
 4441 057a 31 3A                   		shr	a, 3
 4442 057c 9D F0                   		mov	r8, a
 4443 057e 5A F0 01                		and	r8, #1
 4444 0581 61 E8                   		skz
 4445 0583 EC 8B 05 00             		 br	!!.L365
 4446                             		 # zero-comparison eliminated
1380:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1381:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Open_Command_Process();		// Open Command Procedure
 4447                             		.loc 1 1381 0
 4448 0587 FC 00 00 00             		call	!!%code(_Open_Command_Process)
 4449                             	.L365:
1382:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1383:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1384:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (
1385:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			(AP_IN)
 4450                             		.loc 1 1385 0
 4451 058b C9 F0 06 FF             		movw	r8, #-250
 4452 058f AD F0                   		movw	ax, r8
 4453 0591 BD F2                   		movw	r10, ax
 4454 0593 FA F2                   		movw	hl, r10
 4455 0595 8B                      		mov	a, [hl]
 4456 0596 9D F0                   		mov	r8, a
 4457 0598 31 3A                   		shr	a, 3
 4458 059a 9D F0                   		mov	r8, a
 4459 059c 5A F0 01                		and	r8, #1
1384:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			(AP_IN)
 4460                             		.loc 1 1384 0
 4461 059f 61 F8                   		sknz
 4462 05a1 EC E2 05 00             		 br	!!.L366
 4463                             		 # zero-comparison eliminated
1386:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			&& (Last_Open_Command_State == COMMAND_PRESSED_STATE)
 4464                             		.loc 1 1386 0
 4465 05a5 8F 00 00                		mov	a, !_Last_Open_Command_State
 4466 05a8 9D F0                   		mov	r8, a
 4467 05aa D4 F0                   		cmp0	r8
 4468 05ac 61 E8                   		 skz
 4469 05ae EC E2 05 00             		 br	!!.L366
1387:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			&& (CFG_parameter.Manual_Function == 0x01)
 4470                             		.loc 1 1387 0
 4471 05b2 8F 00 00                		mov	a, !_CFG_parameter+42
 4472 05b5 9D F0                   		mov	r8, a
 4473 05b7 4A F0 01                		cmp	r8, #1
 4474 05ba 61 E8                   		 skz
 4475 05bc EC E2 05 00             		 br	!!.L366
1388:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			)
1389:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1390:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if (Machine_State == MACHINE_STATE_NORMAL_OPENING)
 4476                             		.loc 1 1390 0
 4477 05c0 8F 00 00                		mov	a, !_Machine_State
 4478 05c3 9D F0                   		mov	r8, a
 4479 05c5 4A F0 01                		cmp	r8, #1
 4480 05c8 61 E8                   		 skz
 4481 05ca EC DF 05 00             		 br	!!.L367
 4482                             	.LBB131:
1391:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				{
1392:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No1_State = GATE_STATE_OPENING_PAUSE;
 4483                             		.loc 1 1392 0
 4484 05ce 51 06                   		mov	a, #6
 4485 05d0 9F 00 00                		mov	!_Leaf_No1_State, a
1393:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Leaf_No2_State = GATE_STATE_OPENING_PAUSE;
 4486                             		.loc 1 1393 0
 4487 05d3 51 06                   		mov	a, #6
 4488 05d5 9F 00 00                		mov	!_Leaf_No2_State, a
1394:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				__Do_Stop_Gate(OPEN_MOVING_DIRECTION);
 4489                             		.loc 1 1394 0
 4490 05d8 F6                      		clrw	ax
 4491 05d9 B8 00                   		movw	[sp], ax
 4492 05db FC 00 00 00             		call	!!%code(___Do_Stop_Gate)
 4493                             	.L367:
 4494                             	.LBE131:
1395:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				}
1396:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Last_Open_Command_State = COMMAND_RELEASE_STATE;
 4495                             		.loc 1 1396 0
 4496 05df E5 00 00                		oneb	!_Last_Open_Command_State
 4497                             	.L366:
1397:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1398:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1399:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!ORO_IN)						// Clock function is activated
 4498                             		.loc 1 1399 0
 4499 05e2 C9 F0 03 FF             		movw	r8, #-253
 4500 05e6 AD F0                   		movw	ax, r8
 4501 05e8 BD F4                   		movw	r12, ax
 4502 05ea FA F4                   		movw	hl, r12
 4503 05ec 8B                      		mov	a, [hl]
 4504 05ed 9D F0                   		mov	r8, a
 4505 05ef 31 1A                   		shr	a, 1
 4506 05f1 9D F0                   		mov	r8, a
 4507 05f3 5A F0 01                		and	r8, #1
 4508 05f6 61 E8                   		skz
 4509 05f8 EC 00 06 00             		 br	!!.L368
 4510                             		 # zero-comparison eliminated
1400:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1401:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Clock_Command_Process();	// Clock Command Procedure
 4511                             		.loc 1 1401 0
 4512 05fc FC 00 00 00             		call	!!%code(_Clock_Command_Process)
 4513                             	.L368:
1402:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1403:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1404:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!TEST_KEY)						// Test_Key is pressed
 4514                             		.loc 1 1404 0
 4515 0600 C9 F0 0E FF             		movw	r8, #-242
 4516 0604 AD F0                   		movw	ax, r8
 4517 0606 BD F2                   		movw	r10, ax
 4518 0608 FA F2                   		movw	hl, r10
 4519 060a 8B                      		mov	a, [hl]
 4520 060b 9D F0                   		mov	r8, a
 4521 060d 31 7A                   		shr	a, 7
 4522 060f 9D F0                   		mov	r8, a
 4523 0611 D4 F0                   		cmp0	r8
 4524 0613 61 E8                   		 skz
 4525 0615 EC 37 06 00             		 br	!!.L369
1405:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1406:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while(!TEST_KEY);				// Do nothing while Test_Key is still pressed
 4526                             		.loc 1 1406 0
 4527 0619 00                      		nop
 4528                             	.L370:
 4529                             		.loc 1 1406 0 is_stmt 0 discriminator 1
 4530 061a C9 F0 0E FF             		movw	r8, #-242
 4531 061e AD F0                   		movw	ax, r8
 4532 0620 BD F4                   		movw	r12, ax
 4533 0622 FA F4                   		movw	hl, r12
 4534 0624 8B                      		mov	a, [hl]
 4535 0625 9D F0                   		mov	r8, a
 4536 0627 31 7A                   		shr	a, 7
 4537 0629 9D F0                   		mov	r8, a
 4538 062b D4 F0                   		cmp0	r8
 4539 062d 61 F8                   		 sknz
 4540 062f EC 1A 06 00             		 br	!!.L370
1407:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			TestPB_Pressed_Process();
 4541                             		.loc 1 1407 0 is_stmt 1
 4542 0633 FC 00 00 00             		call	!!%code(_TestPB_Pressed_Process)
 4543                             	.L369:
1408:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1409:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1410:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!LEFT_KEY)						// Left_Key is pressed
 4544                             		.loc 1 1410 0
 4545 0637 C9 F0 07 FF             		movw	r8, #-249
 4546 063b AD F0                   		movw	ax, r8
 4547 063d BD F2                   		movw	r10, ax
 4548 063f FA F2                   		movw	hl, r10
 4549 0641 8B                      		mov	a, [hl]
 4550 0642 9D F0                   		mov	r8, a
 4551 0644 31 7A                   		shr	a, 7
 4552 0646 9D F0                   		mov	r8, a
 4553 0648 D4 F0                   		cmp0	r8
 4554 064a 61 E8                   		 skz
 4555 064c EC 6E 06 00             		 br	!!.L371
 4556                             	.LBB132:
1411:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1412:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while(!LEFT_KEY);				// Do nothing while Left_Key is still pressed
 4557                             		.loc 1 1412 0
 4558 0650 00                      		nop
 4559                             	.L372:
 4560                             		.loc 1 1412 0 is_stmt 0 discriminator 1
 4561 0651 C9 F0 07 FF             		movw	r8, #-249
 4562 0655 AD F0                   		movw	ax, r8
 4563 0657 BD F4                   		movw	r12, ax
 4564 0659 FA F4                   		movw	hl, r12
 4565 065b 8B                      		mov	a, [hl]
 4566 065c 9D F0                   		mov	r8, a
 4567 065e 31 7A                   		shr	a, 7
 4568 0660 9D F0                   		mov	r8, a
 4569 0662 D4 F0                   		cmp0	r8
 4570 0664 61 F8                   		 sknz
 4571 0666 EC 51 06 00             		 br	!!.L372
1413:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Parameters_Edit_Process();		// Edit Parameters Procedure
 4572                             		.loc 1 1413 0 is_stmt 1
 4573 066a FC 00 00 00             		call	!!%code(_Parameters_Edit_Process)
 4574                             	.L371:
 4575                             	.LBE132:
1414:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1415:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1416:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if (!RIGHT_KEY)						// Right_Key is pressed
 4576                             		.loc 1 1416 0
 4577 066e C9 F0 07 FF             		movw	r8, #-249
 4578 0672 AD F0                   		movw	ax, r8
 4579 0674 BD F2                   		movw	r10, ax
 4580 0676 FA F2                   		movw	hl, r10
 4581 0678 8B                      		mov	a, [hl]
 4582 0679 9D F0                   		mov	r8, a
 4583 067b 31 5A                   		shr	a, 5
 4584 067d 9D F0                   		mov	r8, a
 4585 067f 5A F0 01                		and	r8, #1
 4586 0682 61 E8                   		skz
 4587 0684 EC A7 06 00             		 br	!!.L373
 4588                             		 # zero-comparison eliminated
 4589                             	.LBB133:
1417:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1418:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while(!RIGHT_KEY);				// Do nothing while Right_Key is still pressed
 4590                             		.loc 1 1418 0
 4591 0688 00                      		nop
 4592                             	.L374:
 4593                             		.loc 1 1418 0 is_stmt 0 discriminator 1
 4594 0689 C9 F0 07 FF             		movw	r8, #-249
 4595 068d AD F0                   		movw	ax, r8
 4596 068f BD F4                   		movw	r12, ax
 4597 0691 FA F4                   		movw	hl, r12
 4598 0693 8B                      		mov	a, [hl]
 4599 0694 9D F0                   		mov	r8, a
 4600 0696 31 5A                   		shr	a, 5
 4601 0698 9D F0                   		mov	r8, a
 4602 069a 5A F0 01                		and	r8, #1
 4603 069d 61 F8                   		sknz
 4604 069f EC 89 06 00             		 br	!!.L374
 4605                             		 # zero-comparison eliminated
1419:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Parameters_Edit_Process();		// Edit Parameters Procedure
 4606                             		.loc 1 1419 0 is_stmt 1
 4607 06a3 FC 00 00 00             		call	!!%code(_Parameters_Edit_Process)
 4608                             	.L373:
 4609                             	.LBE133:
1420:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1421:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1422:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		if ((!PROG_KEY) && (Machine_State == MACHINE_STATE_STOP))	// Prog_Key is pressed
 4610                             		.loc 1 1422 0
 4611 06a7 C9 F0 01 FF             		movw	r8, #-255
 4612 06ab AD F0                   		movw	ax, r8
 4613 06ad BD F2                   		movw	r10, ax
 4614 06af FA F2                   		movw	hl, r10
 4615 06b1 8B                      		mov	a, [hl]
 4616 06b2 9D F0                   		mov	r8, a
 4617 06b4 31 6A                   		shr	a, 6
 4618 06b6 9D F0                   		mov	r8, a
 4619 06b8 5A F0 01                		and	r8, #1
 4620 06bb 61 E8                   		skz
 4621 06bd EC 0D 07 00             		 br	!!.L375
 4622                             		 # zero-comparison eliminated
 4623                             		.loc 1 1422 0 is_stmt 0 discriminator 1
 4624 06c1 8F 00 00                		mov	a, !_Machine_State
 4625 06c4 9D F0                   		mov	r8, a
 4626 06c6 D4 F0                   		cmp0	r8
 4627 06c8 61 E8                   		 skz
 4628 06ca EC 0D 07 00             		 br	!!.L375
1423:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		{
1424:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			Key_Tick_Count = 0;										// Reset Tick count
 4629                             		.loc 1 1424 0 is_stmt 1
 4630 06ce F6                      		clrw	ax
 4631 06cf BF 00 00                		movw	!_Key_Tick_Count, ax
1425:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			R_TAU0_Channel1_Start();								// Start Timer channel 1
1426:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			while((!PROG_KEY) && (Key_Tick_Count < 400)); 			// Check time that Prog_Key pressed
 4632                             		.loc 1 1426 0
 4633 06d2 00                      		nop
 4634                             	.L377:
 4635                             		.loc 1 1426 0 is_stmt 0 discriminator 2
 4636 06d3 C9 F0 01 FF             		movw	r8, #-255
 4637 06d7 AD F0                   		movw	ax, r8
 4638 06d9 BD F4                   		movw	r12, ax
 4639 06db FA F4                   		movw	hl, r12
 4640 06dd 8B                      		mov	a, [hl]
 4641 06de 9D F0                   		mov	r8, a
 4642 06e0 31 6A                   		shr	a, 6
 4643 06e2 9D F0                   		mov	r8, a
 4644 06e4 5A F0 01                		and	r8, #1
 4645 06e7 61 E8                   		skz
 4646 06e9 EC FB 06 00             		 br	!!.L376
 4647                             		 # zero-comparison eliminated
 4648                             		.loc 1 1426 0 discriminator 1
 4649 06ed AF 00 00                		movw	ax, !_Key_Tick_Count
 4650 06f0 BD F0                   		movw	r8, ax
 4651 06f2 44 8F 01                		cmpw	ax, #399
 4652 06f5 61 E3                   		 skh
 4653 06f7 EC D3 06 00             		 br	!!.L377
 4654                             	.L376:
1427:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** //			R_TAU0_Channel1_Stop();									// Stop Timer channel 1
1428:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 
1429:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			if(Key_Tick_Count >= 400)
 4655                             		.loc 1 1429 0 is_stmt 1
 4656 06fb AF 00 00                		movw	ax, !_Key_Tick_Count
 4657 06fe BD F0                   		movw	r8, ax
 4658 0700 44 8F 01                		cmpw	ax, #399
 4659 0703 61 E3                   		 skh
 4660 0705 EC 0D 07 00             		 br	!!.L375
 4661                             	.LBB134:
1430:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			{
1431:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 				Program_Command_Process();							// Travel Acquisition Procedure
 4662                             		.loc 1 1431 0
 4663 0709 FC 00 00 00             		call	!!%code(_Program_Command_Process)
 4664                             	.L375:
 4665                             	.LBE134:
1432:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 			}
1433:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 		}
1434:../DGC_A230_Functions/DGC_A230_Normal_Mode.c **** 	}
 4666                             		.loc 1 1434 0
 4667 070d EC 02 00 00             		br	!!.L378
 4668                             	.LFE22:
 4940                             	.Letext0:
 4941                             		.file 2 "E:/AIoT/Code/Rogger/DGC_A230_6_Rev_1_0_Software/generate/iodefine.h"
 4942                             		.file 3 "E:\\AIoT\\Code\\Rogger\\DGC_A230_6_Rev_1_0_Software\\src/r_cg_macrodriver.h"
 4943                             		.file 4 "E:\\AIoT\\Code\\Rogger\\DGC_A230_6_Rev_1_0_Software\\DGC_A230_Functions/DGC_A230_Define.h
